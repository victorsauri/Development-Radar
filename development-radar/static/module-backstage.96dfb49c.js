"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1850],{443:function(Ge,Ne,p){p.d(Ne,{r:function(){return w}});var R=p(30466),T=p(35278),b=p(67294),Q=p(62509),ke=p(54098),Xe=p.n(ke),X=p(44586),Y=p(1604),a=(m=>(m.DENY="DENY",m.ALLOW="ALLOW",m.CONDITIONAL="CONDITIONAL",m))(a||{});function $(m,f){return m.name===f.name}function Me(m,f){return"resourceType"in m?!f||m.resourceType===f:!1}function ze(m){return m.attributes.action==="create"}function pe(m){return m.attributes.action==="read"}function te(m){return m.attributes.action==="update"}function nt(m){return m.attributes.action==="delete"}function ce(m){return{authorize:async(f,S)=>await m.authorize(f,S),authorizeConditional(f,S){const M=f;return m.authorize(M,S)}}}function ge({name:m,attributes:f,resourceType:S}){return S?{type:"resource",name:m,attributes:f,resourceType:S}:{type:"basic",name:m,attributes:f}}const we=Y.z.lazy(()=>Y.z.object({rule:Y.z.string(),resourceType:Y.z.string(),params:Y.z.record(Y.z.any()).optional()}).or(Y.z.object({anyOf:Y.z.array(we).nonempty()})).or(Y.z.object({allOf:Y.z.array(we).nonempty()})).or(Y.z.object({not:we}))),H=Y.z.object({result:Y.z.literal(a.ALLOW).or(Y.z.literal(a.DENY))}),J=Y.z.union([Y.z.object({result:Y.z.literal(a.ALLOW).or(Y.z.literal(a.DENY))}),Y.z.object({result:Y.z.literal(a.CONDITIONAL),pluginId:Y.z.string(),resourceType:Y.z.string(),conditions:we})]),ae=(m,f)=>Y.z.object({items:Y.z.array(Y.z.intersection(Y.z.object({id:Y.z.string()}),m)).refine(S=>S.length===f.size&&S.every(({id:M})=>f.has(M)),{message:"Items in response do not match request"})});class Be{constructor(f){var S;this.discovery=f.discovery,this.enabled=(S=f.config.getOptionalBoolean("permission.enabled"))!=null?S:!1}async authorize(f,S){return this.makeRequest(f,H,S)}async authorizeConditional(f,S){return this.makeRequest(f,J,S)}async makeRequest(f,S,M){if(!this.enabled)return f.map(Se=>({result:a.ALLOW}));const O={items:f.map(Se=>({id:X.Z(),...Se}))},W=await this.discovery.getBaseUrl("permission"),z=await Xe()(`${W}/authorize`,{method:"POST",body:JSON.stringify(O),headers:{...this.getAuthorizationHeader(M==null?void 0:M.token),"content-type":"application/json"}});if(!z.ok)throw await Q.VL.fromResponse(z);const ee=await z.json(),be=ae(S,new Set(O.items.map(({id:Se})=>Se))).parse(ee).items.reduce((Se,Ue)=>(Se[Ue.id]=Ue,Se),{});return O.items.map(Se=>be[Se.id])}getAuthorizationHeader(f){return f?{Authorization:`Bearer ${f}`}:{}}}var me=p(83757);const We=(0,T.T0)({id:"plugin.permission.api"});class Ke{constructor(f,S){this.permissionClient=f,this.identityApi=S}static create(f){const{config:S,discovery:M,identity:O}=f,W=new Be({discovery:M,config:S});return new Ke(W,O)}async authorize(f){return(await this.permissionClient.authorize([f],await this.identityApi.getCredentials()))[0]}}function re(m){const f=useApi(We),{data:S,error:M}=useSWR(m,async O=>{if(isResourcePermission(O.permission)&&!O.resourceRef)return AuthorizeResult.DENY;const{result:W}=await f.authorize(O);return W});return M?{error:M,loading:!1,allowed:!1}:S===void 0?{loading:!0,allowed:!1}:{loading:!1,allowed:S===AuthorizeResult.ALLOW}}const $t=m=>{const{permission:f,resourceRef:S,errorComponent:M,...O}=m,W=re(isResourcePermission(f)?{permission:f,resourceRef:S}:{permission:f}),z=useApp(),{NotFoundErrorPage:ee}=z.getComponents();let K=M===void 0?React.createElement(ee,null):M;return W.loading?K=null:W.allowed&&(K=m.element),React.createElement(Route,{...O,element:K})};function Nt(m){const{permission:f,resourceRef:S}=m,M=re(isResourcePermission(f)?{permission:f,resourceRef:S}:{permission:f}),O=useApp();if(M.loading)return null;if(M.allowed)return React.createElement(React.Fragment,null,m.children);if(m.errorPage)return React.createElement(React.Fragment,null,m.errorPage);const{NotFoundErrorPage:W}=O.getComponents();return React.createElement(W,null)}var Pt=p(282),rt=p(14337),ot=p(89250),At=p(79655),at=p(18049),ct=p(34449),gt=p(57506),ft=p(96470),ht=p(47041),Xt=p(88995),Et=p(13479),Wt=p(50442),It=p(67879),Ce=p(63781),je=p(35827),vt=p(2516),ut=p(60424),Tt=p(59832),Ft=p(50733),He=p(56247),Fe=p(63219),Qe=p(3646),Zt=p(21727),Ot=p(59865),Qt=p(48904),dt=p(59114),pt=p(96984);const Ie={wave:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`,wave2:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`,round:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`},Ze={darkGrey:["#171717","#383838"],marineBlue:["#006D8F","#0049A1"],veryBlue:["#0027AF","#270094"],rubyRed:["#98002B","#8D1134"],toastyOrange:["#BE2200","#A41D00"],purpleSky:["#8912CA","#3E00EA"],eveningSea:["#00FFF2","#035355"],teal:["#005B4B"],pinkSea:["#C8077A","#C2297D"],greens:["#4BB8A5","#187656"]};function fe(m){var f;const{colors:S,shape:M,options:O}=m,z=`linear-gradient(90deg, ${(S.length===1?[S[0],S[0]]:S).join(", ")})`,ee=`${M},  ${z}`,K=(f=O==null?void 0:O.fontColor)!=null?f:"#FFFFFF";return{colors:S,shape:M,backgroundImage:ee,fontColor:K}}const st={home:fe({colors:Ze.teal,shape:Ie.wave}),documentation:fe({colors:Ze.pinkSea,shape:Ie.wave2}),tool:fe({colors:Ze.purpleSky,shape:Ie.round}),service:fe({colors:Ze.marineBlue,shape:Ie.wave}),website:fe({colors:Ze.veryBlue,shape:Ie.wave}),library:fe({colors:Ze.rubyRed,shape:Ie.wave}),other:fe({colors:Ze.darkGrey,shape:Ie.wave}),app:fe({colors:Ze.toastyOrange,shape:Ie.wave}),apis:fe({colors:Ze.teal,shape:Ie.wave2}),card:fe({colors:Ze.greens,shape:Ie.wave})},Ut=16,qt='"Helvetica Neue", Helvetica, Roboto, Arial, sans-serif';function yt(m){const{palette:f,htmlFontSize:S=Ut,fontFamily:M=qt,defaultPageTheme:O,pageTheme:W=st}=m;if(!W[O])throw new Error(`${O} is not defined in pageTheme.`);return{palette:f,props:{MuiGrid:{spacing:2},MuiSwitch:{color:"primary"}},typography:{htmlFontSize:S,fontFamily:M,h6:{fontWeight:700,fontSize:20,marginBottom:2},h5:{fontWeight:700,fontSize:24,marginBottom:4},h4:{fontWeight:700,fontSize:28,marginBottom:6},h3:{fontSize:32,fontWeight:700,marginBottom:6},h2:{fontSize:40,fontWeight:700,marginBottom:8},h1:{fontSize:54,fontWeight:700,marginBottom:10}},page:W[O],getPageTheme:({themeId:z})=>{var ee;return(ee=W[z])!=null?ee:W[O]}}}function qe(m){return{MuiCssBaseline:{"@global":{html:{height:"100%",fontFamily:m.typography.fontFamily},body:{height:"100%",fontFamily:m.typography.fontFamily,"overscroll-behavior-y":"none"},a:{color:"inherit",textDecoration:"none"}}},MuiTableRow:{root:{"&:nth-of-type(odd)":{backgroundColor:m.palette.background.default}},hover:{"&:hover":{cursor:"pointer"}},head:{"&:nth-of-type(odd)":{backgroundColor:m.palette.background.paper}}},MuiTableCell:{root:{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:m.spacing(3,2,3,2.5),borderBottom:0},sizeSmall:{padding:m.spacing(1.5,2,1.5,2.5)},head:{wordBreak:"break-word",overflow:"hidden",fontWeight:"normal",lineHeight:"1"}},MuiTabs:{root:{minHeight:24}},MuiTab:{root:{color:m.palette.link,minHeight:24,textTransform:"initial",letterSpacing:"0.07em","&:hover":{color:(0,dt.darken)(m.palette.link,.3),background:(0,dt.lighten)(m.palette.link,.95)},[m.breakpoints.up("md")]:{minWidth:120,fontSize:m.typography.pxToRem(14),fontWeight:500}},textColorPrimary:{color:m.palette.link}},MuiTableSortLabel:{root:{color:"inherit","&:hover":{color:"inherit"}},active:{fontWeight:"bold"}},MuiListItemText:{dense:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},MuiButton:{text:{padding:void 0}},MuiChip:{root:{backgroundColor:"#D9D9D9",marginRight:m.spacing(1),marginBottom:m.spacing(1),color:m.palette.grey[900]},outlined:{color:m.palette.text.primary},label:{lineHeight:`${m.spacing(2.5)}px`,fontWeight:m.typography.fontWeightMedium,fontSize:`${m.spacing(1.75)}px`},labelSmall:{fontSize:`${m.spacing(1.5)}px`},deleteIcon:{color:m.palette.grey[500],width:`${m.spacing(3)}px`,height:`${m.spacing(3)}px`,margin:`0 ${m.spacing(.75)}px 0 -${m.spacing(.75)}px`},deleteIconSmall:{width:`${m.spacing(2)}px`,height:`${m.spacing(2)}px`,margin:`0 ${m.spacing(.5)}px 0 -${m.spacing(.5)}px`}},MuiCard:{root:{display:"flex",flexDirection:"column"}},MuiCardHeader:{root:{paddingBottom:0}},MuiCardContent:{root:{flexGrow:1,"&:last-child":{paddingBottom:void 0}}},MuiCardActions:{root:{justifyContent:"flex-end"}}}}function mt(m){const f=yt(m),S=(0,Qt.Z)(f),M=qe(S);return{...S,overrides:M}}const zt=mt({palette:{type:"light",background:{default:"#F8F8F8"},status:{ok:"#1DB954",warning:"#FF9800",error:"#E22134",running:"#1F5493",pending:"#FFED51",aborted:"#757575"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"},gradient:{linear:"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)"}},primary:{main:"#1F5493"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000",closeButtonColor:"#FFFFFF",warning:"#FF9800"},border:"#E6E6E6",textContrast:"#000000",textVerySubtle:"#DDD",textSubtle:"#6E6E6E",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#2196F3",link:"#0A6EBE",gold:pt.Z.A700,navigation:{background:"#171717",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF",navItem:{hoverBackground:"#404040"},submenu:{background:"#404040"}},pinSidebarButton:{icon:"#181818",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}},defaultPageTheme:"home",pageTheme:st}),Kt=mt({palette:{type:"dark",background:{default:"#333333"},status:{ok:"#71CF88",warning:"#FFB84D",error:"#F84C55",running:"#3488E3",pending:"#FEF071",aborted:"#9E9E9E"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"},gradient:{linear:"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)"}},primary:{main:"#9CC9FF",dark:"#82BAFD"},secondary:{main:"#FF88B2"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000",closeButtonColor:"#FFFFFF",warning:"#FF9800"},border:"#E6E6E6",textContrast:"#FFFFFF",textVerySubtle:"#727272",textSubtle:"#CCCCCC",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#82BAFD",link:"#9CC9FF",gold:pt.Z.A700,navigation:{background:"#424242",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF",navItem:{hoverBackground:"#404040"},submenu:{background:"#404040"}},pinSidebarButton:{icon:"#404040",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}},defaultPageTheme:"home",pageTheme:st});var Mt=p(20886),B=p(28618),P=p(13457),N=p(75834);const F=[(0,T.ni)({api:T.NW,deps:{configApi:T.Ds},factory:({configApi:m})=>R.pM.compile(`${m.getString("backend.baseUrl")}/api/{{ pluginId }}`)}),(0,T.ni)({api:T.$v,deps:{},factory:()=>new R.CX}),(0,T.ni)({api:T.v_,deps:{},factory:()=>new R.gN}),(0,T.ni)({api:T.VE,deps:{alertApi:T.$v},factory:({alertApi:m})=>{const f=new R.KN(m,new R.gr);return R.Jv.forward(f,{hidden:!1}),f}}),(0,T.ni)({api:T.E6,deps:{errorApi:T.VE},factory:({errorApi:m})=>R.CJ.create({errorApi:m})}),(0,T.ni)({api:T.gP,deps:{configApi:T.Ds,identityApi:T.$4,discoveryApi:T.NW},factory:({configApi:m,identityApi:f,discoveryApi:S})=>(0,R.jJ)({middleware:[R.II.resolvePluginProtocol({discoveryApi:S}),R.II.injectIdentityAuth({identityApi:f,config:m})]})}),(0,T.ni)({api:T.ZM,deps:{},factory:()=>new R.YM}),(0,T.ni)({api:T.Kp,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.eE.create({configApi:S,discoveryApi:m,oauthRequestApi:f,environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:T.p_,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R._i.create({configApi:S,discoveryApi:m,oauthRequestApi:f,environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:T.F4,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.Td.create({configApi:S,discoveryApi:m,oauthRequestApi:f,defaultScopes:["read:user"],environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:T.D,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.sn.create({configApi:S,discoveryApi:m,oauthRequestApi:f,environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:T.ux,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.aq.create({configApi:S,discoveryApi:m,oauthRequestApi:f,environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:T.gW,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.$_.create({configApi:S,discoveryApi:m,oauthRequestApi:f,environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:T.bq,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.xP.create({configApi:S,discoveryApi:m,oauthRequestApi:f,defaultScopes:["team"],environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:T.Km,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.C4.create({configApi:S,discoveryApi:m,oauthRequestApi:f,defaultScopes:["REPO_READ"]})}),(0,T.ni)({api:T.uB,deps:{discoveryApi:T.NW,oauthRequestApi:T.ZM,configApi:T.Ds},factory:({discoveryApi:m,oauthRequestApi:f,configApi:S})=>R.uC.create({configApi:S,discoveryApi:m,oauthRequestApi:f,environment:S.getOptionalString("auth.environment")})}),(0,T.ni)({api:We,deps:{discovery:T.NW,identity:T.$4,config:T.Ds},factory:({config:m,discovery:f,identity:S})=>Ke.create({config:m,discovery:f,identity:S})})];function G({children:m}){return(0,ot.GV)()?b.createElement(b.Fragment,null,m):b.createElement(ot.VA,null,m)}const ne=()=>b.createElement(rt.mf,{status:"404",statusMessage:"PAGE NOT FOUND"}),ue=({step:m,error:f})=>{let S="";return m==="load-config"?S=`The configuration failed to load, someone should have a look at this error: ${f.message}`:m==="load-chunk"&&(S=`Lazy loaded chunk failed to load, try to reload the page: ${f.message}`),b.createElement(G,null,b.createElement(rt.mf,{status:"501",statusMessage:S}))},de=({error:m,resetError:f,plugin:S})=>b.createElement(rt.yu,{title:`Error in ${S==null?void 0:S.getId()}`,defaultExpanded:!0,error:m},b.createElement(Pt.Z,{variant:"outlined",onClick:f},"Retry")),he={Progress:rt.Ex,Router:At.VK,NotFoundErrorPage:ne,BootErrorPage:ue,ErrorBoundaryFallback:de},et={brokenImage:ct.Z,catalog:He.Z,scaffolder:ft.Z,techdocs:ht.Z,search:Xt.Z,chat:Et.Z,dashboard:Wt.Z,docs:It.Z,email:Ce.Z,github:vt.Z,group:Fe.Z,help:ut.Z,"kind:api":je.Z,"kind:component":Ft.Z,"kind:domain":at.Z,"kind:group":Fe.Z,"kind:location":Tt.Z,"kind:system":gt.Z,"kind:user":Qe.Z,"kind:resource":Ot.Z,user:Qe.Z,warning:Zt.Z},x=[{id:"light",title:"Light Theme",variant:"light",icon:b.createElement(B.Z,null),Provider:({children:m})=>b.createElement(P.Z,{theme:zt},b.createElement(N.ZP,null,m))},{id:"dark",title:"Dark Theme",variant:"dark",icon:b.createElement(Mt.Z,null),Provider:({children:m})=>b.createElement(P.Z,{theme:Kt},b.createElement(N.ZP,null,m))}];function w(m){var f,S,M,O;return(0,R.bg)({...m,apis:(f=m==null?void 0:m.apis)!=null?f:[],bindRoutes:m==null?void 0:m.bindRoutes,components:{...he,...m==null?void 0:m.components},configLoader:m==null?void 0:m.configLoader,defaultApis:F,icons:{...et,...m==null?void 0:m.icons},plugins:(S=m==null?void 0:m.plugins)!=null?S:[],featureFlags:(M=m==null?void 0:m.featureFlags)!=null?M:[],themes:(O=m==null?void 0:m.themes)!=null?O:x})}},30466:function(Ge,Ne,p){p.d(Ne,{CX:function(){return N},WY:function(){return Nn},uC:function(){return P},xP:function(){return zt},C4:function(){return Mt},KN:function(){return x},gr:function(){return w},II:function(){return Se},wQ:function(){return Ir},Td:function(){return vt},aq:function(){return Tt},eE:function(){return Fe},_i:function(){return st},gN:function(){return G},YM:function(){return wn},sn:function(){return Qt},$_:function(){return qe},Jv:function(){return m},pM:function(){return he},CJ:function(){return Gt},jJ:function(){return M},bg:function(){return Ar}});var R=p(67294),T=p(45697),b=p.n(T),Q=p(16874),ke=p(49329),Xe=p.n(ke),X=p(35278),Y=p(1604),a=p(50361),$=p.n(a),Me=p(30236),ze=p.n(Me);const pe=/^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;function te(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function nt(c){if(c===null)return"null";if(Array.isArray(c))return"array";const n=typeof c;return n==="number"&&isNaN(c)?"nan":n==="string"&&c===""?"empty-string":n}const ce={type(c,n,r,i){return`Invalid type in config for key '${c}' in '${n}', got ${r}, wanted ${i}`},missing(c){return`Missing required config value at '${c}'`},convert(c,n,r){return`Unable to convert config value for key '${c}' in '${n}' to a ${r}`}};class ge{constructor(n,r="mock-config",i,u=""){this.data=n,this.context=r,this.fallback=i,this.prefix=u,this.notifiedFilteredKeys=new Set}static fromConfigs(n){return n.length===0?new ge(void 0):n.reduce((r,{data:i,context:u,filteredKeys:v,deprecatedKeys:I})=>{const A=new ge(i,u,r);if(A.filteredKeys=v,I)for(const{key:L,description:Z}of I)console.warn(`The configuration key '${L}' of ${u} is deprecated and may be removed soon. ${Z||""}`);return A},void 0)}has(n){var r,i;return this.readValue(n)!==void 0?!0:(i=(r=this.fallback)==null?void 0:r.has(n))!=null?i:!1}keys(){var n,r;const i=this.data?Object.keys(this.data):[],u=(r=(n=this.fallback)==null?void 0:n.keys())!=null?r:[];return[...new Set([...i,...u])]}get(n){const r=this.getOptional(n);if(r===void 0)throw new Error(ce.missing(this.fullKey(n!=null?n:"")));return r}getOptional(n){var r,i;const u=$()(this.readValue(n)),v=(r=this.fallback)==null?void 0:r.getOptional(n);return u===void 0?v:v===void 0?u:ze()({},{value:v},{value:u},(I,A)=>!te(A)||!te(I)?A:void 0).value}getConfig(n){const r=this.getOptionalConfig(n);if(r===void 0)throw new Error(ce.missing(this.fullKey(n)));return r}getOptionalConfig(n){var r;const i=this.readValue(n),u=(r=this.fallback)==null?void 0:r.getOptionalConfig(n);if(te(i))return this.copy(i,n,u);if(i!==void 0)throw new TypeError(ce.type(this.fullKey(n),this.context,nt(i),"object"));return u}getConfigArray(n){const r=this.getOptionalConfigArray(n);if(r===void 0)throw new Error(ce.missing(this.fullKey(n)));return r}getOptionalConfigArray(n){var r;const i=this.readConfigValue(n,u=>{if(!Array.isArray(u))return{expected:"object-array"};for(const[v,I]of u.entries())if(!te(I))return{expected:"object-array",value:I,key:`${n}[${v}]`};return!0});if(i)return i.map((u,v)=>this.copy(u,`${n}[${v}]`))}getNumber(n){const r=this.getOptionalNumber(n);if(r===void 0)throw new Error(ce.missing(this.fullKey(n)));return r}getOptionalNumber(n){const r=this.readConfigValue(n,u=>typeof u=="number"||typeof u=="string"||{expected:"number"});if(typeof r=="number"||r===void 0)return r;const i=Number(r);if(!Number.isFinite(i))throw new Error(ce.convert(this.fullKey(n),this.context,"number"));return i}getBoolean(n){const r=this.getOptionalBoolean(n);if(r===void 0)throw new Error(ce.missing(this.fullKey(n)));return r}getOptionalBoolean(n){const r=this.readConfigValue(n,u=>typeof u=="boolean"||typeof u=="number"||typeof u=="string"||{expected:"boolean"});if(typeof r=="boolean"||r===void 0)return r;const i=String(r).trim();if(/^(?:y|yes|true|1|on)$/i.test(i))return!0;if(/^(?:n|no|false|0|off)$/i.test(i))return!1;throw new Error(ce.convert(this.fullKey(n),this.context,"boolean"))}getString(n){const r=this.getOptionalString(n);if(r===void 0)throw new Error(ce.missing(this.fullKey(n)));return r}getOptionalString(n){return this.readConfigValue(n,r=>typeof r=="string"&&r!==""||{expected:"string"})}getStringArray(n){const r=this.getOptionalStringArray(n);if(r===void 0)throw new Error(ce.missing(this.fullKey(n)));return r}getOptionalStringArray(n){return this.readConfigValue(n,r=>{if(!Array.isArray(r))return{expected:"string-array"};for(const[i,u]of r.entries())if(typeof u!="string"||u==="")return{expected:"string-array",value:u,key:`${n}[${i}]`};return!0})}fullKey(n){return`${this.prefix}${this.prefix?".":""}${n}`}copy(n,r,i){const u=new ge(n,this.context,i,this.fullKey(r));return u.filteredKeys=this.filteredKeys,u}readConfigValue(n,r){var i,u;const v=this.readValue(n);if(v===void 0)return(u=this.fallback)==null?void 0:u.readConfigValue(n,r);const I=r(v);if(I!==!0){const{key:A=n,value:L=v,expected:Z}=I;throw new TypeError(ce.type(this.fullKey(A),this.context,nt(L),Z))}return v}readValue(n){const r=n?n.split("."):[];for(const u of r)if(!pe.test(u))throw new TypeError(`Invalid config key '${n}'`);if(this.data===void 0)return;let i=this.data;for(const[u,v]of r.entries())if(te(i))i=i[v];else if(i!==void 0){const I=this.fullKey(r.slice(0,u).join("."));throw new TypeError(ce.type(I,this.context,nt(i),"object"))}return i}}var we=p(89250),H=p(12599),J=p(94172),ae=p(78504);class Be{constructor(...n){this.holders=n}get(n){for(const r of this.holders){const i=r.get(n);if(i)return i}}}const me=(0,Q.CT)("api-context"),We=c=>{var n;const{apis:r,children:i}=c,u=(n=(0,R.useContext)(me))==null?void 0:n.atVersion(1),v=u?new Be(r,u):r;return R.createElement(me.Provider,{value:(0,Q.EI)({1:v}),children:i})};We.propTypes={apis:b().shape({get:b().func.isRequired}).isRequired,children:b().node};class Ke{constructor(n){this.factories=n,this.apis=new Map}static validateFactories(n,r){for(const i of r){const u=[i],v=new Set;for(;u.length;){const I=u.shift(),A=n.get(I);if(A)for(const L of Object.values(A.deps)){if(L.id===i.id)throw new Error(`Circular dependency of api factory for ${i}`);v.has(L)||(v.add(L),u.push(L))}}}}get(n){return this.load(n)}load(n,r=[]){const i=this.apis.get(n.id);if(i)return i;const u=this.factories.get(n);if(!u)return;if(r.includes(u.api))throw new Error(`Circular dependency of api factory for ${u.api}`);const v=this.loadDeps(n,u.deps,[...r,u.api]),I=u.factory(v);return this.apis.set(n.id,I),I}loadDeps(n,r,i){const u={};for(const v in r)if(r.hasOwnProperty(v)){const I=r[v],A=this.load(I,i);if(!A)throw new Error(`No API factory available for dependency ${I} of dependent ${n}`);u[v]=A}return u}}var re=(c=>(c[c.default=10]="default",c[c.app=50]="app",c[c.static=100]="static",c))(re||{});class $t{constructor(){this.factories=new Map}register(n,r){const i=re[n],u=this.factories.get(r.api.id);return u&&u.priority>=i?!1:(this.factories.set(r.api.id,{priority:i,factory:r}),!0)}get(n){const r=this.factories.get(n.id);if(r)return r.factory}getAllApis(){const n=new Set;for(const{factory:r}of this.factories.values())n.add(r.api);return n}}function Nt(c){return new Promise((n,r)=>{const i=c.width||500,u=c.height||700,v=window.screen.width/2-i/2,I=window.screen.height/2-u/2,A=window.open(c.url,c.name,`menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${i},height=${u},top=${I},left=${v}`);let L="";if(!A||typeof A.closed=="undefined"||A.closed){const oe=new Error("Failed to open auth popup.");oe.name="PopupRejectedError",r(oe);return}const Z=oe=>{if(oe.source!==A||oe.origin!==c.origin)return;const{data:ie}=oe;if(ie.type==="config_info"){L=ie.targetOrigin;return}if(ie.type!=="authorization_response")return;const Ee=ie;if("error"in Ee){const Pe=new Error(Ee.error.message);Pe.name=Ee.error.name,r(Pe)}else n(Ee.response);V()},q=setInterval(()=>{if(A.closed){const oe=`Login failed, ${L&&L!==window.location.origin?`Incorrect app origin, expected ${L}`:"popup was closed"}`,ie=new Error(oe);ie.name="PopupClosedError",r(ie),V()}},100);function V(){window.removeEventListener("message",Z),clearInterval(q)}window.addEventListener("message",Z)})}let Pt=!1;function rt(c){return[...c].join(" ")}class ot{constructor(n){var r;const{configApi:i,discoveryApi:u,environment:v,provider:I,joinScopes:A=rt,oauthRequestApi:L,sessionTransform:Z=q=>q}=n;!Pt&&!i&&(console.warn("DEPRECATION WARNING: Authentication providers require a configApi instance to configure the authentication flow. Please provide one to the authentication provider constructor."),Pt=!0),this.enableExperimentalRedirectFlow=i&&(r=i.getOptionalBoolean("enableExperimentalRedirectFlow"))!=null?r:!1,this.authRequester=L.createAuthRequester({provider:I,onAuthRequest:async q=>this.enableExperimentalRedirectFlow?this.executeRedirect(q):this.showPopup(q)}),this.discoveryApi=u,this.environment=v,this.provider=I,this.joinScopesFunc=A,this.sessionTransform=Z}async createSession(n){return n.instantPopup?this.enableExperimentalRedirectFlow?this.executeRedirect(n.scopes):this.showPopup(n.scopes):this.authRequester(n.scopes)}async refreshSession(n){const r=await fetch(await this.buildUrl("/refresh",{optional:!0,...n&&{scope:this.joinScopesFunc(n)}}),{headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(u=>{throw new Error(`Auth refresh request failed, ${u}`)});if(!r.ok){const u=new Error(`Auth refresh request failed, ${r.statusText}`);throw u.status=r.status,u}const i=await r.json();if(i.error){const u=new Error(i.error.message);throw i.error.name&&(u.name=i.error.name),u}return await this.sessionTransform(i)}async removeSession(){const n=await fetch(await this.buildUrl("/logout"),{method:"POST",headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(r=>{throw new Error(`Logout request failed, ${r}`)});if(!n.ok){const r=new Error(`Logout request failed, ${n.statusText}`);throw r.status=n.status,r}}async showPopup(n){const r=this.joinScopesFunc(n),i=await this.buildUrl("/start",{scope:r,origin:window.location.origin,flow:"popup"}),u=await Nt({url:i,name:`${this.provider.title} Login`,origin:new URL(i).origin,width:450,height:730});return await this.sessionTransform(u)}async executeRedirect(n){const r=this.joinScopesFunc(n);return window.location.href=await this.buildUrl("/start",{scope:r,origin:window.location.origin,redirectUrl:window.location.href,flow:"redirect"}),new Promise(()=>{})}async buildUrl(n,r){const i=await this.discoveryApi.getBaseUrl("auth"),u=this.buildQueryString({...r,env:this.environment});return`${i}/${this.provider.id}${n}${u}`}buildQueryString(n){if(!n)return"";const r=Object.entries(n).map(([i,u])=>{if(typeof u=="string")return`${encodeURIComponent(i)}=${encodeURIComponent(u)}`;if(u)return encodeURIComponent(i)}).filter(Boolean).join("&");return r?`?${r}`:""}}class At{constructor(n){const{discoveryApi:r,environment:i,provider:u}=n;this.discoveryApi=r,this.environment=i,this.provider=u}async createSession(){const n=await this.buildUrl("/start"),r=await Nt({url:n,name:`${this.provider.title} Login`,origin:new URL(n).origin,width:450,height:730});return{...r,id:r.profile.email}}async refreshSession(){}async removeSession(){const n=await fetch(await this.buildUrl("/logout"),{method:"POST",headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(r=>{throw new Error(`Logout request failed, ${r}`)});if(!n.ok){const r=new Error(`Logout request failed, ${n.statusText}`);throw r.status=n.status,r}}async buildUrl(n){return`${await this.discoveryApi.getBaseUrl("auth")}/${this.provider.id}${n}?env=${this.environment}`}}function at(c,n){for(const r of n)if(!c.has(r))return!1;return!0}class ct{constructor(n){this.options=n}sessionExistsAndHasScope(n,r){if(!n)return!1;if(!r||this.options.sessionScopes===void 0)return!0;const i=this.options.sessionScopes(n);return at(i,r)}getExtendedScope(n,r){const i=new Set(this.options.defaultScopes);if(n&&this.options.sessionScopes!==void 0){const u=this.options.sessionScopes(n);for(const v of u)i.add(v)}if(r)for(const u of r)i.add(u);return i}}class gt{constructor(){this.isClosed=!1,this.observable=new(Xe())(n=>this.isClosed?(this.terminatingError?n.error(this.terminatingError):n.complete(),()=>{}):(this.subscribers.add(n),()=>{this.subscribers.delete(n)})),this.subscribers=new Set}[Symbol.observable](){return this}get closed(){return this.isClosed}next(n){if(this.isClosed)throw new Error("PublishSubject is closed");this.subscribers.forEach(r=>r.next(n))}error(n){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.terminatingError=n,this.subscribers.forEach(r=>r.error(n))}complete(){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.subscribers.forEach(n=>n.complete())}subscribe(n,r,i){const u=typeof n=="function"?{next:n,error:r,complete:i}:n;return this.observable.subscribe(u)}}class ft{constructor(n){this.subscribers=new Set,this.isClosed=!1,this.currentValue=n,this.terminatingError=void 0,this.observable=new(Xe())(r=>this.isClosed?(this.terminatingError?r.error(this.terminatingError):r.complete(),()=>{}):(r.next(this.currentValue),this.subscribers.add(r),()=>{this.subscribers.delete(r)}))}[Symbol.observable](){return this}get closed(){return this.isClosed}next(n){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.currentValue=n,this.subscribers.forEach(r=>r.next(n))}error(n){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.terminatingError=n,this.subscribers.forEach(r=>r.error(n))}complete(){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.subscribers.forEach(n=>n.complete())}subscribe(n,r,i){const u=typeof n=="function"?{next:n,error:r,complete:i}:n;return this.observable.subscribe(u)}}class ht{constructor(){this.subject=new ft(X.sM.SignedOut),this.signedIn=!1}setIsSignedIn(n){this.signedIn!==n&&(this.signedIn=n,this.subject.next(this.signedIn?X.sM.SignedIn:X.sM.SignedOut))}sessionState$(){return this.subject}}class Xt{constructor(n){this.stateTracker=new ht;const{connector:r,defaultScopes:i=new Set,sessionScopes:u,sessionShouldRefresh:v}=n;this.connector=r,this.sessionScopesFunc=u,this.sessionShouldRefreshFunc=v,this.helper=new ct({sessionScopes:u,defaultScopes:i})}async getSession(n){if(this.helper.sessionExistsAndHasScope(this.currentSession,n.scopes)){if(!this.sessionShouldRefreshFunc(this.currentSession))return this.currentSession;try{const i=await this.collapsedSessionRefresh(n.scopes),u=this.sessionScopesFunc(this.currentSession),v=this.sessionScopesFunc(i);return at(v,u)&&(this.currentSession=i),i}catch(i){if(n.optional)return;throw i}}if(!this.currentSession&&!n.instantPopup)try{const r=await this.collapsedSessionRefresh(n.scopes);return this.currentSession=r,this.getSession(n)}catch{}if(!n.optional)return this.currentSession=await this.connector.createSession({...n,scopes:this.helper.getExtendedScope(this.currentSession,n.scopes)}),this.stateTracker.setIsSignedIn(!0),this.currentSession}async removeSession(){this.currentSession=void 0,await this.connector.removeSession(),this.stateTracker.setIsSignedIn(!1)}sessionState$(){return this.stateTracker.sessionState$()}async collapsedSessionRefresh(n){if(this.refreshPromise)return this.refreshPromise;this.refreshPromise=this.connector.refreshSession(n);try{const r=await this.refreshPromise;return this.stateTracker.setIsSignedIn(!0),r}finally{delete this.refreshPromise}}}class Et{constructor(n){this.stateTracker=new ht;const{connector:r,defaultScopes:i=new Set,sessionScopes:u}=n;this.connector=r,this.helper=new ct({sessionScopes:u,defaultScopes:i})}setSession(n){this.currentSession=n,this.stateTracker.setIsSignedIn(Boolean(n))}async getSession(n){if(this.helper.sessionExistsAndHasScope(this.currentSession,n.scopes))return this.currentSession;if(!n.optional)return this.currentSession=await this.connector.createSession({...n,scopes:this.helper.getExtendedScope(this.currentSession,n.scopes)}),this.stateTracker.setIsSignedIn(!0),this.currentSession}async removeSession(){this.currentSession=void 0,this.stateTracker.setIsSignedIn(!1)}sessionState$(){return this.stateTracker.sessionState$()}}class Wt{constructor(n){const{manager:r,storageKey:i,schema:u,sessionScopes:v,sessionShouldRefresh:I=()=>!1}=n;this.manager=r,this.storageKey=i,this.schema=u,this.sessionShouldRefreshFunc=I,this.helper=new ct({sessionScopes:v,defaultScopes:new Set})}setSession(n){this.manager.setSession(n),this.saveSession(n)}async getSession(n){const{scopes:r}=n,i=this.loadSession();if(this.helper.sessionExistsAndHasScope(i,r)&&!this.sessionShouldRefreshFunc(i))return this.manager.setSession(i),i;const u=await this.manager.getSession(n);return this.saveSession(u),u}async removeSession(){localStorage.removeItem(this.storageKey),await this.manager.removeSession()}sessionState$(){return this.manager.sessionState$()}loadSession(){try{const n=localStorage.getItem(this.storageKey);if(n){const r=JSON.parse(n,(i,u)=>(u==null?void 0:u.__type)==="Set"?new Set(u.__value):u);try{return this.schema.parse(r)}catch(i){throw console.log(`Failed to load session from local storage because it did not conform to the expected schema, ${i}`),i}}return}catch{localStorage.removeItem(this.storageKey);return}}saveSession(n){if(n===void 0){localStorage.removeItem(this.storageKey);return}try{this.schema.parse(n)}catch(r){console.warn(`Failed to save session to local storage because it did not conform to the expected schema, ${r}`);return}localStorage.setItem(this.storageKey,JSON.stringify(n,(r,i)=>i instanceof Set?{__type:"Set",__value:Array.from(i)}:i))}}const It={id:"oauth2",title:"Your Identity Provider",icon:()=>null};class Ce{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=It,oauthRequestApi:I,defaultScopes:A=[],scopeTransform:L=V=>V}=n,Z=new ot({configApi:r,discoveryApi:i,environment:u,provider:v,oauthRequestApi:I,sessionTransform(V){return{...V,providerInfo:{idToken:V.providerInfo.idToken,accessToken:V.providerInfo.accessToken,scopes:Ce.normalizeScopes(L,V.providerInfo.scope),expiresAt:new Date(Date.now()+V.providerInfo.expiresInSeconds*1e3)}}}}),q=new Xt({connector:Z,defaultScopes:new Set(A),sessionScopes:V=>V.providerInfo.scopes,sessionShouldRefresh:V=>(V.providerInfo.expiresAt.getTime()-Date.now())/1e3<60*5});return new Ce({sessionManager:q,scopeTransform:L})}constructor(n){this.sessionManager=n.sessionManager,this.scopeTransform=n.scopeTransform}async signIn(){await this.getAccessToken()}async signOut(){await this.sessionManager.removeSession()}sessionState$(){return this.sessionManager.sessionState$()}async getAccessToken(n,r){var i;const u=Ce.normalizeScopes(this.scopeTransform,n),v=await this.sessionManager.getSession({...r,scopes:u});return(i=v==null?void 0:v.providerInfo.accessToken)!=null?i:""}async getIdToken(n={}){var r;const i=await this.sessionManager.getSession({...n,scopes:new Set(["openid"])});return(r=i==null?void 0:i.providerInfo.idToken)!=null?r:""}async getBackstageIdentity(n={}){const r=await this.sessionManager.getSession(n);return r==null?void 0:r.backstageIdentity}async getProfile(n={}){const r=await this.sessionManager.getSession(n);return r==null?void 0:r.profile}static normalizeScopes(n,r){if(!r)return new Set;const i=Array.isArray(r)?r:r.split(/[\s|,]/).filter(Boolean);return new Set(n(i))}}const je={id:"github",title:"GitHub",icon:()=>null};class vt{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=je,oauthRequestApi:I,defaultScopes:A=["read:user"]}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:I,provider:v,environment:u,defaultScopes:A})}}const ut={id:"gitlab",title:"GitLab",icon:()=>null};class Tt{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=ut,oauthRequestApi:I,defaultScopes:A=["read_user"]}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:I,provider:v,environment:u,defaultScopes:A})}}const Ft={id:"google",title:"Google",icon:()=>null},He="https://www.googleapis.com/auth/";class Fe{static create(n){const{configApi:r,discoveryApi:i,oauthRequestApi:u,environment:v="development",provider:I=Ft,defaultScopes:A=["openid",`${He}userinfo.email`,`${He}userinfo.profile`]}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:u,provider:I,environment:v,defaultScopes:A,scopeTransform(L){return L.map(Z=>Z==="openid"?Z:Z==="profile"||Z==="email"?`${He}userinfo.${Z}`:Z.startsWith(He)?Z:`${He}${Z}`)}})}}const Qe={id:"okta",title:"Okta",icon:()=>null},Zt=new Set(["openid","profile","email","phone","address","groups","offline_access"]),Ot="okta.";class Qt{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=Qe,oauthRequestApi:I,defaultScopes:A=["openid","email","profile","offline_access"]}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:I,provider:v,environment:u,defaultScopes:A,scopeTransform(L){return L.map(Z=>Zt.has(Z)||Z.startsWith(Ot)?Z:`${Ot}${Z}`)}})}}const dt=Y.z.object({profile:Y.z.object({email:Y.z.string().optional(),displayName:Y.z.string().optional(),picture:Y.z.string().optional()}),backstageIdentity:Y.z.object({token:Y.z.string(),identity:Y.z.object({type:Y.z.literal("user"),userEntityRef:Y.z.string(),ownershipEntityRefs:Y.z.array(Y.z.string())})})}),pt={id:"saml",title:"SAML",icon:()=>null};class Ie{constructor(n){this.sessionManager=n}static create(n){const{discoveryApi:r,environment:i="development",provider:u=pt}=n,v=new At({discoveryApi:r,environment:i,provider:u}),I=new Et({connector:v}),A=new Wt({manager:I,storageKey:`${u.id}Session`,schema:dt});return new Ie(A)}sessionState$(){return this.sessionManager.sessionState$()}async signIn(){await this.getBackstageIdentity({})}async signOut(){await this.sessionManager.removeSession()}async getBackstageIdentity(n={}){const r=await this.sessionManager.getSession(n);return r==null?void 0:r.backstageIdentity}async getProfile(n={}){const r=await this.sessionManager.getSession(n);return r==null?void 0:r.profile}}const Ze={id:"microsoft",title:"Microsoft",icon:()=>null},fe=class{static create(c){return new fe(c)}constructor(c){const{configApi:n,environment:r="development",provider:i=Ze,oauthRequestApi:u,discoveryApi:v,defaultScopes:I=["openid","offline_access","profile","email","User.Read"],scopeTransform:A=L=>L.concat("offline_access")}=c;this.configApi=n,this.environment=r,this.provider=i,this.oauthRequestApi=u,this.discoveryApi=v,this.scopeTransform=A,this.oauth2={[fe.MicrosoftGraphID]:Ce.create({configApi:this.configApi,discoveryApi:this.discoveryApi,oauthRequestApi:this.oauthRequestApi,provider:this.provider,environment:this.environment,scopeTransform:this.scopeTransform,defaultScopes:I})}}microsoftGraph(){return this.oauth2[fe.MicrosoftGraphID]}static resourceForScopes(c){var n;const r=[...new Set(c.split(" ").map(fe.resourceForScope).filter(u=>u!=="openid"))];if(r.length>1)return Promise.reject(new Error(`Requested access token with scopes from multiple Azure resources: ${r.join(", ")}. Access tokens can only have a single audience.`));const i=(n=r[0])!=null?n:fe.MicrosoftGraphID;return Promise.resolve(i)}static resourceForScope(c){var n;const r=(n=c.match(/^(?<resourceURI>.*)\/(?<scp>[^\/]*)$/))==null?void 0:n.groups;if(r){const{resourceURI:i}=r;return i.replace(/^api:\/\//,"")}switch(c){case"email":case"openid":case"offline_access":case"profile":return"openid";default:return fe.MicrosoftGraphID}}async getAccessToken(c,n){const r=c===void 0?fe.MicrosoftGraphID:await fe.resourceForScopes(Array.isArray(c)?c.join(" "):c);return r in this.oauth2||(this.oauth2[r]=Ce.create({configApi:this.configApi,discoveryApi:this.discoveryApi,oauthRequestApi:this.oauthRequestApi,provider:this.provider,environment:this.environment,scopeTransform:this.scopeTransform})),this.oauth2[r].getAccessToken(c,n)}getIdToken(c){return this.microsoftGraph().getIdToken(c)}getProfile(c){return this.microsoftGraph().getProfile(c)}getBackstageIdentity(c){return this.microsoftGraph().getBackstageIdentity(c)}signIn(){return this.microsoftGraph().signIn()}signOut(){return this.microsoftGraph().signOut()}sessionState$(){return this.microsoftGraph().sessionState$()}};let st=fe;st.MicrosoftGraphID="00000003-0000-0000-c000-000000000000";const Ut={id:"onelogin",title:"onelogin",icon:()=>null},qt=new Set(["openid","profile","email","phone","address","groups","offline_access"]),yt="onelogin.";class qe{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=Ut,oauthRequestApi:I}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:I,provider:v,environment:u,defaultScopes:["openid","email","profile","offline_access"],scopeTransform(A){return A.map(L=>qt.has(L)||L.startsWith(yt)?L:`${yt}${L}`)}})}}const mt={id:"bitbucket",title:"Bitbucket",icon:()=>null};class zt{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=mt,oauthRequestApi:I,defaultScopes:A=["team"]}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:I,provider:v,environment:u,defaultScopes:A})}}const Kt={id:"bitbucketServer",title:"Bitbucket Server",icon:()=>null};class Mt{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=Kt,oauthRequestApi:I,defaultScopes:A=["PROJECT_ADMIN"]}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:I,provider:v,environment:u,defaultScopes:A})}}const B={id:"atlassian",title:"Atlassian",icon:()=>null};class P{static create(n){const{configApi:r,discoveryApi:i,environment:u="development",provider:v=B,oauthRequestApi:I}=n;return Ce.create({configApi:r,discoveryApi:i,oauthRequestApi:I,provider:v,environment:u})}}class N{constructor(){this.subject=new gt}post(n){this.subject.next(n)}alert$(){return this.subject}}class F{constructor(n){this.actualApis=n}static fromApis(n){return new F(n)}captureEvent(n){this.actualApis.forEach(r=>{try{r.captureEvent(n)}catch{}})}}class G{captureEvent(n){}}const ne="theme";class ue{constructor(n){this.themes=n,this.subject=new ft(void 0)}static createWithStorage(n){var r;const i=new ue(n);if(!window.localStorage)return i;const u=(r=window.localStorage.getItem(ne))!=null?r:void 0;return i.setActiveThemeId(u),i.activeThemeId$().subscribe(v=>{v?window.localStorage.setItem(ne,v):window.localStorage.removeItem(ne)}),window.addEventListener("storage",v=>{var I;if(v.key===ne){const A=(I=localStorage.getItem(ne))!=null?I:void 0;i.setActiveThemeId(A)}}),i}getInstalledThemes(){return this.themes.slice()}activeThemeId$(){return this.subject}getActiveThemeId(){return this.activeThemeId}setActiveThemeId(n){this.activeThemeId=n,this.subject.next(n)}}const de="Invalid discovery URL pattern,";class he{constructor(n){this.parts=n}static compile(n){const r=n.split(/\{\{\s*pluginId\s*\}\}/),i=r.join("pluginId");let u;try{u=new URL(i)}catch{throw new Error(`${de} URL '${i}' is invalid`)}if(u.hash)throw new Error(`${de} URL must not have a hash`);if(u.search)throw new Error(`${de} URL must not have a query`);if(i.endsWith("/"))throw new Error(`${de} URL must not end with a slash`);return new he(r)}async getBaseUrl(n){return this.parts.join(encodeURIComponent(n))}}class et{constructor(n,r){this.endpoints=n,this.defaultEndpoint=r}static fromConfig(n,r){var i,u;const v=(i=r==null?void 0:r.pathPattern)!=null?i:"/api/{{ pluginId }}",I=n.getString("backend.baseUrl"),A=(u=n.getOptionalConfigArray("discovery.endpoints"))==null?void 0:u.flatMap(L=>{const Z=typeof L.get("target")=="object"?L.getString("target.external"):L.getString("target"),q=he.compile(Z);return L.getStringArray("plugins").map(V=>[V,q])});return new et(new Map(A),he.compile(`${I}${v}`))}async getBaseUrl(n){const r=this.endpoints.get(n);return r?r.getBaseUrl(n):this.defaultEndpoint.getBaseUrl(n)}}class x{constructor(n,r){this.alertApi=n,this.errorApi=r}post(n,r){return r!=null&&r.hidden||this.alertApi.post({message:n.message,severity:"error"}),this.errorApi.post(n,r)}error$(){return this.errorApi.error$()}}class w{constructor(){this.subject=new gt}post(n,r){this.subject.next({error:n,context:r})}error$(){return this.subject}}class m{static forward(n,r){window.addEventListener("unhandledrejection",i=>{n.post(i.reason,r)})}}function f(c){if(c.length<3)throw new Error(`The '${c}' feature flag must have a minimum length of three characters.`);if(c.length>150)throw new Error(`The '${c}' feature flag must not exceed 150 characters.`);if(!c.match(/^[a-z]+[a-z0-9-]+$/))throw new Error(`The '${c}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`)}class S{constructor(){this.registeredFeatureFlags=[]}registerFlag(n){f(n.name),this.registeredFeatureFlags.push(n)}getRegisteredFlags(){return this.registeredFeatureFlags.slice()}isActive(n){return this.flags||(this.flags=this.load()),this.flags.get(n)===X.CL.Active}save(n){this.flags||(this.flags=this.load()),n.merge||this.flags.clear();for(const[i,u]of Object.entries(n.states))this.flags.set(i,u);const r=Array.from(this.flags.entries()).filter(([,i])=>i===X.CL.Active);window.localStorage.setItem("featureFlags",JSON.stringify(Object.fromEntries(r)))}load(){try{const n=window.localStorage.getItem("featureFlags");if(!n)return new Map;const r=JSON.parse(n);if(typeof r!="object"||r===null||Array.isArray(r))return new Map;const i=Object.entries(r).filter(([u,v])=>(f(u),v===X.CL.Active));return new Map(i)}catch{return new Map}}}function M(c){var n;let r=c.baseImplementation||p.g.fetch;const i=[(n=c.middleware)!=null?n:[]].flat().reverse();for(const u of i)r=u.apply(r);return{fetch:r}}class O{constructor(n,r,i,u){this.identityApi=n,this.allowUrl=r,this.headerName=i,this.headerValue=u}static create(n){var r,i;const u=W(n),v=((r=n.header)==null?void 0:r.name)||"authorization",I=((i=n.header)==null?void 0:i.value)||(A=>`Bearer ${A}`);return new O(n.identityApi,u,v,I)}apply(n){return async(r,i)=>{const u=new Request(r,i),{token:v}=await this.identityApi.getCredentials();return u.headers.get(this.headerName)||typeof v!="string"||!v||!this.allowUrl(u.url)?n(r,i):(u.headers.set(this.headerName,this.headerValue(v)),n(u))}}}function W(c){return c.allowUrl?c.allowUrl:c.urlPrefixAllowlist?z(c.urlPrefixAllowlist):c.config?z([c.config.getString("backend.baseUrl")]):()=>!1}function z(c){const n=c.map(r=>r.replace(/\/$/,""));return r=>n.some(i=>r===i||r.startsWith(`${i}/`))}function ee(c,n){return!n||n==="/"?c:`${c.replace(/\/$/,"")}/${n.replace(/^\//,"")}`}class K{constructor(n){this.discoveryApi=n}apply(n){return async(r,i)=>{const u=new Request(r,i),v="plugin://";if(!u.url.startsWith(v))return n(r,i);const{hostname:I,pathname:A,search:L,hash:Z,username:q,password:V}=new URL(`http://${u.url.substring(v.length)}`);let oe=await this.discoveryApi.getBaseUrl(I);if(q||V){const Ee=new URL(oe),Pe=`${q}${V?`:${V}`:""}@`;oe=`${Ee.protocol}//${Pe}${Ee.host}${Ee.pathname}`}const ie=`${ee(oe,A)}${L}${Z}`;return n(ie,typeof r=="string"||be(r)?i:r)}}}function be(c){return typeof c=="object"&&(c==null?void 0:c.constructor)===URL}class Se{static resolvePluginProtocol(n){return new K(n.discoveryApi)}static injectIdentityAuth(n){return O.create(n)}constructor(){}}function Ue(c,n){for(const r of n)if(!c.has(r))return!1;return!0}function jt(c,...n){const r=new Set(c);for(const i of n)for(const u of i)r.add(u);return r}class bt{constructor(){this.requests=[],this.subject=new ft(this.getCurrentPending())}request(n){return new Promise((r,i)=>{this.requests.push({scopes:n,resolve:r,reject:i}),this.subject.next(this.getCurrentPending())})}resolve(n,r){this.requests=this.requests.filter(i=>Ue(n,i.scopes)?(i.resolve(r),!1):!0),this.subject.next(this.getCurrentPending())}reject(n){this.requests.forEach(r=>r.reject(n)),this.requests=[],this.subject.next(this.getCurrentPending())}pending(){return this.subject}getCurrentPending(){const n=this.requests.length===0?void 0:this.requests.slice(1).reduce((r,i)=>jt(r,i.scopes),this.requests[0].scopes);return{scopes:n,resolve:r=>{n&&this.resolve(n,r)},reject:r=>{n&&this.reject(r)}}}}class wn{constructor(){this.subject=new ft([]),this.currentRequests=[],this.handlerCount=0}createAuthRequester(n){const r=new bt,i=this.handlerCount;return this.handlerCount++,r.pending().subscribe({next:u=>{const v=this.currentRequests.slice(),I=this.makeAuthRequest(u,n);I?v[i]=I:delete v[i],this.currentRequests=v,this.subject.next(v.filter(Boolean))}}),u=>r.request(u)}makeAuthRequest(n,r){const{scopes:i}=n;if(i)return{provider:r.provider,trigger:async()=>{const u=await r.onAuthRequest(i);n.resolve(u)},reject:()=>{const u=new Error("Login failed, rejected by user");u.name="RejectedError",n.reject(u)}}}authRequest$(){return this.subject}}const Ht=new Map,Bt=class{constructor(c,n){this.namespace=c,this.errorApi=n,this.subscribers=new Set,this.observable=new(Xe())(r=>(this.subscribers.add(r),()=>{this.subscribers.delete(r)}))}static create(c){var n;return new Bt((n=c.namespace)!=null?n:"",c.errorApi)}static addStorageEventListener(){window.addEventListener("storage",c=>{var n;for(const[r,i]of Ht.entries())(n=c.key)!=null&&n.startsWith(r)&&i.handleStorageChange(c.key)})}get(c){return this.snapshot(c).value}snapshot(c){let n,r="absent";try{const i=localStorage.getItem(this.getKeyName(c));i&&(n=JSON.parse(i,(u,v)=>(typeof v=="object"&&v!==null&&Object.freeze(v),v)),r="present")}catch{this.errorApi.post(new Error(`Error when parsing JSON config from storage for: ${c}`))}return{key:c,value:n,presence:r}}forBucket(c){const n=`${this.namespace}/${c}`;return Ht.has(n)||Ht.set(n,new Bt(n,this.errorApi)),Ht.get(n)}async set(c,n){localStorage.setItem(this.getKeyName(c),JSON.stringify(n)),this.notifyChanges(c)}async remove(c){localStorage.removeItem(this.getKeyName(c)),this.notifyChanges(c)}observe$(c){return Bt.hasSubscribed||(Bt.addStorageEventListener(),Bt.hasSubscribed=!0),this.observable.filter(({key:n})=>n===c)}handleStorageChange(c){if(!(c!=null&&c.startsWith(this.namespace)))return;const n=c==null?void 0:c.slice(`${this.namespace}/`.length);n.includes("/")||this.notifyChanges(decodeURIComponent(n))}getKeyName(c){return`${this.namespace}/${encodeURIComponent(c)}`}notifyChanges(c){const n=this.snapshot(c);for(const r of this.subscribers)r.next(n)}};let Gt=Bt;Gt.hasSubscribed=!1;const pn=(0,R.createContext)(void 0);function on(){const[c]=(0,we.is)(R.createElement(we.AW,{index:!0,element:R.createElement("div",null)}));return!c.index}const sr=(c,n)=>{var r;try{const i=(0,H.fp)(n,{pathname:c}),u=i==null?void 0:i.filter(L=>{var Z;return((Z=L==null?void 0:L.route.routeRefs)==null?void 0:Z.size)>0}).pop(),v=u==null?void 0:u.route;if(!v)return;let I;v.routeRefs.size===1&&(I=v.routeRefs.values().next().value);const A=Object.entries((u==null?void 0:u.params)||{}).reduce((L,[Z,q])=>(q!==void 0&&(L[Z]=q),L),{});return{extension:"App",pluginId:((r=v.plugin)==null?void 0:r.getId())||"root",...I?{routeRef:I.id}:{},params:A}}catch{return}},mn=({pathname:c,search:n,hash:r,attributes:i})=>{const u=(0,X.z$)();return(0,R.useEffect)(()=>{u.captureEvent("navigate",`${c}${n}${r}`,{attributes:i})},[u,c,n,r,i]),null},gn=({routeObjects:c})=>{const{pathname:n,search:r,hash:i}=(0,we.TH)(),{params:u,...v}=sr(n,c)||{params:{}};return R.createElement(X.fC,{attributes:v},R.createElement(mn,{pathname:n,search:r,hash:i,attributes:u}))};function Ln(c){return on()?$n(c):""}function $n(c){var n;let{pathname:r}=new URL((n=c.getOptionalString("app.baseUrl"))!=null?n:"/","http://sample.dev");return r=r.replace(/\/*$/,""),r}function Cn({component:c,appIdentityProxy:n,children:r}){const[i,u]=(0,R.useState)(),v=(0,X.h_)(X.Ds),I=Ln(v);return i?(n.setTarget(i,{signOutTargetUrl:I||"/"}),R.createElement(R.Fragment,null,r)):R.createElement(c,{onSignInSuccess:u})}function Nn(c){const{Router:n,SignInPage:r}=(0,X.qD)().getComponents(),i=(0,X.h_)(X.Ds),u=$n(i),v=`${u}/*`,I=(0,R.useContext)(pn);if(!I)throw new Error("AppRouter must be rendered within the AppProvider");const{routeObjects:A,appIdentityProxy:L}=I;return r?on()?R.createElement(n,null,R.createElement(gn,{routeObjects:A}),R.createElement(Cn,{component:r,appIdentityProxy:L},R.createElement(we.Z5,null,R.createElement(we.AW,{path:v,element:R.createElement(R.Fragment,null,c.children)})))):R.createElement(n,{basename:u},R.createElement(gn,{routeObjects:A}),R.createElement(Cn,{component:r,appIdentityProxy:L},c.children)):(L.setTarget({getUserId:()=>"guest",getIdToken:async()=>{},getProfile:()=>({email:"guest@example.com",displayName:"Guest"}),getProfileInfo:async()=>({email:"guest@example.com",displayName:"Guest"}),getBackstageIdentity:async()=>({type:"user",userEntityRef:"user:default/guest",ownershipEntityRefs:["user:default/guest"]}),getCredentials:async()=>({}),signOut:async()=>{}},{signOutTargetUrl:u||"/"}),on()?R.createElement(n,null,R.createElement(gn,{routeObjects:A}),R.createElement(we.Z5,null,R.createElement(we.AW,{path:v,element:R.createElement(R.Fragment,null,c.children)}))):R.createElement(n,{basename:u},R.createElement(gn,{routeObjects:A}),c.children))}function ir(c){const n={};for(const i in c.collectors)c.collectors.hasOwnProperty(i)&&(n[i]=c.collectors[i]());const r=[{node:R.Children.toArray(c.root),parent:void 0,contexts:{}}];for(;r.length!==0;){const{node:i,parent:u,contexts:v}=r.shift();R.Children.forEach(i,I=>{if(!(0,R.isValidElement)(I))return;const A={};for(const L in n)if(n.hasOwnProperty(L)){const Z=n[L];A[L]=Z.visit(Z.accumulator,I,u,v[L])}for(const L of c.discoverers){const Z=L(I);Z&&r.push({node:Z,parent:I,contexts:A})}})}return Object.fromEntries(Object.entries(n).map(([i,u])=>[i,u.accumulator]))}function en(c,n){return()=>({accumulator:c(),visit:n})}function lr(c){var n;return(n=c.props)==null?void 0:n.children}function cr(c){var n,r,i;if((n=c.props)!=null&&n.path&&((r=c.props)!=null&&r.element))return(i=c.props)==null?void 0:i.element}const ur=en(()=>new Set,(c,n)=>{const r=(0,X.IY)(n,"core.plugin");r&&c.add(r)}),Wn=c=>{const{children:n}=c,r=(0,X.h_)(X.W0),i="with"in c?r.isActive(c.with):!r.isActive(c.without);return R.createElement(R.Fragment,null,i?n:null)};(0,X.R5)(Wn,"core.featureFlagged",!0);const fn={caseSensitive:!1,path:"*",element:"match-all",routeRefs:new Set};function hn(c){var n,r;const i=c;return i!=null&&i.type?(r=(n=i.type.displayName)!=null?n:i.type.name)!=null?r:String(i.type):String(i)}function dr(c,n=new Array){return R.Children.forEach(c,r=>{if(!(0,R.isValidElement)(r))return;const i=(0,X.IY)(r,"core.mountPoint");if(i){const u=(0,X.IY)(r,"core.plugin");n.push({routeRef:i,plugin:u})}dr(r.props.children,n)}),n}const pr=en(()=>({paths:new Map,parents:new Map,objects:new Array}),(c,n,r,i)=>{var u,v,I,A,L,Z;if(i!=null&&i.isElementAncestor)return i;if((r==null?void 0:r.props.element)===n)return{...i,isElementAncestor:!0};const q=(u=n.props)==null?void 0:u.path,V=(0,X.IY)(n,"core.mountPoint");if(V&&q)throw new Error(`Path property may not be set directly on a routable extension "${hn(n)}"`);const oe=(I=(v=i==null?void 0:i.obj)==null?void 0:v.children)!=null?I:c.objects;if(q!==void 0){if(typeof q!="string")throw new Error(`Element path must be a string at "${hn(n)}"`);const ie=q.startsWith("/")?q.slice(1):q,Ee=n.props.element;if((0,X.IY)(n,"core.gatherMountPoints")){if(Ee)throw new Error(`Mount point gatherers may not have an element prop "${hn(n)}"`);const Pe={path:ie,element:"gathered",routeRefs:new Set,caseSensitive:Boolean((A=n.props)==null?void 0:A.caseSensitive),children:[fn],plugin:void 0};return oe.push(Pe),{obj:Pe,gatherPath:ie,routeRef:i==null?void 0:i.routeRef,gatherRouteRef:i==null?void 0:i.routeRef}}if(Ee){const[Pe,...Ae]=dr(Ee);if(Ae.length>0)throw new Error(`Route element with path "${q}" may not contain multiple routable extensions`);if(!Pe)return i;const{routeRef:ve,plugin:In}=Pe,kt={path:ie,element:"mounted",routeRefs:new Set([ve]),caseSensitive:Boolean((L=n.props)==null?void 0:L.caseSensitive),children:[fn],plugin:In};return oe.push(kt),c.paths.set(ve,ie),c.parents.set(ve,i==null?void 0:i.routeRef),{obj:kt,routeRef:ve!=null?ve:i==null?void 0:i.routeRef,gatherPath:ie,gatherRouteRef:i==null?void 0:i.gatherRouteRef}}}if(V){if((i==null?void 0:i.gatherPath)===void 0)throw new Error(`Routable extension "${hn(n)}" with mount point "${V}" must be assigned a path`);return(Z=i==null?void 0:i.obj)==null||Z.routeRefs.add(V),c.paths.set(V,i.gatherPath),c.parents.set(V,i==null?void 0:i.gatherRouteRef),{...i,routeRef:V}}return i}),mr=en(()=>({paths:new Map,parents:new Map,objects:new Array}),(c,n,r,i)=>{var u,v,I,A,L;if((r==null?void 0:r.props.element)===n)return i;let Z=i==null?void 0:i.obj,q=i==null?void 0:i.routeRef,V=i==null?void 0:i.sticky;const oe=(u=n.props)==null?void 0:u.path,ie=(v=Z==null?void 0:Z.children)!=null?v:c.objects,Ee=Boolean((I=n.props)==null?void 0:I.caseSensitive);let Pe=i==null?void 0:i.path;if((0,X.IY)(n,"core.gatherMountPoints")){if(!oe)throw new Error("Mount point gatherer must have a path");Pe=oe}const Ae=(A=n.props)==null?void 0:A.element;let ve=(0,X.IY)(n,"core.mountPoint");if(!ve&&(0,R.isValidElement)(Ae)&&(ve=(0,X.IY)(Ae,"core.mountPoint")),ve){let kt=oe;if(Pe&&(kt?Pe=void 0:kt=Pe),!kt)throw new Error("Mounted routable extension must have a path");c.paths.set(ve,kt),q&&V?(c.parents.set(ve,q),oe&&(q=ve,V=!1)):(c.parents.set(ve,q),q=ve),oe?(Z={caseSensitive:Ee,path:oe,element:"mounted",routeRefs:new Set([ve]),children:[fn],plugin:(0,X.IY)(n.props.element,"core.plugin")},ie.push(Z)):Z==null||Z.routeRefs.add(ve)}if((0,X.IY)(n,"core.gatherMountPoints")&&(V=!0),(0,X.IY)(n,"core.gatherMountPoints")){if(!oe)throw new Error("Mount point gatherer must have a path");ve||(Z={caseSensitive:Ee,path:oe,element:"gathered",routeRefs:new Set,children:[fn],plugin:(L=i==null?void 0:i.obj)==null?void 0:L.plugin},ie.push(Z))}return{obj:Z,path:Pe,routeRef:q,sticky:V}}),gr=en(()=>new Set,(c,n)=>{if(n.type===Wn){const r=n.props;c.add("with"in r?r.with:r.without)}}),tn=(0,Q.uW)("route-ref-type",()=>Symbol("route-ref-type"));function xn(c){return c[tn]==="absolute"}function Fn(c){return c[tn]==="sub"}function fr(c){return c[tn]==="external"}function Le(...c){const n=c.join("/").replace(/\/\/+/g,"/");return n!=="/"&&n.endsWith("/")?n.slice(0,-1):n}function hr(c,n,r){let i,u="";if(xn(c))i=c;else if(Fn(c))i=c.parent,u=c.path;else if(fr(c)){const A=r.get(c);if(!A)return[void 0,""];if(xn(A))i=A;else if(Fn(A))i=A.parent,u=A.path;else throw new Error(`ExternalRouteRef was bound to invalid target, ${A}`)}else throw c[tn]?new Error(`Unknown or invalid route ref type, ${c[tn]}`):new Error(`Unknown object passed to useRouteRef, got ${c}`);if(!i)return[void 0,""];const v=n.get(i);if(v===void 0)return[void 0,""];const I=Le(v,u);return[i,I]}function Zn(c,n,r,i,u){var v;const I=(v=(0,H.fp)(u,n))!=null?v:[],A=Array();let L=-1;for(let V=c;V&&(L=I.findIndex(oe=>oe.route.routeRefs.has(V)),L===-1);V=i.get(V))A.unshift(V);A.length===0&&(L-=1);const Z=L===-1?"":I[L].pathname,q=A.slice(0,-1).map(V=>{const oe=r.get(V);if(oe===void 0)throw new Error(`No path for ${V}`);if(oe.includes(":"))throw new Error(`Cannot route to ${c} with parent ${V} as it has parameters`);return oe});return`${Le(Z,...q)}/`}class Er{constructor(n,r,i,u,v){this.routePaths=n,this.routeParents=r,this.routeObjects=i,this.routeBindings=u,this.appBasePath=v}resolve(n,r){const[i,u]=hr(n,this.routePaths,this.routeBindings);if(!i)return;let v;typeof r=="string"?v=this.trimPath(r):r.pathname?v={...r,pathname:this.trimPath(r.pathname)}:v=r;const I=this.appBasePath+Zn(i,v,this.routePaths,this.routeParents,this.routeObjects);return(...[L])=>Le(I,(0,H.Gn)(u,L))}trimPath(n){return n&&(n.startsWith(this.appBasePath)?n.slice(this.appBasePath.length):n)}}const vr=(0,Q.CT)("routing-context"),yr=({routePaths:c,routeParents:n,routeObjects:r,routeBindings:i,basePath:u="",children:v})=>{const I=new Er(c,n,r,i,u),A=(0,Q.EI)({1:I});return R.createElement(vr.Provider,{value:A},v)};function br(c,n){const r=new Set(n.values());r.delete(void 0);for(const i of n.keys()){if(r.has(i))continue;let u=i,v="";for(;u;){const A=c.get(u);if(A===void 0)throw new Error(`No path for ${u}`);v=Le(A,v),u=n.get(u)}const I=v.match(/:(\w+)/g);if(I){for(let A=0;A<I.length;A++)for(let L=A+1;L<I.length;L++)if(I[L]===I[A])throw new Error(`Parameter ${I[L]} is duplicated in path ${v}`)}}}function Sr(c,n){for(const r of n)if(r.externalRoutes){for(const[i,u]of Object.entries(r.externalRoutes))if(!u.optional&&!c.has(u))throw new Error(`External route '${i}' of the '${r.getId()}' plugin must be bound to a target route. See https://backstage.io/link?bind-routes for details.`)}}const Rr=(0,Q.CT)("app-context"),Hr=({appContext:c,children:n})=>{const r=(0,Q.EI)({1:c});return R.createElement(Rr.Provider,{value:r,children:n})};function Un(c){return new Error(`Tried to access IdentityApi ${c} before app was loaded`)}function _n(c){console.warn(`WARNING: Call to ${c} is deprecated and will break in the future`)}class zn{constructor(){this.resolveTarget=()=>{},this.signOutTargetUrl="/",this.waitForTarget=new Promise(n=>{this.resolveTarget=n})}setTarget(n,r){this.target=n,this.signOutTargetUrl=r.signOutTargetUrl,this.resolveTarget(n)}getUserId(){if(!this.target)throw Un("getUserId");if(!this.target.getUserId)throw new Error("IdentityApi does not implement getUserId");return _n("getUserId"),this.target.getUserId()}getProfile(){if(!this.target)throw Un("getProfile");if(!this.target.getProfile)throw new Error("IdentityApi does not implement getProfile");return _n("getProfile"),this.target.getProfile()}async getProfileInfo(){return this.waitForTarget.then(n=>n.getProfileInfo())}async getBackstageIdentity(){const n=await this.waitForTarget.then(r=>r.getBackstageIdentity());return n.userEntityRef.match(/^.*:.*\/.*$/)||console.warn(`WARNING: The App IdentityApi provided an invalid userEntityRef, '${n.userEntityRef}'. It must be a full Entity Reference of the form '<kind>:<namespace>/<name>'.`),n}async getCredentials(){return this.waitForTarget.then(n=>n.getCredentials())}async getIdToken(){return this.waitForTarget.then(n=>{if(!n.getIdToken)throw new Error("IdentityApi does not implement getIdToken");return _n("getIdToken"),n.getIdToken()})}async signOut(){await this.waitForTarget.then(n=>n.signOut()),window.location.href=this.signOutTargetUrl}}function Kn(c,n,r){if(c!==void 0){const u=r.find(v=>v.id===c);if(u)return u}if(n){const u=r.find(v=>v.variant==="dark");if(u)return u}const i=r.find(u=>u.variant==="light");return i||r[0]}const Pn=()=>{const c=(0,R.useMemo)(()=>window.matchMedia("(prefers-color-scheme: dark)"),[]),[n,r]=(0,R.useState)(c.matches);return(0,R.useEffect)(()=>{const i=u=>{r(u.matches)};return c.addListener(i),()=>{c.removeListener(i)}},[c]),n};function jn({children:c}){const n=(0,X.h_)(X.hg),r=(0,ae.Z)(n.activeThemeId$(),n.getActiveThemeId()),i=Boolean(window.matchMedia)?Pn():!1,u=Kn(r,i,n.getInstalledThemes());if(!u)throw new Error("App has no themes");return R.createElement(u.Provider,{children:c})}const wr=async(c="__APP_INJECTED_RUNTIME_CONFIG__")=>{const n=[{context:"app-config.yaml",data:{app:{title:"Scaffolded Backstage App",baseUrl:"http://0.0.0.0:3000"},organization:{name:"My Company"},backend:{baseUrl:"http://localhost:7007"},integrations:{github:[{host:"github.com"}]},techdocs:{builder:"local"},catalog:{import:{entityFilename:"catalog-info.yaml",pullRequestBranchName:"backstage-integration"}}}}];if(!n)throw new Error("No static configuration provided");if(!Array.isArray(n))throw new Error("Static configuration has invalid format");const r=n.slice();if(c!=="__app_injected_runtime_config__".toLocaleUpperCase("en-US"))try{const u=JSON.parse(c);Array.isArray(u)?r.push(...u):r.push({data:u,context:"env"})}catch(u){throw new Error(`Failed to load runtime configuration, ${u}`)}const i=window.__APP_CONFIG__;return i&&r.push({context:"window",data:i}),r};class Cr{constructor(){this.apis=[]}add(n,r){return this.apis.push([n.id,r]),r}build(){return new Dt(new Map(this.apis))}}class Dt{constructor(n){this.apis=n}static builder(){return new Cr}static from(n){return new Dt(new Map(n.map(([r,i])=>[r.id,i])))}static with(n,r){return new Dt(new Map([[n.id,r]]))}with(n,r){return new Dt(new Map([...this.apis,[n.id,r]]))}get(n){return this.apis.get(n.id)}}function tt(c){const n=new Map;return c&&c({bind:(i,u)=>{for(const[v,I]of Object.entries(u)){const A=i[v];if(!A)throw new Error(`Key ${v} is not an existing external route`);if(!I&&!A.optional)throw new Error(`External route ${v} is required but was undefined`);I&&n.set(A,I)}}}),n}var Hn=(c,n,r)=>{if(!n.has(c))throw TypeError("Cannot "+r)},An=(c,n,r)=>(Hn(c,n,"read from private field"),r?r.call(c):n.get(c)),Gr=(c,n,r)=>{if(n.has(c))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(c):n.set(c,r)},sn=(c,n,r,i)=>(Hn(c,n,"write to private field"),i?i.call(c,r):n.set(c,r),r),nn;function xr(c){const n=new URL(c);return n.protocol=document.location.protocol,n.hostname=document.location.hostname,n.port=document.location.port,n.toString().replace(/\/$/,"")}function ln(c,n,r){var i;const u=Boolean(c),v=(0,J.Z)(c||(()=>Promise.resolve([])));let I;if(u&&v.loading){const{Progress:Z}=n;I=R.createElement(Z,null)}else if(v.error){const{BootErrorPage:Z}=n;I=R.createElement(Z,{step:"load-config",error:v.error})}const{ThemeProvider:A=jn}=n;if(I)return{node:R.createElement(We,{apis:Dt.with(X.hg,r)},R.createElement(A,null,I))};let L;if((i=v.value)!=null&&i.length){const Z=ge.fromConfigs(v.value),q=Z.getOptionalString("app.baseUrl"),V=Z.getOptionalString("backend.baseUrl");let oe=v.value;const ie={data:{},context:"relative-resolver"};if(q&&V){const Ee=new URL(q).origin,Pe=new URL(V).origin;if(Ee===Pe){const Ae=xr(V);V!==Ae&&(ie.data.backend={baseUrl:Ae})}}if(q){const Ee=xr(q);q!==Ee&&(ie.data.app={baseUrl:Ee})}Object.keys(ie.data).length&&(oe=oe.concat([ie])),L=ge.fromConfigs(oe)}else L=ge.fromConfigs([]);return{api:L}}class _r{constructor(n){this.app=n}getPlugins(){return this.app.getPlugins()}getSystemIcon(n){return this.app.getSystemIcon(n)}getSystemIcons(){return this.app.getSystemIcons()}getComponents(){return this.app.getComponents()}}class Pr{constructor(n){this.appIdentityProxy=new zn,Gr(this,nn,!1);var r,i,u,v,I;this.apis=(r=n.apis)!=null?r:[],this.icons=n.icons,this.plugins=new Set((i=n.plugins)!=null?i:[]),this.featureFlags=(u=n.featureFlags)!=null?u:[],this.components=n.components,this.themes=n.themes,this.configLoader=(v=n.configLoader)!=null?v:wr,this.defaultApis=(I=n.defaultApis)!=null?I:[],this.bindRoutes=n.bindRoutes,this.apiFactoryRegistry=new $t}getPlugins(){return Array.from(this.plugins)}getSystemIcon(n){return this.icons[n]}getSystemIcons(){return this.icons}getComponents(){return this.components}createRoot(n){const r=this.getProvider();return()=>R.createElement(r,null,n)}getProvider(){if(An(this,nn))throw new Error("app.getProvider() or app.createRoot() has already been called, and can only be called once");sn(this,nn,!0);const n=new _r(this);let r=!1;return({children:u})=>{const v=(0,R.useRef)(!0),I=(0,R.useMemo)(()=>ue.createWithStorage(this.themes),[]),{routing:A,featureFlags:L,routeBindings:Z}=(0,R.useMemo)(()=>{const ie=ir({root:u,discoverers:[lr,cr],collectors:{routing:on()?mr:pr,collectedPlugins:ur,featureFlags:gr}});return ie.collectedPlugins.forEach(Ee=>this.plugins.add(Ee)),this.verifyPlugins(this.plugins),this.getApiHolder(),{...ie,routeBindings:tt(this.bindRoutes)}},[u]);r||(r=!0,br(A.paths,A.parents),Sr(Z,this.plugins));const q=ln(this.configLoader,this.components,I),V="api"in q;if(V){const{api:ie}=q;this.configApi=ie}if("node"in q)return q.node;if(V&&v.current){v.current=!1;const ie=this.getApiHolder().get(X.W0);if(ie){for(const Ae of this.featureFlags)ie.registerFlag({...Ae,pluginId:""});for(const Ae of this.plugins.values())if("getFeatureFlags"in Ae)for(const ve of Ae.getFeatureFlags())ie.registerFlag({name:ve.name,pluginId:Ae.getId()});else for(const ve of Ae.output())ve.type==="feature-flag"&&ie.registerFlag({name:ve.name,pluginId:Ae.getId()});const Ee=ie.getRegisteredFlags(),Pe=new Set(Ee.map(Ae=>Ae.name));for(const Ae of L)Pe.has(Ae)||ie.registerFlag({name:Ae,pluginId:""})}}const{ThemeProvider:oe=jn}=this.components;return R.createElement(We,{apis:this.getApiHolder()},R.createElement(Hr,{appContext:n},R.createElement(oe,null,R.createElement(yr,{routePaths:A.paths,routeParents:A.parents,routeObjects:A.objects,routeBindings:Z,basePath:Ln(q.api)},R.createElement(pn.Provider,{value:{routeObjects:A.objects,appIdentityProxy:this.appIdentityProxy}},u)))))}}getRouter(){return Nn}getApiHolder(){if(this.apiHolder){for(const n of this.plugins)for(const r of n.getApis())this.apiFactoryRegistry.get(r.api)||this.apiFactoryRegistry.register("default",r);return Ke.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder}this.apiFactoryRegistry.register("static",{api:X.hg,deps:{},factory:()=>ue.createWithStorage(this.themes)}),this.apiFactoryRegistry.register("static",{api:X.Ds,deps:{},factory:()=>{if(!this.configApi)throw new Error("Tried to access config API before config was loaded");return this.configApi}}),this.apiFactoryRegistry.register("static",{api:X.$4,deps:{},factory:()=>this.appIdentityProxy}),this.apiFactoryRegistry.register("default",{api:X.W0,deps:{},factory:()=>new S});for(const n of this.defaultApis)this.apiFactoryRegistry.register("default",n);for(const n of this.plugins)for(const r of n.getApis())if(!this.apiFactoryRegistry.register("default",r))throw new Error(`Plugin ${n.getId()} tried to register duplicate or forbidden API factory for ${r.api}`);for(const n of this.apis)if(!this.apiFactoryRegistry.register("app",n))throw new Error(`Duplicate or forbidden API factory for ${n.api} in app`);return Ke.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder=new Ke(this.apiFactoryRegistry),this.apiHolder}verifyPlugins(n){const r=new Set;for(const i of n){const u=i.getId();if(r.has(u))throw new Error(`Duplicate plugin found '${u}'`);r.add(u)}}}nn=new WeakMap;function Ar(c){return new Pr(c)}let Gn=!1;const Ir=c=>{const n=(0,X.qD)(),{NotFoundErrorPage:r}=n.getComponents(),i=(0,R.useMemo)(()=>on(),[]),v=[...(0,X.vJ)(c.children,I=>I.getElements().flatMap(A=>{var L;let Z=A.props.path;if(Z==="")return[];Z=(L=Z==null?void 0:Z.replace(/\/\*$/,""))!=null?L:"/";let q=i?A:A.props.element;return!i&&!q&&(q=A,Gn||(console.warn("DEPRECATION WARNING: All elements within <FlatRoutes> must be of type <Route> with an element prop. Existing usages of <Navigate key=[path] to=[to] /> should be replaced with <Route path=[path] element={<Navigate to=[to] />} />."),Gn=!0)),[{path:Z,element:q,children:A.props.children?[{path:Z==="/"?"/":"*",element:A.props.children}]:void 0}]}).sort((A,L)=>L.path.localeCompare(A.path)).map(A=>({...A,path:A.path==="/"?"/":`${A.path}/*`}))),{path:"*",element:R.createElement(r,null)}];return(0,we.V$)(v)}},14337:function(Ge,Ne,p){p.d(Ne,{BV:function(){return Us},Ex:function(){return Yn},Hz:function(){return Lr},J3:function(){return xo},R6:function(){return Ta},SA:function(){return So},T3:function(){return nr},VY:function(){return er},YE:function(){return As},h4:function(){return tr},in:function(){return yr},mZ:function(){return Mn},mf:function(){return vi},po:function(){return Vt},qt:function(){return gs},rU:function(){return tt},tR:function(){return _s},yW:function(){return $a},yu:function(){return Tn}});var R=p(35278),T=p(17812),b=p(5917),Q=p(22318),ke=p(80366),Xe=p(78715),X=p(23450),Y=p.n(X),a=p(67294),$=p(41120),Me=p(8920),ze=p(59693),pe=p(52543),te=p(35117),nt=p(11476),ce=p(13457),ge=p(282),we=p(89659),H=p(94184),J=p.n(H),ae=p(96486),Be=p.n(ae),me=p(89250),We=p(79655),Ke=p(12599),re=p(28889),$t=p(92124),Nt=p(51990),Pt=p(3454),rt=p(868),ot=p(87239),At=p(85765),at=p(63457),ct=p(60985),gt=p(70681),ft=p.n(gt),ht=p(23279),Xt=p.n(ht),Et=p(32427),Wt=p(97398),It=p.n(Wt),Ce=p(78504),je=p(41749),vt=p(46139),ut=p(91333),Tt=p(44202),Ft=p(68553),He=p(62822),Fe=p(50998),Qe=p(95757),Zt=p(36939),Ot=p(50743),Qt=p(61201),dt=p(38740),pt=p(64566),Ie=p(55517),Ze=p(73935),fe=p(89875),st=p(66735),Ut=p(16660),qt=p(44323),yt=p(52663),qe=p(66856),mt=p(29525),zt=p(66083),Kt=p(96353),Mt=p(62509),B=p(37856),P=p.n(B),N=p(33681),F=p(18463),G=p(51907),ne=p(79912),ue=p(94697),de=p(29973),he=p(64482),et=p(13258),x=p(71267),w=p(64436),m=p(41598),f=p(96394),S=p(85639),M=p(110),O=p(62087),W=p(18029),z=p.n(W),ee=p(88222),K=p(46869),be=p(52387),Se=p(80129),Ue=p.n(Se),jt=p(34449),bt=p(64593),wn=p(25881),Ht=p(39636),Bt=p(48884),Gt=p(16874),pn=p(48665),on=p(41423),sr=p(8998),mn=p(44345),gn=p(57234),Ln=p(29594),$n=p(41959),Cn=p(35996),Nn=p(35308),ir=p(59067),en=p(85963),lr=p(31514),cr=p(58104),ur=p(10064),Wn=p(48485),fn=p(51724),hn=p(83646),dr=p.n(hn),pr=p(89039),mr=p(43340),gr=p(59009),tn=p(39803),xn=p(52504),Fn=p(71589),fr=p(10770),Le=p(1604),hr=p(87536),Zn=p(30585),Er=p(41609),vr=p.n(Er);function yr(e){const[t,o]=(0,a.useState)([]),s=(0,R.h_)(R.$v),{anchorOrigin:l={vertical:"top",horizontal:"center"},transientTimeoutMs:d}=e,g=d!=null?d:5e3;(0,a.useEffect)(()=>{const E=s.alert$().subscribe(_=>o(C=>C.concat(_)));return()=>{E.unsubscribe()}},[s]);const[h]=t;if((0,a.useEffect)(()=>{if(h&&h.display==="transient"){const E=setTimeout(()=>{o(_=>{const C=_.filter(k=>k!==h);return C.length===_.length?_:C})},g);return()=>clearTimeout(E)}},[h,g]),t.length===0)return null;const y=()=>{o(E=>E.filter(_=>_!==h))};return a.createElement(b.Z,{open:!0,anchorOrigin:l},a.createElement(Xe.Z,{action:a.createElement(T.Z,{color:"inherit",size:"small",onClick:y,"data-testid":"error-button-close"},a.createElement(ke.Z,null)),severity:h.severity},a.createElement(Q.Z,{component:"span"},String(h.message),t.length>1&&a.createElement("em",null,` (${t.length-1} older ${Y()("message",t.length-1)})`))))}function br(e){let t=0;for(let s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);let o="#";for(let s=0;s<3;s++){const l=t>>s*8&255;o+=`00${l.toString(16)}`.slice(-2)}return o}function Sr(e){var t;return(t=e.match(/\b\w/g))==null?void 0:t.join("").slice(0,2)}const Rr=(0,$.Z)(e=>({avatar:{width:"4rem",height:"4rem",color:e.palette.common.white},avatarText:{fontWeight:e.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function Hr(e){const{displayName:t,picture:o,customStyles:s}=e,l=Rr();let d={...s};const g={fontFamily:d.fontFamily,fontSize:d.fontSize,fontWeight:d.fontWeight};return o||(d={backgroundColor:br(t||""),...s}),React.createElement(MaterialAvatar,{alt:t,src:o,className:l.avatar,style:d},t&&React.createElement(Typography,{variant:"h6",component:"span",className:l.avatarText,style:g},Sr(t)))}function Un(){const[e]=(0,me.is)(a.createElement(me.AW,{index:!0,element:a.createElement("div",null)}));return!e.index}const _n=(0,$.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),zn=e=>/^([a-z+.-]+):/.test(e),Kn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Pn=window.open;if(Pn&&!Pn.__backstage){const e=function(...o){const s=String(o[0]);if(Kn.test(s))throw new Error("Rejected window.open() with a javascript: URL as a security precaution");return Pn.apply(this,o)};e.__backstage=!0,window.open=e}const jn=()=>{try{return(0,R.h_)(R.Ds).getOptionalString("app.baseUrl")}catch{return}},wr=()=>{var e;const t="http://sample.dev",o=(e=jn())!=null?e:"/",{pathname:s}=new URL(o,t);return(0,ae.trimEnd)(s,"/")},Cr=e=>{let t=String(e);const o=wr(),s=zn(t),l=t.startsWith(o);return!s&&!l&&(t=o.concat(t)),t},Dt=e=>{var t;return e instanceof Array?e.map(Dt).join(" ").trim():typeof e=="object"&&e?Dt((t=e==null?void 0:e.props)==null?void 0:t.children):["string","number"].includes(typeof e)?String(e):""},tt=a.forwardRef(({onClick:e,noTrack:t,...o},s)=>{const l=_n(),d=(0,R.z$)(),g=Un()?Cr(o.to):o.to,h=Dt(o.children)||g,y=zn(g),E=y&&!!/^https?:/.exec(g);if(Kn.test(g))throw new Error("Link component rejected javascript: URL as a security precaution");const _=C=>{e==null||e(C),t||d.captureEvent("click",h,{attributes:{to:g}})};return y?a.createElement(we.Z,{...E?{target:"_blank",rel:"noopener"}:{},...o,...o["aria-label"]?{"aria-label":`${o["aria-label"]}, Opens in a new window`}:{},ref:s,href:g,onClick:_,className:J()(l.externalLink,o.className)},o.children,a.createElement(Q.Z,{component:"span",className:l.visuallyHidden},", Opens in a new window")):a.createElement(we.Z,{...o,ref:s,component:We.rU,to:g,onClick:_})}),Hn=a.forwardRef((e,t)=>a.createElement(tt,{ref:t,...e,color:"initial"})),An=a.forwardRef((e,t)=>a.createElement(ge.Z,{ref:t,component:Hn,...e})),Gr=null;function sn(e){const{text:t,tooltipDelay:o=1e3,tooltipText:s="Text copied to clipboard","aria-label":l="Copy text"}=e,d=(0,R.h_)(R.VE),[g,h]=(0,a.useState)(!1),[{error:y},E]=(0,At.Z)();(0,a.useEffect)(()=>{y&&d.post(y)},[y,d]);const _=C=>{C.stopPropagation(),h(!0),E(t)};return a.createElement(a.Fragment,null,a.createElement(rt.ZP,{id:"copy-test-tooltip",title:s,placement:"top",leaveDelay:o,onClose:()=>h(!1),open:g},a.createElement(T.Z,{onClick:_,"aria-label":l},a.createElement(ot.Z,null))))}function nn(e){const{text:t,language:o,showLineNumbers:s=!1,highlightedNumbers:l,customStyle:d,showCopyCodeButton:g=!1}=e,h=(0,Me.Z)(),y=h.palette.type==="dark"?Nt.Z:Pt.Z,E=h.palette.type==="dark"?"#256bf3":"#e6ffed";return a.createElement(re.Z,{position:"relative"},a.createElement($t.Z,{customStyle:d,language:o,style:y,showLineNumbers:s,wrapLines:!0,lineNumberStyle:{color:h.palette.textVerySubtle},lineProps:_=>l!=null&&l.includes(_)?{style:{backgroundColor:E}}:{}},t),g&&a.createElement(re.Z,{position:"absolute",top:0,right:0},a.createElement(sn,{text:t})))}function xr(e){const{title:t,to:o}=e,s=useMediaQuery(l=>l.breakpoints.down("xs"));return o?s?React.createElement(IconButton,{component:Link$1,color:"primary",title:t,size:"small",to:o},React.createElement(AddCircleOutline,null)):React.createElement(Button$1,{component:Link$1,variant:"contained",color:"primary",to:o},t):null}var ln;(e=>{(t=>{t.TOP_BOTTOM="TB",t.BOTTOM_TOP="BT",t.LEFT_RIGHT="LR",t.RIGHT_LEFT="RL"})(e.Direction||(e.Direction={})),(t=>{t.UP_LEFT="UL",t.UP_RIGHT="UR",t.DOWN_LEFT="DL",t.DOWN_RIGHT="DR"})(e.Alignment||(e.Alignment={})),(t=>{t.NETWORK_SIMPLEX="network-simplex",t.TIGHT_TREE="tight-tree",t.LONGEST_PATH="longest-path"})(e.Ranker||(e.Ranker={})),(t=>{t.LEFT="l",t.RIGHT="r",t.CENTER="c"})(e.LabelPosition||(e.LabelPosition={}))})(ln||(ln={}));const _r=(0,$.Z)(e=>({node:{fill:e.palette.primary.light,stroke:e.palette.primary.light},text:{fill:e.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function Pr({node:{id:e}}){const t=_r(),[o,s]=React.useState(0),[l,d]=React.useState(0),g=React.useRef(null);React.useLayoutEffect(()=>{if(g.current){let{height:_,width:C}=g.current.getBBox();_=Math.round(_),C=Math.round(C),(_!==l||C!==o)&&(s(C),d(_))}},[o,l]);const h=10,y=o+h*2,E=l+h*2;return React.createElement("g",null,React.createElement("rect",{className:t.node,width:y,height:E,rx:10}),React.createElement("text",{ref:g,className:t.text,y:E/2,x:y/2,textAnchor:"middle",alignmentBaseline:"middle"},e))}const Ar="arrow-marker",Gn="node",Ir="edge",c="label",n=(0,Et.Z)(e=>({node:{transition:`${e.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),r=e=>React.createElement(Pr,{...e});function i({render:e=r,setNode:t,node:o}){const{width:s,height:l,x:d=0,y:g=0}=o,h=o,y=n(),E=React.useRef(null);return React.useLayoutEffect(()=>{if(E.current){let{height:_,width:C}=E.current.getBBox();_=Math.round(_),C=Math.round(C),(_!==l||C!==s)&&t(o.id,{...o,height:_,width:C})}},[o,s,l,t]),React.createElement("g",{ref:E,"data-testid":Gn,className:y.node,transform:`translate(${d-s/2},${g-l/2})`},e({node:h}))}const u=(0,Et.Z)(e=>({text:{fill:e.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function v({edge:{label:e}}){const t=u();return React.createElement("text",{className:t.text,textAnchor:"middle"},e)}const I=(0,Et.Z)(e=>({path:{strokeWidth:1,stroke:e.palette.textSubtle,fill:"none",transition:`${e.transitions.duration.shortest}ms`},label:{transition:`${e.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),A=e=>React.createElement(v,{...e});function L({render:e=A,setEdge:t,id:o,edge:s,curve:l}){const{x:d=0,y:g=0,width:h,height:y,points:E}=s,_=s,C=I(),k=React.useRef(null);React.useLayoutEffect(()=>{if(k.current){let{height:j,width:le}=k.current.getBBox();j=Math.round(j),le=Math.round(le),(j!==y||le!==h)&&t(o,{...s,height:j,width:le})}},[s,y,h,t,o]);let D="";const U=React.useMemo(()=>d3Shape.line().x(j=>j.x).y(j=>j.y).curve(d3Shape[l]),[l]);if(E){const j=E.filter(le=>isFinite(le.x)&&isFinite(le.y));D=U(j)||""}return React.createElement(React.Fragment,null,D&&React.createElement("path",{"data-testid":Ir,className:C.path,d:D}),_.label?React.createElement("g",{ref:k,"data-testid":c,className:C.label,transform:`translate(${d},${g})`},e({edge:_})):null)}const Z="workspace";function q(e){var t,o;const{edges:s,nodes:l,renderNode:d,direction:g=ln.Direction.TOP_BOTTOM,align:h,nodeMargin:y=50,edgeMargin:E=10,rankMargin:_=50,paddingX:C=0,paddingY:k=0,acyclicer:D,ranker:U=ln.Ranker.NETWORK_SIMPLEX,labelPosition:j=ln.LabelPosition.RIGHT,labelOffset:le=10,edgeRanks:_e=1,edgeWeight:Ve=1,renderLabel:lt,defs:se,zoom:xe="enabled",curve:Re="curveMonotoneX",fit:Rt="grow",...Lt}=e,wt=useTheme$1(),[Ct,Bn]=React.useState(100),[rn,Kr]=React.useState(100),ye=React.useRef(new dagre.graphlib.Graph),[Sn,ar]=React.useState(((t=ye.current.graph())==null?void 0:t.width)||0),[an,jr]=React.useState(((o=ye.current.graph())==null?void 0:o.height)||0),[Ye,Yt]=React.useState([]),[cn,un]=React.useState([]),Te=Math.max(Sn,Ct),$e=Math.max(an,rn),Rn=Math.min(an,rn),dn=Rt==="grow"?$e:Rn,Dn=React.useMemo(()=>debounce(De=>{if(!De)return;const Je=d3Selection.select(De),Oe=d3Selection.select(De.getElementById(Z));function xt(){Je.call(d3Zoom.zoom().scaleExtent([1,10]).on("zoom",Jt=>{Jt.transform.x=Math.min(0,Math.max(Jt.transform.x,Te-Te*Jt.transform.k)),Jt.transform.y=Math.min(0,Math.max(Jt.transform.y,$e-$e*Jt.transform.k)),Oe.attr("transform",Jt.transform)}))}xe==="enabled"?xt():xe==="enable-on-click"&&Je.on("click",()=>xt());const{width:_t,height:or}=De.getBoundingClientRect();Ct!==_t&&Bn(_t),rn!==or&&Kr(or)},100),[rn,Ct,Te,$e,xe]),Ua=React.useCallback(()=>{const De=ye.current.nodes(),Je=ye.current.edges();De.forEach(Oe=>{l.some(_t=>_t.id===Oe)||ye.current.removeNode(Oe)}),Je.forEach(Oe=>{s.some(_t=>_t.from===Oe.v&&_t.to===Oe.w)||ye.current.removeEdge(Oe.v,Oe.w)}),l.forEach(Oe=>{const xt=ye.current.nodes().find(_t=>Oe.id===_t);if(xt&&ye.current.node(xt)){const{width:_t,height:or,x:Jt,y:Qi}=ye.current.node(xt);ye.current.setNode(xt,{...Oe,width:_t,height:or,x:Jt,y:Qi})}else ye.current.setNode(Oe.id,{...Oe,width:0,height:0})}),s.forEach(Oe=>{ye.current.setEdge(Oe.from,Oe.to,{...Oe,label:Oe.label,width:0,height:0,labelpos:j,labeloffset:le,weight:Ve,minlen:_e})})},[s,l,j,le,Ve,_e]),kn=React.useMemo(()=>debounce(()=>{dagre.layout(ye.current);const{height:De,width:Je}=ye.current.graph(),Oe=Math.max(0,De||0),xt=Math.max(0,Je||0);ar(xt),jr(Oe),Yt(ye.current.nodes()),un(ye.current.edges())},250,{leading:!0}),[]);React.useEffect(()=>(ye.current.setGraph({rankdir:g,align:h,nodesep:y,edgesep:E,ranksep:_,marginx:C,marginy:k,acyclicer:D,ranker:U}),Ua(),kn(),kn.cancel),[D,h,g,E,C,k,y,_,U,Ua,kn]);function Ji(De,Je){return ye.current.setNode(De,Je),kn(),ye.current}function Xi(De,Je){return ye.current.setEdge(De,Je),kn(),ye.current}return React.createElement("svg",{ref:Dn,...Lt,width:"100%",height:dn,viewBox:`0 0 ${Te} ${$e}`},React.createElement("defs",null,React.createElement("marker",{id:Ar,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},React.createElement("path",{fill:wt.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),se),React.createElement("g",{id:Z},React.createElement("svg",{width:Sn,height:an,y:$e/2-an/2,x:Te/2-Sn/2,viewBox:`0 0 ${Sn} ${an}`},cn.map(De=>{const Je=ye.current.edge(De);return Je?React.createElement(L,{key:`${De.v}-${De.w}`,id:De,setEdge:Xi,render:lt,edge:Je,curve:Re}):null}),Ye.map(De=>{const Je=ye.current.node(De);return Je?React.createElement(i,{key:De,setNode:Ji,render:d,node:Je}):null}))))}const V=(0,$.Z)(e=>{var t,o;return{root:{padding:e.spacing(0),marginBottom:e.spacing(0),marginTop:e.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:e.spacing(6),marginTop:-e.spacing(3),zIndex:"unset"},icon:{fontSize:e.typography.h6.fontSize},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap",color:e.palette.banner.text},message:{display:"flex",alignItems:"center","& a":{color:e.palette.banner.link}},button:{color:(t=e.palette.banner.closeButtonColor)!=null?t:"inherit"},info:{backgroundColor:e.palette.banner.info},error:{backgroundColor:e.palette.banner.error},warning:{backgroundColor:(o=e.palette.banner.warning)!=null?o:e.palette.banner.error}}},{name:"BackstageDismissableBanner"}),oe=e=>{var t;const{variant:o,message:s,id:l,fixed:d=!1}=e,g=V(),y=useApi(storageApiRef).forBucket("notifications"),E=(t=y.snapshot("dismissedBanners").value)!=null?t:[],[_,C]=useState(new Set(E)),k=useObservable(y.observe$("dismissedBanners"));useEffect(()=>{var U;if(k!=null&&k.value){const j=(U=k==null?void 0:k.value)!=null?U:[];C(new Set(j))}},[k==null?void 0:k.value]);const D=()=>{y.set("dismissedBanners",[..._,l])};return React.createElement(Snackbar,{anchorOrigin:d?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!_.has(l),classes:{root:classNames(g.root,!d&&g.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(g.content,g[o]),message:g.message},message:s,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",className:g.button,onClick:D},React.createElement(CloseIcon,{className:g.icon}))]}))},ie=(0,$.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),Ee=({missing:e})=>{const t=ie();switch(e){case"field":return React.createElement("img",{src:missingAnnotation,className:t.generalImg,alt:"annotation is missing"});case"info":return React.createElement("img",{src:noInformation,alt:"no Information",className:t.generalImg});case"content":return React.createElement("img",{src:createComponent,alt:"create Component",className:t.generalImg});case"data":return React.createElement("img",{src:noBuild,alt:"no Build",className:t.generalImg});default:return null}},Pe=(0,$.Z)(e=>({root:{backgroundColor:e.palette.background.default,padding:e.spacing(2,0,0,0)},action:{marginTop:e.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function Ae(e){const{title:t,description:o,missing:s,action:l}=e,d=Pe();return React.createElement(Grid,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:d.root,spacing:2},React.createElement(Grid,{item:!0,xs:12,md:6},React.createElement(Grid,{container:!0,direction:"column"},React.createElement(Grid,{item:!0,xs:!0},React.createElement(Typography,{variant:"h5"},t)),React.createElement(Grid,{item:!0,xs:!0},React.createElement(Typography,{variant:"body1"},o)),React.createElement(Grid,{item:!0,xs:!0,className:d.action},l))),React.createElement(Grid,{item:!0,xs:12,md:6,className:d.imageContainer},typeof s=="string"?React.createElement(Ee,{missing:s}):s.customImage))}const ve=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,In=/^.*ANNOTATION.*$/m,kt=ve.match(In)[0],za=ve.split(`
`).findIndex(e=>In.test(e)),Ka=(0,$.Z)(e=>({code:{borderRadius:6,margin:`${e.spacing(2)}px 0px`,background:e.palette.type==="dark"?"#444":e.palette.common.white}}),{name:"BackstageMissingAnnotationEmptyState"});function ja(e){return Array.from(Array(e+1).keys(),t=>t+za)}function Ha(e){const t=e.map(o=>kt.replace("ANNOTATION",o)).join(`
`);return ve.replace(kt,t)}function Ga(e){const t=e.length<=1;return React.createElement(React.Fragment,null,"The ",t?"annotation":"annotations"," ",e.map(o=>React.createElement("code",null,o)).reduce((o,s)=>React.createElement(React.Fragment,null,o,", ",s))," ",t?"is":"are"," missing. You need to add the"," ",t?"annotation":"annotations"," to your component if you want to enable this tool.")}function qi(e){const{annotation:t,readMoreUrl:o}=e,s=Array.isArray(t)?t:[t],l=o||"https://backstage.io/docs/features/software-catalog/well-known-annotations",d=Ka();return React.createElement(Ae,{missing:"field",title:"Missing Annotation",description:Ga(s),action:React.createElement(React.Fragment,null,React.createElement(Typography,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),React.createElement(Box,{className:d.code},React.createElement(nn,{text:Ha(s),language:"yaml",showLineNumbers:!0,highlightedNumbers:ja(s.length),customStyle:{background:"inherit",fontSize:"115%"}})),React.createElement(Button$1,{color:"primary",component:tt,to:l},"Read more"))})}const Vn=(e,t)=>(t.palette.type==="light"?ze._j:ze.$n)(t.palette[e].light,.6),Vr=(e,t)=>(t.palette.type==="light"?ze.$n:ze._j)(t.palette[e].light,.9),Yr=(0,$.Z)(e=>({root:{marginRight:e.spacing(1),fill:({severity:t})=>Vn(t,e)}})),Va=({severity:e})=>{const t=Yr({severity:e});return a.createElement(dt.Z,{classes:t})},Ya=({severity:e})=>{const t=Yr({severity:e});return a.createElement(pt.Z,{classes:t})},Ja=(0,$.Z)(e=>({panel:{backgroundColor:({severity:t})=>Vr(t,e),color:({severity:t})=>Vn(t,e),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:t})=>Vn(t,e),fontWeight:e.typography.fontWeightBold},message:{width:"100%",display:"block",color:({severity:t})=>Vn(t,e),backgroundColor:({severity:t})=>Vr(t,e)},details:{width:"100%",display:"block",color:e.palette.textContrast,backgroundColor:e.palette.background.default,border:`1px solid ${e.palette.border}`,padding:e.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Xa=e=>e.charAt(0).toLocaleUpperCase("en-US")+e.slice(1);function Qa(e){const{severity:t="warning",title:o,message:s,children:l,defaultExpanded:d}=e,g=Ja({severity:t}),h=Xa(t)+(o?`: ${o}`:"");return a.createElement(Zt.Z,{defaultExpanded:d!=null?d:!1,className:g.panel,role:"alert"},a.createElement(Ot.Z,{expandIcon:a.createElement(Ya,{severity:t}),className:g.summary},a.createElement(Va,{severity:t}),a.createElement(Q.Z,{className:g.summaryText,variant:"subtitle1"},h)),(s||l)&&a.createElement(Qt.Z,null,a.createElement(je.Z,{container:!0},s&&a.createElement(je.Z,{item:!0,xs:12},a.createElement(Q.Z,{className:g.message,variant:"body1"},s)),l&&a.createElement(je.Z,{item:!0,xs:12,className:g.details},l))))}const qa=(0,$.Z)(e=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:e.spacing(2)},divider:{margin:e.spacing(2)}}),{name:"BackstageErrorPanel"}),eo=({error:e,message:t,stack:o,children:s})=>{const l=qa();return a.createElement(He.Z,{dense:!0},a.createElement(Fe.Z,{alignItems:"flex-start"},a.createElement(Qe.Z,{classes:{secondary:l.text},primary:"Error",secondary:e}),a.createElement(sn,{text:e})),a.createElement(Fe.Z,{alignItems:"flex-start"},a.createElement(Qe.Z,{classes:{secondary:l.text},primary:"Message",secondary:t}),a.createElement(sn,{text:t})),o&&a.createElement(Fe.Z,{alignItems:"flex-start"},a.createElement(Qe.Z,{classes:{secondary:l.text},primary:"Stack Trace",secondary:o}),a.createElement(sn,{text:o})),s)};function Tn(e){const{title:t,error:o,defaultExpanded:s,children:l}=e;return a.createElement(Qa,{severity:"error",title:t!=null?t:o.message,defaultExpanded:s},a.createElement(eo,{error:o.name,message:o.message,stack:o.stack,children:l}))}const to=(0,$.Z)(e=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:e.spacing(2)},divider:{margin:e.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function el(e){var t;const{title:o,error:s,defaultExpanded:l}=e,d=to();if(s.name!=="ResponseError")return React.createElement(Tn,{title:o!=null?o:s.message,defaultExpanded:l,error:s});const{body:g,cause:h}=s,{request:y,response:E}=g,_=`${E.statusCode}: ${h.name}`,C=y&&`${y.method} ${y.url}`,k=h.message.replace(/\\n/g,`
`),D=(t=h.stack)==null?void 0:t.replace(/\\n/g,`
`),U=JSON.stringify(g,void 0,2);return React.createElement(Tn,{title:o!=null?o:s.message,defaultExpanded:l,error:{name:_,message:k,stack:D}},C&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:d.text},primary:"Request",secondary:y?`${C}`:void 0}),React.createElement(sn,{text:C})),React.createElement(React.Fragment,null,React.createElement(Divider,{component:"li",className:d.divider}),React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:d.text},primary:"Full Error as JSON"})),React.createElement(nn,{language:"json",text:U,showCopyCodeButton:!0})))}function no(e){const t=document.createElement("div");return t.setAttribute("id",e),t}function ro(e){document.body.insertBefore(e,document.body.lastElementChild.nextElementSibling)}function ao(e){const t=useRef(null);useEffect(function(){const l=document.querySelector(`#${e}`),d=l||no(e);return l||ro(d),d.appendChild(t.current),function(){t.current.remove(),d.childNodes.length===-1&&d.remove()}},[e]);function o(){return t.current||(t.current=document.createElement("div")),t.current}return o()}const Tr="core.calloutSeen";function oo(){const[e,t]=useState(()=>{const s=localStorage.getItem(Tr);return s?JSON.parse(s):{}}),o=useCallback((s,l)=>{const d=localStorage.getItem(Tr),h={...d?JSON.parse(d):{},[s]:l};t(h),localStorage.setItem(Tr,JSON.stringify(h))},[]);return{states:e,setState:o}}function so(e){const{states:t,setState:o}=oo(),s=useCallback(()=>{o(e,!0)},[o,e]);return{seen:t[e]===!0,markSeen:s}}function io(e){const{seen:t,markSeen:o}=so(e);return{show:t===!1,hide:o}}const lo=(0,$.Z)(e=>({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:`2px solid ${e.palette.common.white}`,zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:e.palette.common.white,zIndex:2003}}),{name:"BackstageFeatureCalloutCircular"});function tl(e){const{featureId:t,title:o,description:s,children:l}=e,{show:d,hide:g}=io(t),h=ao("core.callout"),y=useRef(null),[E,_]=useState(),C=lo(),k=useCallback(()=>{if(y.current){const D=y.current.getBoundingClientRect(),U=Math.max(D.width,D.height),j=800,le=D.x-(U-D.width)/2-j,_e=D.y-(U-D.height)/2-j,Ve=U+2*j,lt=450,se=D.x+D.width/2-lt,xe=D.y-(U-D.height)/2+U+20;_({dotLeft:le,dotTop:_e,dotSize:Ve,borderWidth:j,textTop:xe,textLeft:se,textWidth:lt})}},[]);return useEffect(()=>(window.addEventListener("resize",k),window.addEventListener("scroll",k),()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",k)}),[k]),useLayoutEffect(k,[y.current,k]),d?React.createElement(React.Fragment,null,React.createElement(Box,{className:C.featureWrapper,ref:y},l),createPortal(React.createElement(Box,{className:C.backdrop},React.createElement(ClickAwayListener,{onClickAway:g},React.createElement(React.Fragment,null,React.createElement(Box,{className:C.dot,"data-testid":"dot",style:{left:E==null?void 0:E.dotLeft,top:E==null?void 0:E.dotTop,width:E==null?void 0:E.dotSize,height:E==null?void 0:E.dotSize,borderWidth:E==null?void 0:E.borderWidth},onClick:g,onKeyDown:g,role:"button",tabIndex:0},React.createElement(Box,{className:C.pulseCircle})),React.createElement(Box,{className:C.text,"data-testid":"text",style:{left:E==null?void 0:E.textLeft,top:E==null?void 0:E.textTop,width:E==null?void 0:E.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},o),React.createElement(Typography,null,s))))),h)):React.createElement(React.Fragment,null,l)}const co=(0,$.Z)(e=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:e.palette.text.secondary,cursor:"default"},primary:{color:e.palette.primary.main},secondary:{color:e.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function uo({color:e="primary",disabled:t=!1,href:o="#",icon:s=React.createElement(LinkIcon,null),label:l,onClick:d,title:g}){const h=co();return t?React.createElement(Box,{title:g,className:classNames(h.link,h.disabled)},s,React.createElement(Typography,{variant:"caption",component:"span",className:h.label},l)):React.createElement(tt,{title:g,className:classNames(h.link,h[e]),to:o,onClick:d},s,React.createElement(Typography,{variant:"caption",component:"span",className:h.label},l))}const po=(0,$.Z)(e=>({links:{margin:e.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:e.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function nl(e){const{links:t}=e,o=po();return React.createElement("nav",{className:o.links},t.map((s,l)=>React.createElement(uo,{key:l+1,...s})))}const Jr=e=>{const t=e==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${t}) 0%,
    hsla(0, 0%, ${t}, 0.987) 8.1%,
    hsla(0, 0%, ${t}, 0.951) 15.5%,
    hsla(0, 0%, ${t}, 0.896) 22.5%,
    hsla(0, 0%, ${t}, 0.825) 29%,
    hsla(0, 0%, ${t}, 0.741) 35.3%,
    hsla(0, 0%, ${t}, 0.648) 41.2%,
    hsla(0, 0%, ${t}, 0.55) 47.1%,
    hsla(0, 0%, ${t}, 0.45) 52.9%,
    hsla(0, 0%, ${t}, 0.352) 58.8%,
    hsla(0, 0%, ${t}, 0.259) 64.7%,
    hsla(0, 0%, ${t}, 0.175) 71%,
    hsla(0, 0%, ${t}, 0.104) 77.5%,
    hsla(0, 0%, ${t}, 0.049) 84.5%,
    hsla(0, 0%, ${t}, 0.013) 91.9%,
    hsla(0, 0%, ${t}, 0) 100%
  `},mo=100,Or=10,go=(0,$.Z)(e=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:mo,height:`calc(100% + ${Or}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-Or,background:`linear-gradient(90deg, ${Jr(e.palette.type)})`},fadeRight:{right:-Or,background:`linear-gradient(270deg, ${Jr(e.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-e.spacing(2)},buttonRight:{right:-e.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function fo(e){const[[t,o],s]=React.useState([0,0]);return React.useLayoutEffect(()=>{const l=e.current;if(!l){s([0,0]);return}const d=()=>{const g=l.scrollLeft,h=l.scrollWidth-l.offsetWidth-l.scrollLeft;s([g,h])};return d(),l.addEventListener("scroll",d),window.addEventListener("resize",d),()=>{l.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[e]),[t,o]}function ho(e,t,o){const[s,l]=React.useState(0);return React.useLayoutEffect(()=>{if(s===0)return;const d=window.performance.now(),g=requestAnimationFrame(h=>{if(!e.current)return;const y=h-d,E=Math.abs(s)*y/t,C=Math.max(o,E)*Math.sign(s);e.current.scrollBy({left:C});const k=s-C;Math.sign(s)!==Math.sign(k)?l(0):l(k)});return()=>cancelAnimationFrame(g)},[e,s,t,o]),l}function rl(e){const{scrollStep:t=100,scrollSpeed:o=50,minScrollDistance:s=5,children:l,...d}=e,g=go(e),h=React.useRef(),[y,E]=fo(h),_=ho(h,o,s),C=k=>{h.current&&_(k?t:-t)};return React.createElement(Box,{...d,className:g.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:g.container,ref:h},l),React.createElement(Box,{className:classNames(g.fade,g.fadeLeft,{[g.fadeHidden]:y===0})}),React.createElement(Box,{className:classNames(g.fade,g.fadeRight,{[g.fadeHidden]:E===0})}),y>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>C(!1),className:classNames(g.button,g.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),E>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>C(!0),className:classNames(g.button,g.buttonRight,{})},React.createElement(ChevronRight,null)))}const Eo=(0,$.Z)(e=>({alpha:{color:e.palette.common.white,fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}}),{name:"BackstageLifecycle"});function al(e){const t=Eo(e),{shorthand:o,alpha:s}=e;return o?React.createElement(Typography,{component:"span",className:t[s?"alpha":"beta"],style:{fontSize:"120%"}},s?React.createElement(React.Fragment,null,"\u03B1"):React.createElement(React.Fragment,null,"\u03B2")):React.createElement(Typography,{component:"span",className:t[s?"alpha":"beta"]},s?"Alpha":"Beta")}const vo=(0,a.lazy)(()=>p.e(9520).then(p.bind(p,99520)).then(e=>({default:e.RealLogViewer})));function ol(e){const{Progress:t}=useApp().getComponents();return React.createElement(Suspense,{fallback:React.createElement(t,null)},React.createElement(vo,{...e}))}const yo=(0,$.Z)(e=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${e.palette.border}`},"& th, & td":{border:`1px solid ${e.palette.border}`,padding:e.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:e.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:e.palette.background.paper},"& tr":{backgroundColor:e.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:e.palette.background.default},"& a":{color:e.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),Xr=(e,t)=>t?typeof t=="string"?e+t:a.Children.toArray(t.props.children).reduce(Xr,e):e,En=({level:e,children:t})=>{const l=a.Children.toArray(t).reduce(Xr,"").toLocaleLowerCase("en-US").replace(/\W/g,"-");return a.createElement(`h${e}`,{id:l},t)},bo={code:({inline:e,className:t,children:o,...s})=>{const l=String(o).replace(/\n+$/,""),d=/language-(\w+)/.exec(t||"");return!e&&d?a.createElement(nn,{language:d[1],text:l}):a.createElement("code",{className:t,...s},o)},h1:En,h2:En,h3:En,h4:En,h5:En,h6:En};function So(e){const{content:t,dialect:o="gfm",linkTarget:s,transformLinkUri:l,transformImageUri:d,className:g}=e,h=yo();return a.createElement(Ut.D,{remarkPlugins:o==="gfm"?[qt.Z]:[],className:`${h.markdown} ${g}`,children:t,components:bo,linkTarget:s,transformLinkUri:l,transformImageUri:d})}const Ro=(0,$.Z)(e=>({root:{paddingLeft:e.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),wo=({request:e,busy:t,setBusy:o})=>{const s=Ro(),[l,d]=(0,a.useState)(),g=async()=>{o(!0);try{await e.trigger()}catch(y){d((0,Mt.VZ)(y)?y.message:"An unspecified error occurred")}finally{o(!1)}},h=e.provider.icon;return a.createElement(Fe.Z,{disabled:t,classes:{root:s.root}},a.createElement(Kt.Z,null,a.createElement(h,{fontSize:"large"})),a.createElement(Qe.Z,{primary:e.provider.title,secondary:l&&a.createElement(Q.Z,{color:"error"},l)}),a.createElement(ge.Z,{color:"primary",variant:"contained",onClick:g},"Log in"))},Co=(0,$.Z)(e=>({dialog:{paddingTop:e.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:e.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:e.spacing(2,0)}}),{name:"OAuthRequestDialog"});function xo(e){var t;const o=Co(),[s,l]=(0,a.useState)(!1),d=(0,R.h_)(R.ZM),h=(t=(0,R.h_)(R.Ds).getOptionalBoolean("enableExperimentalRedirectFlow"))!=null?t:!1,y=(0,Ce.Z)((0,a.useMemo)(()=>d.authRequest$(),[d]),[]),E=()=>{y.forEach(_=>_.reject())};return a.createElement(yt.Z,{open:Boolean(y.length),fullWidth:!0,maxWidth:"xs",classes:{paper:o.dialog},"aria-labelledby":"oauth-req-dialog-title"},a.createElement("main",null,a.createElement(zt.Z,{classes:{root:o.title},id:"oauth-req-dialog-title"},a.createElement(Q.Z,{className:o.titleHeading,variant:"h1"},"Login Required"),h?a.createElement(Q.Z,null,"This will trigger a http redirect to OAuth Login."):null),a.createElement(mt.Z,{dividers:!0,classes:{root:o.contentList}},a.createElement(He.Z,null,y.map(_=>a.createElement(wo,{key:_.provider.title,request:_,busy:s,setBusy:l}))))),a.createElement(qe.Z,{classes:{root:o.actionButtons}},a.createElement(ge.Z,{onClick:E},"Reject All")))}const _o=(0,$.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function sl(e){var t;const[o,s]=useState(!1),l=useIsMounted(),d=_o(),g=h=>{l()&&s(h)};return React.createElement(Tooltip,{title:(t=e.title)!=null?t:e.text||"",placement:e.placement,disableHoverListener:!o},React.createElement(TextTruncate,{text:e.text,line:e.line,onToggled:g,containerClassName:d.container}))}function Yn(e){const t=(0,Me.Z)(),[o,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{const l=setTimeout(()=>s(!0),t.transitions.duration.short);return()=>clearTimeout(l)},[t.transitions.duration.short]),o?a.createElement(N.Z,{...e,"data-testid":"progress"}):a.createElement(re.Z,{display:"none"})}const Po=(0,$.Z)(e=>({root:{maxWidth:"fit-content",padding:e.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:e.palette.textSubtle},arrow:{color:e.palette.textSubtle}}),{name:"BackstageBottomLink"});function Qr(e){const{link:t,title:o,onClick:s}=e,l=Po();return a.createElement(re.Z,null,a.createElement(Ie.Z,null),a.createElement(tt,{to:t,onClick:s,underline:"none"},a.createElement(re.Z,{display:"flex",alignItems:"center",className:l.root},a.createElement(re.Z,{className:l.boxTitle,fontWeight:"fontWeightBold",m:1},a.createElement(Q.Z,null,a.createElement("strong",null,o))),a.createElement(de.Z,{className:l.arrow}))))}const Ao=e=>{const{slackChannel:t}=e;if(t){if(typeof t=="string")return a.createElement(Q.Z,null,"Please contact ",t," for help.");if(!t.href)return a.createElement(Q.Z,null,"Please contact ",t.name," for help.")}else return null;return a.createElement(An,{to:t.href,variant:"contained"},t.name)},qr=class extends a.Component{constructor(t){super(t),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(t,o){console.error(`ErrorBoundary, error: ${t}, info: ${o}`),this.setState({error:t,errorInfo:o})}render(){const{slackChannel:t,children:o}=this.props,{error:s}=this.state;return s?a.createElement(Tn,{title:"Something Went Wrong",error:s},a.createElement(Ao,{slackChannel:t})):o}},Io=(0,$.Z)(e=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:e.spacing(2,2,2,2.5)},headerTitle:{fontWeight:e.typography.fontWeightBold},headerSubheader:{paddingTop:e.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),To=(0,pe.Z)(e=>({root:{display:"inline-block",padding:e.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(G.Z),ea={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function On(e){const{title:t,subheader:o,divider:s=!0,deepLink:l,slackChannel:d,errorBoundaryProps:g,variant:h,children:y,headerStyle:E,headerProps:_,icon:C,action:k,actionsClassName:D,actions:U,cardClassName:j,actionsTopRight:le,className:_e,noPadding:Ve,titleTypographyProps:lt}=e,se=Io();let xe={},Re={};h&&h.split(/[\s]+/g).forEach(Ct=>{xe={...xe,...ea.card[Ct]},Re={...Re,...ea.cardContent[Ct]}});const Rt=()=>!o&&!C?null:a.createElement("div",{className:se.headerSubheader,"data-testid":"info-card-subheader"},o&&a.createElement("div",{className:se.subheader},o),C),Lt=g||(d?{slackChannel:d}:{});return a.createElement(F.Z,{style:xe,className:_e},a.createElement(qr,{...Lt},t&&a.createElement(ue.Z,{classes:{root:se.header,title:se.headerTitle,subheader:se.headerSubheader,avatar:se.headerAvatar,action:se.headerAction,content:se.headerContent},title:t,subheader:Rt(),action:k,style:{...E},titleTypographyProps:lt,..._}),le&&a.createElement(To,null,le),s&&a.createElement(Ie.Z,null),a.createElement(ne.Z,{className:J()(j,{[se.noPadding]:Ve}),style:Re},y),U&&a.createElement(G.Z,{className:D},U),l&&a.createElement(Qr,{...l})))}const Oo=(0,$.Z)(e=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:e.typography.pxToRem(45),fontWeight:e.typography.fontWeightBold,color:e.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),ta={fractional:!0,inverse:!1,unit:"%",max:100},na=({palette:e,value:t,inverse:o,max:s})=>{if(isNaN(t))return"#ddd";const l=s||ta.max,d=o?l-t:t;return d<l/3?e.status.error:d<l*(2/3)?e.status.warning:e.status.ok};function Mo(e){const[t,o]=useState(null),{getColor:s=na}=e,l=Oo(e),{palette:d}=useTheme(),{value:g,fractional:h,inverse:y,unit:E,max:_,description:C}={...ta,...e},k=h?Math.round(g*_):g,D=_!==100?Math.round(g):k,[U,j]=useState(!1);return useEffect(()=>{const le=t,_e=()=>j(!0),Ve=()=>j(!1);return le&&C?(le.addEventListener("mouseenter",_e),le.addEventListener("mouseleave",Ve),()=>{le.removeEventListener("mouseenter",_e),le.removeEventListener("mouseleave",Ve)}):()=>{j(!1)}},[C,t]),React.createElement(Box,{ref:o,className:l.root},React.createElement(Circle,{strokeLinecap:"butt",percent:k,strokeWidth:12,trailWidth:12,strokeColor:s({palette:d,value:D,inverse:y,max:_}),className:l.circle}),C&&U?React.createElement(Box,{className:l.description},C):React.createElement(Box,{className:l.overlay},isNaN(g)?"N/A":`${D}${E}`))}const Bo=(0,$.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function il(e){const t=Bo(e),{title:o,subheader:s,progress:l,inverse:d,deepLink:g,description:h,icon:y,variant:E,getColor:_}=e,C={inverse:d,description:h,getColor:_,value:l};return React.createElement(Box,{className:t.root},React.createElement(On,{title:o,subheader:s,deepLink:g,variant:E,icon:y},React.createElement(Mo,{...C})))}function ll(e){const{value:t,getColor:o=na}=e,{palette:s}=useTheme();if(isNaN(t))return null;let l=Math.round(t*100*100)/100;l>100&&(l=100);const d=o({palette:s,value:l,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${l}%`},React.createElement(Typography,{component:"span"},React.createElement(Line,{percent:l,strokeWidth:4,trailWidth:4,strokeColor:d})))}const Do=(0,$.Z)(e=>(0,te.Z)({icon:{position:"absolute",right:e.spacing(.5),pointerEvents:"none"}}),{name:"BackstageClosedDropdown"}),ko=()=>{const e=Do();return a.createElement(O.Z,{className:e.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},Lo=(0,$.Z)(e=>(0,te.Z)({icon:{position:"absolute",right:e.spacing(.5),pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"}),$o=()=>{const e=Lo();return a.createElement(O.Z,{className:e.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},No=(0,pe.Z)(e=>(0,te.Z)({root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:e.shape.borderRadius,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:e.typography.body1.fontSize,padding:e.spacing(1.25,3.25,1.25,1.5),transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:e.palette.background.paper,borderRadius:e.shape.borderRadius}}}),{name:"BackstageSelectInputBase"})(m.Z),Wo=(0,$.Z)(e=>(0,te.Z)({formControl:{margin:`${e.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:e.typography.body2.fontSize,fontFamily:e.typography.fontFamily,color:e.palette.text.primary,"&.Mui-focused":{color:e.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:e.typography.body2.fontSize,fontFamily:e.typography.fontFamily,color:e.palette.text.primary,"&.Mui-focused":{color:e.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function Fo(e){const{multiple:t,items:o,label:s,placeholder:l,selected:d,onChange:g,triggerReset:h,native:y=!1,disabled:E=!1,margin:_}=e,C=Wo(),[k,D]=(0,a.useState)(d||(t?[]:"")),[U,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{D(t?[]:"")},[h,t]),(0,a.useEffect)(()=>{D(d||(t?[]:""))},[d,t]);const le=se=>{D(se.target.value),g(se.target.value)},_e=se=>{if(E){se.preventDefault();return}j(xe=>t&&!(se.target instanceof HTMLElement)?!0:!xe)},Ve=()=>{j(!1)},lt=se=>()=>{const xe=k.filter(Re=>Re!==se);D(xe),g(xe)};return a.createElement(re.Z,{className:C.root},a.createElement(w.Z,{className:C.formControl},a.createElement(f.Z,{className:C.formLabel},s),a.createElement(M.Z,{"aria-label":s,value:k,native:y,disabled:E,"data-testid":"select",displayEmpty:!0,multiple:t,margin:_,onChange:le,open:U,onOpen:_e,onClose:Ve,input:a.createElement(No,null),label:s,tabIndex:0,renderValue:se=>{var xe;return t&&k.length!==0?a.createElement(re.Z,{className:C.chips},se.map(Re=>{var Rt,Lt;return a.createElement(x.Z,{key:(Rt=o.find(wt=>wt.value===Re))==null?void 0:Rt.value,label:(Lt=o.find(wt=>wt.value===Re))==null?void 0:Lt.label,clickable:!0,onDelete:lt(Re),className:C.chip})})):a.createElement(Q.Z,null,k.length===0?l||"":(xe=o.find(Re=>Re.value===se))==null?void 0:xe.label)},IconComponent:()=>U?a.createElement($o,null):a.createElement(ko,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},l&&!t&&a.createElement(S.Z,{value:[]},l),y?o&&o.map(se=>a.createElement("option",{value:se.value,key:se.value},se.label)):o&&o.map(se=>a.createElement(S.Z,{key:se.value,value:se.value},t&&a.createElement(et.Z,{color:"primary",checked:k.includes(se.value)||!1,className:C.checkbox}),se.label)))))}const Mr=()=>{},ra=a.createContext({stepperLength:0,stepIndex:0,setStepIndex:Mr,stepHistory:[],setStepHistory:Mr,onStepChange:Mr});function cl(e){const{children:t,elevated:o,onStepChange:s,activeStep:l=0}=e,[d,g]=useState(l),[h,y]=useState([0]);useEffect(()=>{g(l)},[l]);const E=[];let _;return Children.forEach(t,C=>{isValidElement(C)&&(C.props.end?_=C:E.push(C))}),React.createElement(React.Fragment,null,React.createElement(ra.Provider,{value:{stepIndex:d,setStepIndex:g,stepHistory:h,setStepHistory:y,onStepChange:s,stepperLength:Children.count(t)}},React.createElement(MuiStepper,{activeStep:d,orientation:"vertical",elevation:o?2:0},E)),d>=Children.count(t)-1&&_)}const Zo=(0,$.Z)(e=>({root:{marginTop:e.spacing(3),"& button":{marginRight:e.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),Uo=({text:e,handleClick:t})=>React.createElement(Button$1,{onClick:t},e||"Reset"),zo=({text:e,handleClick:t,disabled:o,last:s,stepIndex:l})=>React.createElement(Button$1,{variant:"contained",color:"primary",disabled:o,"data-testid":`nextButton-${l}`,onClick:t},e||(s?"Finish":"Next")),Ko=({text:e,handleClick:t,disabled:o,stepIndex:s})=>React.createElement(Button$1,{variant:"outlined",color:"primary",disabled:o,"data-testid":`skipButton-${s}`,onClick:t},e||"Skip"),jo=({text:e,handleClick:t,disabled:o,stepIndex:s})=>React.createElement(Button$1,{onClick:t,"data-testid":`backButton-${s}`,disabled:o},e||"Back"),aa=({actions:e={},children:t})=>{const o=Zo(),{stepperLength:s,stepIndex:l,setStepIndex:d,stepHistory:g,setStepHistory:h,onStepChange:y}=useContext(ra),E=(D,U)=>{U&&U(),y&&y(l,D),d(D)},_=()=>{const D=e.nextStep?e.nextStep(l,s-1):l+1;E(D,e.onNext),h([...g,D])},C=()=>{g.pop(),E(g[g.length-1],e.onBack),h([...g])},k=()=>{E(0,e.onRestart),h([0])};return React.createElement(Box,{className:o.root},[void 0,!0].includes(e.showBack)&&l!==0&&React.createElement(jo,{text:e.backText,handleClick:C,disabled:l===0,stepIndex:l}),e.showSkip&&React.createElement(Ko,{text:e.skipText,handleClick:_,disabled:!!s&&l>=s||!!e.canSkip&&!e.canSkip(),stepIndex:l}),[void 0,!0].includes(e.showNext)&&React.createElement(zo,{text:e.nextText,handleClick:_,disabled:!!s&&l>=s||!!e.canNext&&!e.canNext(),stepIndex:l}),e.showRestart&&l!==0&&React.createElement(Uo,{text:e.restartText,handleClick:k,stepIndex:l}),t)},Ho=(0,$.Z)(e=>({end:{padding:e.spacing(3)}}),{name:"SimpleStepperStep"});function ul(e){const{title:t,children:o,end:s,actions:l,...d}=e,g=Ho();return s?React.createElement(Box,{className:g.end},React.createElement(Typography,{variant:"h6"},t),o,React.createElement(aa,{actions:{...l||{},showNext:!1}})):React.createElement(MuiStep,{...d},React.createElement(StepLabel,null,React.createElement(Typography,{variant:"h6"},t)),React.createElement(StepContent,null,o,React.createElement(aa,{actions:l})))}const vn=(0,$.Z)(e=>({status:{fontWeight:e.typography.fontWeightMedium,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:e.spacing(1),borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:e.palette.status.ok}},warning:{"&::before":{backgroundColor:e.palette.status.warning}},error:{"&::before":{backgroundColor:e.palette.status.error}},pending:{"&::before":{backgroundColor:e.palette.status.pending}},running:{"&::before":{backgroundColor:e.palette.status.running}},aborted:{"&::before":{backgroundColor:e.palette.status.aborted}}}),{name:"BackstageStatus"});function dl(e){const t=vn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.ok),"aria-label":"Status ok","aria-hidden":"true",...e})}function pl(e){const t=vn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.warning),"aria-label":"Status warning","aria-hidden":"true",...e})}function ml(e){const t=vn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.error),"aria-label":"Status error","aria-hidden":"true",...e})}function gl(e){const t=vn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.pending),"aria-label":"Status pending","aria-hidden":"true",...e})}function fl(e){const t=vn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.running),"aria-label":"Status running","aria-hidden":"true",...e})}function hl(e){const t=vn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.aborted),"aria-label":"Status aborted","aria-hidden":"true",...e})}const Go=e=>(0,te.Z)({root:{fontWeight:e.typography.fontWeightBold,whiteSpace:"nowrap",paddingRight:e.spacing(4),border:"0",verticalAlign:"top"}}),Vo={root:{border:"0",verticalAlign:"top"}},Yo=e=>(0,te.Z)({root:{margin:e.spacing(0,0,-1,0)}}),Jo=e=>(0,te.Z)({root:{padding:e.spacing(0,0,1,0)},random:{}}),Xo=(0,pe.Z)(Go,{name:"BackstageMetadataTableTitleCell"})(ee.Z),Qo=(0,pe.Z)(Vo,{name:"BackstageMetadataTableCell"})(ee.Z),qo=({dense:e,children:t})=>React.createElement(Table$1,{size:e?"small":"medium"},React.createElement(TableBody,null,t)),es=({title:e,children:t,...o})=>React.createElement(TableRow,null,e&&React.createElement(Xo,null,e),React.createElement(Qo,{colSpan:e?1:2,...o},t)),oa=(0,pe.Z)(Yo,{name:"BackstageMetadataTableList"})(({classes:e,children:t})=>a.createElement(He.Z,{disablePadding:!0,className:e.root},t)),sa=(0,pe.Z)(Jo,{name:"BackstageMetadataTableListItem"})(({classes:e,children:t})=>a.createElement(Fe.Z,{className:e.root},t)),ia=(0,te.Z)({root:{margin:"0 0",listStyleType:"none"}}),ts=e=>(0,te.Z)({root:{...ia.root,paddingLeft:e.spacing(1)}}),la=(0,pe.Z)(ia,{name:"BackstageStructuredMetadataTableList"})(({classes:e,children:t})=>a.createElement(oa,{classes:e},t)),ca=(0,pe.Z)(ts,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:e,children:t})=>a.createElement(oa,{classes:e},t));function ns(e,t){const o=e.map((s,l)=>React.createElement(sa,{key:l},Br(s)));return t?React.createElement(ca,null,o):React.createElement(la,null,o)}function rs(e,t,o){const s=Object.keys(e).map(l=>{const d=Br(e[l],!0),g=o&&o.titleFormat?o.titleFormat(l):startCase(l);return React.createElement(sa,{key:l},React.createElement(Typography,{variant:"body2",component:"span"},`${g}: `),d)});return t?React.createElement(ca,null,s):React.createElement(la,null,s)}function Br(e,t,o){return React.isValidElement(e)?React.createElement(Fragment,null,e):typeof e=="object"&&!Array.isArray(e)?rs(e,t,o):Array.isArray(e)?ns(e,o):typeof e=="boolean"?React.createElement(Fragment,null,e?"\u2705":"\u274C"):React.createElement(Typography,{variant:"body2",component:"span"},e)}const as=({value:e,options:t})=>React.createElement(Fragment,null,Br(e,t)),os=({title:e,value:t,options:o})=>React.createElement(es,{title:o&&o.titleFormat?o.titleFormat(e):startCase(e)},React.createElement(as,{value:t,options:o}));function ss(e,t){return Object.keys(e).map(o=>React.createElement(os,{key:o,title:o,value:e[o],options:t}))}function El(e){const{metadata:t,dense:o=!0,options:s}=e,l=ss(t,s||{});return React.createElement(qo,{dense:o},l)}function is(e){return qs.stringify(e,{strictNullHandling:!0})}function ua(e){return qs.parse(e,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function da(e,t){return ua(e)[t]}function ls(e,t,o){const s={...ua(e),[t]:o};return is(s)}function vl(e,t=250){const[o,s]=useSearchParams(),l=o.toString(),[d,g]=useState(da(l,e));return useEffect(()=>{const h=da(l,e);g(y=>isEqual(h,y)?y:h)},[l,g,e]),useDebouncedEffect(()=>{const h=ls(l,e,d);l!==h&&s(h,{replace:!0})},[s,d,l,e],t),[d,g]}const cs={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function pa(){const t=(0,R.I_)().get(R.Ds),o=t==null?void 0:t.getOptionalConfig("app.support");return o?{url:o.getString("url"),items:o.getConfigArray("items").flatMap(s=>{var l;return{title:s.getString("title"),icon:s.getOptionalString("icon"),links:((l=s.getOptionalConfigArray("links"))!=null?l:[]).flatMap(d=>({url:d.getString("url"),title:d.getString("title")}))}})}:cs}function St(e,t){const s=(0,R.qD)().getSystemIcon(e);return s?a.createElement(s,{...t}):a.createElement(jt.Z,{...t})}function yl(e){return St("brokenImage",e)}function bl(e){return St("catalog",e)}function Sl(e){return St("chat",e)}function Rl(e){return St("dashboard",e)}function wl(e){return St("docs",e)}function Cl(e){return St("email",e)}function xl(e){return St("github",e)}function _l(e){return St("group",e)}function Jn(e){return St("help",e)}function Pl(e){return St("user",e)}function Al(e){return St("warning",e)}const us=(0,$.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),ds=({icon:e})=>{var t;const o=(0,R.qD)(),s=e&&(t=o.getSystemIcon(e))!=null?t:Jn;return a.createElement(s,null)},ps=({link:e})=>{var t;return a.createElement(tt,{to:e.url},(t=e.title)!=null?t:e.url)},ms=({item:e})=>{var t;return a.createElement(Fe.Z,null,a.createElement(K.Z,null,a.createElement(ds,{icon:e.icon})),a.createElement(Qe.Z,{primary:e.title,secondary:(t=e.links)==null?void 0:t.reduce((o,s,l)=>[...o,l>0&&a.createElement("br",{key:l}),a.createElement(ps,{link:s,key:s.url})],[])}))};function gs(e){const{title:t,items:o,children:s}=e,{items:l}=pa(),[d,g]=(0,a.useState)(!1),[h,y]=(0,a.useState)(null),E=us(),_=(0,at.Z)(D=>D.breakpoints.down("sm")),C=D=>{y(D.currentTarget),g(!0)},k=()=>{g(!1)};return a.createElement(a.Fragment,null,a.createElement(re.Z,{display:"flex",ml:1},_?a.createElement(T.Z,{color:"primary",size:"small",onClick:C,"data-testid":"support-button","aria-label":"Support"},a.createElement(Jn,null)):a.createElement(ge.Z,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:C,startIcon:a.createElement(Jn,null)},"Support")),a.createElement(be.ZP,{"data-testid":"support-button-popover",open:d,anchorEl:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:k},a.createElement(He.Z,{className:E.popoverList},t&&a.createElement(Fe.Z,{alignItems:"flex-start"},a.createElement(Q.Z,{variant:"subtitle1"},t)),a.Children.map(s,(D,U)=>a.createElement(Fe.Z,{alignItems:"flex-start",key:`child-${U}`},D)),(o!=null?o:l).map((D,U)=>a.createElement(ms,{item:D,key:`item-${U}`}))),a.createElement(qe.Z,null,a.createElement(ge.Z,{color:"primary",onClick:k,"aria-label":"Close"},"Close"))))}const Xn=72,ma=24,ga=18,Vt={drawerWidthClosed:Xn,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:Xn,iconSize:Xn-ma*2,iconPadding:ma,selectedIndicatorWidth:3,userBadgePadding:ga,userBadgeDiameter:Xn-ga*2,mobileSidebarHeight:56},fs=e=>({...Vt,...e,iconContainerWidth:Vt.drawerWidthClosed,iconSize:Vt.drawerWidthClosed-Vt.iconPadding*2,userBadgeDiameter:Vt.drawerWidthClosed-Vt.userBadgePadding*2}),fa={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:Vt.defaultOpenDelayMs+200},hs=e=>({...fa,...e}),Es="@backstage/core/sidebar-intro-dismissed",it=(0,a.createContext)({sidebarConfig:Vt,submenuConfig:fa}),Dr=(0,a.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}}),ha={isOpen:!1,setOpen:()=>{}},Ea=(0,a.createContext)(ha),va=(0,Gt.CT)("sidebar-open-state-context");function ya(e){const{children:t,value:o}=e;return a.createElement(Ea.Provider,{value:o},a.createElement(va.Provider,{value:(0,Gt.EI)({1:o})},t))}const Mn=()=>{const e=(0,a.useContext)(va),t=(0,a.useContext)(Ea);if(e===void 0)return t||ha;const o=e.atVersion(1);if(o===void 0)throw new Error("No context found for version 1.");return o},ba={isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1},Sa=(0,a.createContext)(ba),Ra=(0,Gt.CT)("sidebar-pin-state-context");function vs(e){const{children:t,value:o}=e;return a.createElement(Sa.Provider,{value:o},a.createElement(Ra.Provider,{value:(0,Gt.EI)({1:o})},t))}const kr=()=>{const e=(0,a.useContext)(Ra),t=(0,a.useContext)(Sa);if(e===void 0)return t||ba;const o=e.atVersion(1);if(o===void 0)throw new Error("No context found for version 1.");return o},ys=(0,$.Z)(e=>({root:{flexGrow:0,margin:e.spacing(0,2),color:e.palette.navigation.color},selected:t=>({color:`${e.palette.navigation.selectedColor}!important`,borderTop:`solid ${t.sidebarConfig.selectedIndicatorWidth}px ${e.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),bs=e=>{const{to:t,label:o,icon:s,value:l}=e,{sidebarConfig:d}=(0,a.useContext)(it),g=ys({sidebarConfig:d}),h=(0,me.TH)(),{selectedMenuItemIndex:y,setSelectedMenuItemIndex:E}=(0,a.useContext)(Ca),_=(k,D)=>{E(D===y?-1:D)},C=l===y&&y>=0||l!==y&&!(y>=0)&&t===h.pathname;return a.createElement(pn.Z,{"aria-label":o,label:o,icon:s,component:tt,to:t||h.pathname,onChange:_,value:l,selected:C,classes:g})},Lr=e=>{const{children:t,to:o,label:s,icon:l,value:d}=e,{isMobile:g}=kr();return g?a.createElement(bs,{to:o,label:s,icon:l,value:d}):a.createElement(a.Fragment,null,t)},wa=(0,$.Z)(e=>({root:{position:"fixed",backgroundColor:e.palette.navigation.background,color:e.palette.navigation.color,bottom:0,left:0,right:0,zIndex:e.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:t=>({background:e.palette.navigation.background,width:"100%",bottom:`${t.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${t.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:e.palette.text.primary,alignItems:"center",justifyContent:"space-between",padding:e.spacing(2,3)},overlayHeaderClose:{color:e.palette.text.primary},marginMobileSidebar:t=>({marginBottom:`${t.sidebarConfig.mobileSidebarHeight}px`})})),Ss=e=>(0,ae.orderBy)(e,({props:{priority:t}})=>Number.isInteger(t)?t:-1,"desc"),Rs=a.createElement(Lr).type,ws=({children:e,label:t="Menu",open:o,onClose:s})=>{const{sidebarConfig:l}=(0,a.useContext)(it),d=wa({sidebarConfig:l});return a.createElement(Ht.ZP,{anchor:"bottom",open:o,onClose:s,ModalProps:{BackdropProps:{classes:{root:d.marginMobileSidebar}}},classes:{root:d.marginMobileSidebar,paperAnchorBottom:d.overlay}},a.createElement(re.Z,{className:d.overlayHeader},a.createElement(Q.Z,{variant:"h3"},t),a.createElement(T.Z,{onClick:s,classes:{root:d.overlayHeaderClose}},a.createElement(ke.Z,null))),a.createElement(re.Z,{component:"nav"},e))},Ca=(0,a.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),Cs=e=>{const{sidebarConfig:t}=(0,a.useContext)(it),{children:o}=e,s=wa({sidebarConfig:t}),l=(0,me.TH)(),[d,g]=(0,a.useState)(-1);(0,a.useEffect)(()=>{g(-1)},[l.pathname]);let h=(0,R.vJ)(o,E=>E.getElements().filter(_=>_.type===Rs));if(o)h.length?h=Ss(h):h.push(a.createElement(Lr,{key:"default_menu",icon:a.createElement(Bt.Z,null)},o));else return null;const y=d>=0&&!h[d].props.to;return a.createElement(ya,{value:{isOpen:!0,setOpen:()=>{}}},a.createElement(Ca.Provider,{value:{selectedMenuItemIndex:d,setSelectedMenuItemIndex:g}},a.createElement(ws,{label:h[d]&&h[d].props.label,open:y,onClose:()=>g(-1)},h[d]&&h[d].props.children),a.createElement(wn.Z,{className:s.root,"data-testid":"mobile-sidebar-root",component:"nav"},h)))},xa={getSidebarPinState(){let e;try{e=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!e},setSidebarPinState(e){return window.localStorage.setItem("sidebarPinState",JSON.stringify(e))}},xs=(0,$.Z)(e=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[e.breakpoints.up("sm")]:{paddingLeft:t=>t.isPinned?t.sidebarConfig.drawerWidthOpen:t.sidebarConfig.drawerWidthClosed},[e.breakpoints.down("xs")]:{paddingBottom:t=>t.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),_a=(0,a.createContext)({content:{contentRef:void 0}});function _s(e){const[t,o]=(0,a.useState)(()=>xa.getSidebarPinState()),{sidebarConfig:s}=(0,a.useContext)(it),l=(0,a.useRef)(null),d=(0,a.useMemo)(()=>({content:{contentRef:l}}),[l]);(0,a.useEffect)(()=>{xa.setSidebarPinState(t)},[t]);const g=(0,at.Z)(E=>E.breakpoints.down("xs"),{noSsr:!0}),h=()=>o(!t),y=xs({isPinned:t,sidebarConfig:s});return a.createElement(vs,{value:{isPinned:t,toggleSidebarPinState:h,isMobile:g}},a.createElement(_a.Provider,{value:d},a.createElement(re.Z,{className:y.root},e.children)))}function Pa(){const{content:e}=(0,a.useContext)(_a);return{focusContent:(0,a.useCallback)(()=>{var o,s;(s=(o=e==null?void 0:e.contentRef)==null?void 0:o.current)==null||s.focus()},[e]),contentRef:e==null?void 0:e.contentRef}}const Aa=(0,$.Z)(e=>({drawer:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:e.zIndex.appBar,background:e.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}},drawerWidth:t=>({width:t.sidebarConfig.drawerWidthClosed}),drawerOpen:t=>({width:t.sidebarConfig.drawerWidthOpen,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),Ps=e=>{const{sidebarConfig:t}=(0,a.useContext)(it),{openDelayMs:o=t.defaultOpenDelayMs,closeDelayMs:s=t.defaultCloseDelayMs,disableExpandOnHover:l,children:d}=e,g=Aa({sidebarConfig:t}),h=(0,at.Z)(_e=>_e.breakpoints.down("md"),{noSsr:!0}),[y,E]=(0,a.useState)(0),_=(0,a.useRef)(),{isPinned:C,toggleSidebarPinState:k}=kr(),D=()=>{C||l||(_.current&&(clearTimeout(_.current),_.current=void 0),y!==2&&!h&&(_.current=window.setTimeout(()=>{_.current=void 0,E(2)},o),E(1)))},U=()=>{C||l||(_.current&&(clearTimeout(_.current),_.current=void 0),y===1?E(0):y===2&&(_.current=window.setTimeout(()=>{_.current=void 0,E(0)},s)))},j=y===2&&!h||C,le=_e=>{_e?(E(2),k()):(E(0),k())};return a.createElement("nav",{style:{},"aria-label":"sidebar nav"},a.createElement(Is,null),a.createElement(ya,{value:{isOpen:j,setOpen:le}},a.createElement(re.Z,{className:g.root,"data-testid":"sidebar-root",onMouseEnter:l?()=>{}:D,onFocus:l?()=>{}:D,onMouseLeave:l?()=>{}:U,onBlur:l?()=>{}:U},a.createElement(re.Z,{className:J()(g.drawer,g.drawerWidth,{[g.drawerOpen]:j})},d))))},As=e=>{var t,o;const s=fs((t=e.sidebarOptions)!=null?t:{}),l=hs((o=e.submenuOptions)!=null?o:{}),{children:d,disableExpandOnHover:g,openDelayMs:h,closeDelayMs:y}=e,{isMobile:E}=kr();return E?a.createElement(Cs,null,d):a.createElement(it.Provider,{value:{sidebarConfig:s,submenuConfig:l}},a.createElement(Ps,{openDelayMs:h,closeDelayMs:y,disableExpandOnHover:g},d))};function Is(){const{sidebarConfig:e}=(0,a.useContext)(it),{focusContent:t,contentRef:o}=Pa(),s=Aa({sidebarConfig:e});return o!=null&&o.current?a.createElement(ge.Z,{onClick:t,variant:"contained",className:J()(s.visuallyHidden)},"Skip to content"):null}function Qn(e,t){const o=new URLSearchParams(t.search).toString(),s=Ue().parse(o),l=new URLSearchParams(e.search).toString(),d=Ue().parse(l);return(0,ae.isEqual)(t.pathname,e.pathname)&&(0,ae.isMatch)(d,s)}const Ts=(0,$.Z)(e=>{var t,o;return{item:{height:48,width:"100%","&:hover":{background:((t=e.palette.navigation.navItem)==null?void 0:t.hoverBackground)||"#6f6f6f",color:e.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:e.palette.navigation.color,padding:e.spacing(2.5),cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:e.palette.common.white},label:{margin:e.spacing(1.75),marginLeft:e.spacing(1),fontSize:e.typography.body2.fontSize,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis",lineHeight:1},subtitle:{fontSize:10,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:((o=e.palette.navigation.navItem)==null?void 0:o.hoverBackground)||"#6f6f6f",color:e.palette.navigation.selectedColor}},textContent:{color:e.palette.navigation.color,paddingLeft:e.spacing(4),paddingRight:e.spacing(1),fontSize:e.typography.body2.fontSize,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}},{name:"BackstageSidebarSubmenuItem"}),Il=e=>{const{title:t,subtitle:o,to:s,icon:l,dropdownItems:d}=e,g=Ts(),{setIsHoveredOn:h}=useContext(Dr),y=()=>{h(!1)},E=useResolvedPath$1(s!=null?s:""),_=useLocation();let C=Qn(_,E);const[k,D]=useState(!1),U=()=>{D(!k)};return d!==void 0?(d.some(j=>{const le=resolvePath(j.to);return C=Qn(_,le),C}),React.createElement(Box,{className:g.itemContainer},React.createElement(Tooltip,{title:t,enterDelay:500,enterNextDelay:500},React.createElement(Button$1,{role:"button",onClick:U,onTouchStart:j=>j.stopPropagation(),className:classNames(g.item,C?g.selected:void 0)},l&&React.createElement(l,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:g.label},t,React.createElement("br",null),o&&React.createElement(Typography,{variant:"caption",className:g.subtitle},o)),k?React.createElement(ArrowDropUpIcon,{className:g.dropdownArrow}):React.createElement(ArrowDropDownIcon,{className:g.dropdownArrow}))),d&&k&&React.createElement(Box,{className:g.dropdown},d.map((j,le)=>React.createElement(Tooltip,{key:le,title:j.title,enterDelay:500,enterNextDelay:500},React.createElement(tt,{to:j.to,underline:"none",className:g.dropdownItem,onClick:y,onTouchStart:_e=>_e.stopPropagation()},React.createElement(Typography,{className:g.textContent},j.title))))))):React.createElement(Box,{className:g.itemContainer},React.createElement(Tooltip,{title:t,enterDelay:500,enterNextDelay:500},React.createElement(tt,{to:s,underline:"none",className:classNames(g.item,C?g.selected:void 0),onClick:y,onTouchStart:j=>j.stopPropagation()},l&&React.createElement(l,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:g.label},t,React.createElement("br",null),o&&React.createElement(Typography,{variant:"caption",className:g.subtitle},o)))))},Os=(0,$.Z)(e=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:e.spacing(7)+1},drawer:t=>{var o,s;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[e.breakpoints.up("sm")]:{marginLeft:t.left,transition:e.transitions.create("margin-left",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(s=(o=e.palette.navigation.submenu)==null?void 0:o.background)!=null?s:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:t.submenuConfig.drawerWidthClosed,transitionDelay:`${t.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:t=>({width:t.submenuConfig.drawerWidthOpen,[e.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:e.spacing(3),left:0,top:0}}),title:{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,color:e.palette.common.white,padding:e.spacing(2.5),[e.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),Ms=e=>{const{isOpen:t}=Mn(),{sidebarConfig:o,submenuConfig:s}=(0,a.useContext)(it),l=t?o.drawerWidthOpen:o.drawerWidthClosed,d=Os({left:l,submenuConfig:s}),{isHoveredOn:g}=(0,a.useContext)(Dr),[h,y]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{y(g)},[g]),a.createElement(re.Z,{className:J()(d.drawer,{[d.drawerOpen]:h})},a.createElement(Q.Z,{variant:"h5",className:d.title},e.title),e.children)},Bs=(0,$.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Ds=()=>{const e=Bs();return React.createElement(Box,{className:e.iconContainer},React.createElement(Box,{className:e.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement(Box,null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))},ks=(0,$.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Ls=()=>{const e=ks();return React.createElement(Box,{className:e.iconContainer},React.createElement(Box,{className:e.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement(Box,null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))},$s=e=>(0,$.Z)(t=>{var o,s,l,d;return{root:{color:t.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit",textTransform:"none"},closed:{width:e.drawerWidthClosed,justifyContent:"center"},open:{[t.breakpoints.up("sm")]:{width:e.drawerWidthOpen}},highlightable:{"&:hover":{background:(s=(o=t.palette.navigation.navItem)==null?void 0:o.hoverBackground)!=null?s:"#404040"}},highlighted:{background:(d=(l=t.palette.navigation.navItem)==null?void 0:l.hoverBackground)!=null?d:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:e.iconContainerWidth,marginRight:-t.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"0"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:t.typography.fontWeightBold,fontSize:t.typography.fontSize},searchFieldHTMLInput:{padding:t.spacing(2,0,2)},searchContainer:{width:e.drawerWidthOpen-e.iconContainerWidth},secondaryAction:{width:t.spacing(6),textAlign:"center",marginRight:t.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:t.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${e.selectedIndicatorWidth}px ${t.palette.navigation.indicator}`,color:t.palette.navigation.selectedColor},"&$closed":{width:e.drawerWidthClosed},"& $closedItemIcon":{paddingRight:e.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-e.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function qn(e){return(0,a.useMemo)(()=>$s(e),[e])()}const Ns=(e,t)=>(0,R.vJ)(e.props.children,o=>{let s=!1;return o.getElements().forEach(({props:{to:l,dropdownItems:d}})=>{if(!s){if(d!=null&&d.length){d.forEach(({to:g})=>s=s||Qn(t,(0,Ke.i3)(g)));return}l&&(s=Qn(t,(0,Ke.i3)(l)))}}),s},[t.pathname]);function $r(e){return e.to===void 0}const Ws=a.createElement(Ms).type,Fs=a.forwardRef(function({to:t,end:o,style:s,className:l,activeStyle:d,caseSensitive:g,activeClassName:h="active","aria-current":y="page",...E},_){let{pathname:C}=(0,me.TH)(),{pathname:k}=(0,me.WU)(t);g||(C=C.toLocaleLowerCase("en-US"),k=k.toLocaleLowerCase("en-US"));let D=C===k;!D&&!o&&(D=C.startsWith(`${k}/`));const U=D?y:void 0;return a.createElement(We.rU,{...E,to:t,ref:_,"aria-current":U,style:{...s,...D?d:void 0},className:J()([l,D?h:void 0])})}),Ia=(0,a.forwardRef)((e,t)=>{const{icon:o,text:s,hasNotifications:l=!1,hasSubmenu:d=!1,disableHighlight:g=!1,onClick:h,noTrack:y,children:E,className:_,...C}=e,{sidebarConfig:k}=(0,a.useContext)(it),D=qn(k),{isOpen:U}=Mn(),j=!U&&d?{display:"flex",marginLeft:"20px"}:{lineHeight:"0"},le=a.createElement(re.Z,{style:j},a.createElement(o,{fontSize:"small"}),!U&&d?a.createElement(xn.Z,{fontSize:"small"}):a.createElement(a.Fragment,null)),_e=a.createElement(gr.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!l,className:J()({[D.closedItemIcon]:!U})},le),Ve=a.createElement(a.Fragment,null,a.createElement(re.Z,{"data-testid":"login-button",className:D.iconContainer},_e),s&&a.createElement(Q.Z,{variant:"subtitle2",className:D.label},s),a.createElement("div",{className:D.secondaryAction},E)),lt=U?Ve:_e,se={onClick:h,className:J()(_,D.root,U?D.open:D.closed,$r(e)&&D.buttonItem,{[D.highlightable]:!g})},xe=(0,R.z$)(),{pathname:Re}=(0,me.WU)(!$r(e)&&e.to?e.to:""),Rt=(0,a.useCallback)(Lt=>{if(!y){const wt="click",Ct=s!=null?s:"Sidebar Item",Bn=Re?{attributes:{to:Re}}:void 0;xe.captureEvent(wt,Ct,Bn)}h==null||h(Lt)},[xe,s,Re,y,h]);return $r(e)?a.createElement(ge.Z,{role:"button","aria-label":s,...se,ref:t,onClick:Rt},lt):a.createElement(Fs,{...se,activeClassName:D.selected,to:e.to?e.to:"",ref:t,"aria-label":s||e.to,...C,onClick:Rt},lt)}),Zs=({children:e,...t})=>{const{sidebarConfig:o}=(0,a.useContext)(it),s=qn(o),[l,d]=(0,a.useState)(!1),g=(0,me.TH)(),h=Ns(e,g),y=(0,at.Z)(k=>k.breakpoints.down("sm")),E=()=>{d(!0)},_=()=>{d(!1)},C=()=>y?l?a.createElement(mr.Z,{fontSize:"small",className:s.submenuArrow}):a.createElement(pr.Z,{fontSize:"small",className:s.submenuArrow}):!l&&a.createElement(xn.Z,{fontSize:"small",className:s.submenuArrow});return a.createElement(Dr.Provider,{value:{isHoveredOn:l,setIsHoveredOn:d}},a.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:_,onTouchStart:l?_:E,onMouseEnter:E,className:J()(l&&s.highlighted)},a.createElement(Ia,{hasSubmenu:!0,className:h?s.selected:"",...t},C()),l&&e))},Ta=(0,a.forwardRef)((e,t)=>{const[o]=(0,R.vJ)(e.children,s=>s.getElements().filter(l=>l.type===Ws));return o?a.createElement(Zs,{...e},o):a.createElement(Ia,{...e,ref:t})});function Tl(e){const{sidebarConfig:t}=useContext(it),[o,s]=useState(""),l=qn(t),d=e.icon?e.icon:SearchIcon,g=()=>{e.onSearch(o),s("")},h=C=>{C.key==="Enter"&&(C.preventDefault(),g())},y=C=>{s(C.target.value)},E=C=>{C.preventDefault(),C.stopPropagation()},_=C=>{g(),C.preventDefault()};return React.createElement(Box,{className:l.searchRoot},React.createElement(Ta,{icon:d,to:e.to,onClick:_,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:o,onClick:E,onChange:y,onKeyDown:h,className:l.searchContainer,InputProps:{disableUnderline:!0,className:l.searchField},inputProps:{className:l.searchFieldHTMLInput}})))}const Us=(0,nt.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),Ol=(0,nt.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),zs=(0,nt.Z)("hr")(({theme:e})=>({height:1,width:"100%",background:"#383838",border:"none",margin:e.spacing(1.2,0)}),{name:"BackstageSidebarDivider"}),Ks=e=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:e.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.text.hint,borderRadius:"5px"}}),Ml=(0,nt.Z)("div")(({theme:e})=>{const t=Ks(e);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":t,"&:hover":t}}),Bl=()=>{const{sidebarConfig:e}=useContext(it),t=qn(e),{isOpen:o,setOpen:s}=Mn();if(useMediaQuery(g=>g.breakpoints.down("md"),{noSsr:!0}))return null;const d=()=>{s(!o)};return React.createElement(Button$1,{role:"button",onClick:d,className:t.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement(Box,{className:t.arrows},o?React.createElement(Ds,null):React.createElement(Ls,null)))},js=(0,$.Z)(e=>({introCard:t=>({color:"#b5b5b5",fontSize:12,width:t.sidebarConfig.drawerWidthOpen,marginTop:e.spacing(2.25),marginBottom:e.spacing(1.5),paddingLeft:t.sidebarConfig.iconPadding,paddingRight:t.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:e.spacing(1.5)},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:e.spacing(.5),"&:hover":{color:e.palette.linkHover,transition:e.transitions.create("color",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:e.spacing(1.5)}}),{name:"BackstageSidebarIntro"});function Hs(e){const{sidebarConfig:t}=useContext(it),o=js({sidebarConfig:t}),{text:s,onClose:l}=e,d=()=>l();return React.createElement(Box,{className:o.introCard},React.createElement(Typography,{variant:"subtitle2"},s),React.createElement(Box,{className:o.introDismiss},React.createElement(IconButton,{onClick:d,className:o.introDismissLink},React.createElement(CloseIcon,{className:o.introDismissIcon}),React.createElement(Typography,{component:"span",className:o.introDismissText},"Dismiss"))))}const Oa=e=>{const{text:t,onDismiss:o}=e,[s,l]=useState(!1),d=()=>{l(!0)};return React.createElement(Collapse,{in:!s,onExited:o},React.createElement(Hs,{text:t,onClose:d}))},Gs=null,Vs="And your recently viewed plugins will pop up here!";function Dl(e){const{isOpen:t}=Mn(),o={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},{value:s,set:l}=useLocalStorageValue(Es),{starredItemsDismissed:d,recentlyViewedItemsDismissed:g}=s!=null?s:{},h=()=>{l(E=>({...o,...E,starredItemsDismissed:!0}))},y=()=>{l(E=>({...o,...E,recentlyViewedItemsDismissed:!0}))};return t?React.createElement(React.Fragment,null,!d&&React.createElement(React.Fragment,null,React.createElement(Oa,{text:Gs,onDismiss:h}),React.createElement(zs,null)),!g&&React.createElement(Oa,{text:Vs,onDismiss:y})):null}const Ys=(0,$.Z)(e=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function er(e){const{className:t,stretch:o,noPadding:s,children:l,...d}=e,{contentRef:g}=Pa(),h=Ys();return a.createElement("article",{ref:g,tabIndex:-1,...d,className:J()(h.root,t,{[h.stretch]:o,[h.noPadding]:s})},l)}const Js=(0,$.Z)(e=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:e.palette.background.paper,paddingLeft:e.spacing(3),minWidth:0},defaultTab:{...e.typography.caption,padding:e.spacing(3,3),textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,color:e.palette.text.secondary},selected:{color:e.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:e.palette.background.default,color:e.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function Xs(e){const{tabs:t,onChange:o,selectedIndex:s}=e,[l,d]=(0,a.useState)(s!=null?s:0),g=Js(),h=(0,a.useCallback)((y,E)=>{s===void 0&&d(E),o&&s!==E&&o(E)},[s,o]);return(0,a.useEffect)(()=>{s!==void 0&&d(s)},[s]),a.createElement(re.Z,{className:g.tabsWrapper},a.createElement(sr.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"tabs",onChange:h,value:l},t.map((y,E)=>a.createElement(on.Z,{...y.tabProps,"data-testid":`header-tab-${E}`,label:y.label,key:y.id,value:E,className:g.defaultTab,classes:{selected:g.selected,root:g.tabRoot}}))))}function Qs(e){var t,o,s,l;const d=(0,me.UO)(),h=e.map(({path:k,children:D})=>({caseSensitive:!1,path:`${k}/*`,element:D})).sort((k,D)=>D.path.replace(/\/\*$/,"").localeCompare(k.path.replace(/\/\*$/,""))),y=(t=(0,me.V$)(h))!=null?t:e[0].children;let E=(o=d["*"])!=null?o:"";E.startsWith("/")||(E=`/${E}`);const[_]=(s=(0,Ke.fp)(h,E))!=null?s:[],C=_?e.findIndex(k=>`${k.path}/*`===_.route.path):0;return{index:C===-1?0:C,element:y,route:(l=e[C])!=null?l:e[0]}}function ei(e){const{routes:t}=e,o=(0,me.s0)(),{index:s,route:l,element:d}=Qs(t),g=(0,a.useMemo)(()=>t.map(y=>({id:y.path,label:y.title,tabProps:y.tabProps})),[t]),h=y=>{let{path:E}=t[y];E=E.replace(/\/\*$/,""),E=E.replace(/^\//,""),o(E)};return a.createElement(a.Fragment,null,a.createElement(Xs,{tabs:g,selectedIndex:s,onChange:h}),a.createElement(er,null,a.createElement(bt.q,{title:l.title}),d))}const Nr=()=>null;(0,R.R5)(Nr,"core.gatherMountPoints",!0);function Ma(e){const t=a.createElement(Nr,{path:"",title:""},a.createElement("div",null)).type;return a.Children.toArray(e).flatMap(o=>{if(!(0,a.isValidElement)(o))return[];if(o.type===a.Fragment)return Ma(o.props.children);if(o.type!==t)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:s,title:l,children:d,tabProps:g}=o.props;return[{path:s,title:l,children:d,tabProps:g}]})}function ti(e){const t=Ma(e.children);return a.createElement(ei,{routes:t})}ti.Route=Nr;const ni=(0,$.Z)(e=>({value:{marginBottom:e.spacing(.75)},subvalue:{color:e.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function kl(e){const{value:t,subvalue:o}=e,s=ni();return React.createElement(React.Fragment,null,React.createElement(Box,{className:s.value},t),React.createElement(Box,{className:s.subvalue},o))}const ri=(0,$.Z)(e=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:e.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:e.spacing(7.5),justifyContent:"space-between",borderBottom:`1px solid ${e.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:e.spacing(2)}}}),{name:"BackstageTableFilters"}),ai=e=>{var t;const o=ri(),{onChangeFilters:s}=e,[l,d]=(0,a.useState)({...e.selectedFilters}),[g,h]=(0,a.useState)(!1),y=()=>{d({}),h(E=>!E)};return(0,a.useEffect)(()=>{s(l)},[l,s]),a.createElement(re.Z,{className:o.root},a.createElement(re.Z,{className:o.header},a.createElement(re.Z,{className:o.value},"Filters"),a.createElement(ge.Z,{color:"primary",onClick:y},"Clear all")),a.createElement(re.Z,{className:o.filters},((t=e.filters)==null?void 0:t.length)&&e.filters.map(E=>a.createElement(Fo,{triggerReset:g,key:E.element.label,...E.element,selected:l[E.element.label],onChange:_=>d({...l,[E.element.label]:_})}))))},Ba={Add:(0,a.forwardRef)((e,t)=>a.createElement(gn.Z,{...e,ref:t})),Check:(0,a.forwardRef)((e,t)=>a.createElement($n.Z,{...e,ref:t})),Clear:(0,a.forwardRef)((e,t)=>a.createElement(Cn.Z,{...e,ref:t})),Delete:(0,a.forwardRef)((e,t)=>a.createElement(Nn.Z,{...e,ref:t})),DetailPanel:(0,a.forwardRef)((e,t)=>a.createElement(st.Z,{...e,ref:t})),Edit:(0,a.forwardRef)((e,t)=>a.createElement(ir.Z,{...e,ref:t})),Export:(0,a.forwardRef)((e,t)=>a.createElement(Wn.Z,{...e,ref:t})),Filter:(0,a.forwardRef)((e,t)=>a.createElement(en.Z,{...e,ref:t})),FirstPage:(0,a.forwardRef)((e,t)=>a.createElement(lr.Z,{...e,ref:t})),LastPage:(0,a.forwardRef)((e,t)=>a.createElement(cr.Z,{...e,ref:t})),NextPage:(0,a.forwardRef)((e,t)=>a.createElement(st.Z,{...e,ref:t})),PreviousPage:(0,a.forwardRef)((e,t)=>a.createElement(fe.Z,{...e,ref:t})),ResetSearch:(0,a.forwardRef)((e,t)=>a.createElement(Cn.Z,{...e,ref:t})),Search:(0,a.forwardRef)((e,t)=>a.createElement(en.Z,{...e,ref:t})),SortArrow:(0,a.forwardRef)((e,t)=>a.createElement(Ln.Z,{...e,ref:t})),ThirdStateCheck:(0,a.forwardRef)((e,t)=>a.createElement(ur.Z,{...e,ref:t})),ViewColumn:(0,a.forwardRef)((e,t)=>a.createElement(fn.Z,{...e,ref:t}))};function Da(e,t){const o=t.split(".");let s=e[o[0]];for(let l=1;l<o.length;++l){if(s===void 0)return s;const d=o[l];s=s[d]}return s}const oi=(0,pe.Z)(e=>({header:{padding:e.spacing(1,2,1,2.5),borderTop:`1px solid ${e.palette.grey.A100}`,borderBottom:`1px solid ${e.palette.grey.A100}`,fontWeight:e.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(mn.W$),ka=(0,pe.Z)(e=>({root:{padding:e.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:e.typography.fontWeightBold}},searchField:{paddingRight:e.spacing(2)}}),{name:"BackstageTableToolbar"})(mn.UW),si=(0,$.Z)(e=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:e.typography.fontWeightBold,fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),ii=(0,$.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function li(e,t){return e.map(o=>{var s;const l=(s=o.headerStyle)!=null?s:{};let d=o.cellStyle||{};if(o.highlight)if(l.color=t.palette.textContrast,typeof d=="object")d.fontWeight=t.typography.fontWeightBold;else{const g=d;d=(h,y,E)=>({...g(h,y,E),fontWeight:t.typography.fontWeightBold})}return{...o,headerStyle:l,cellStyle:d}})}function ci(e,t){return(0,ae.transform)(e,(o,s,l)=>{(0,ae.isEqual)(s,t[l])||(o[l]=s)})}const La={search:"",filtersOpen:!1,filters:{}};function ui(e){const{toolbarRef:t,setSearch:o,hasFilters:s,selectedFiltersLength:l,toggleFilters:d}=e,g=si(),h=(0,a.useCallback)(y=>{e.onSearchChanged(y),o(y)},[e,o]);return s?a.createElement(re.Z,{className:g.root},a.createElement(re.Z,{className:g.root},a.createElement(T.Z,{onClick:d,"aria-label":"filter list"},a.createElement(en.Z,null)),a.createElement(Q.Z,{className:g.title},"Filters (",l,")")),a.createElement(ka,{...e,ref:t,onSearchChanged:h})):a.createElement(ka,{...e,ref:t,onSearchChanged:h})}function di(e){const{data:t,columns:o,options:s,title:l,subtitle:d,filters:g,initialState:h,emptyContent:y,onStateChange:E,components:_,...C}=e,k=ii(),D=(0,Me.Z)(),U={...La,...h},[j,le]=(0,a.useState)(U.filtersOpen),_e=(0,a.useCallback)(()=>le(Ye=>!Ye),[le]),[Ve,lt]=(0,a.useState)(0),[se,xe]=(0,a.useState)(t),[Re,Rt]=(0,a.useState)(U.filters),Lt=li(o,D),[wt,Ct]=(0,a.useState)(U.search);(0,a.useEffect)(()=>{if(E){const Ye=ci({search:wt,filtersOpen:j,filters:Re},La);E(Ye)}},[wt,j,Re,E]);const Bn={headerStyle:{textTransform:"uppercase"}},rn=(0,a.useCallback)(Ye=>{var Yt;return(Yt=o.find(cn=>cn.title===Ye))==null?void 0:Yt.field},[o]);(0,a.useEffect)(()=>{if(typeof t=="function")return;if(!Re){xe(t);return}const Ye=Object.values(Re);if(t&&Ye.flat().length){const Yt=t.filter(cn=>!!Object.entries(Re).filter(([,un])=>!!un.length).every(([un,Te])=>{const $e=Da(cn,rn(un));return Array.isArray($e)&&Array.isArray(Te)?$e.some(Rn=>Te.includes(Rn)):Array.isArray($e)?$e.includes(Te):Array.isArray(Te)?Te.includes($e):$e===Te}));xe(Yt)}else xe(t);lt(Ye.flat().length)},[t,Re,rn]);const Kr=(Ye,Yt)=>{const cn=Te=>{const $e=new Set,Rn=dn=>{dn!=null&&$e.add(dn)};return Yt&&Yt.forEach(dn=>{const Dn=Da(dn,rn(Te));Array.isArray(Dn)?Dn.forEach(Rn):Rn(Dn)}),$e},un=Te=>({placeholder:"All results",label:Te.column,multiple:Te.type==="multiple-select",items:[...cn(Te.column)].sort().map($e=>({label:$e,value:$e}))});return Ye.map(Te=>({type:Te.type,element:un(Te)}))},ye=!!(g!=null&&g.length),Sn=(0,a.useCallback)(Ye=>a.createElement(ui,{setSearch:Ct,hasFilters:ye,selectedFiltersLength:Ve,toggleFilters:_e,...Ye}),[_e,ye,Ve,Ct]),ar=typeof t!="function"&&t.length===0,an=o.length,jr=(0,a.useCallback)(Ye=>y&&ar?a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{colSpan:an},y))):a.createElement(mn.os,{...Ye}),[ar,y,an]);return a.createElement(re.Z,{className:k.root},j&&t&&typeof t!="function"&&(g==null?void 0:g.length)&&a.createElement(ai,{filters:Kr(g,t),selectedFilters:Re,onChangeFilters:Rt}),a.createElement(mn.ZP,{components:{Header:oi,Toolbar:Sn,Body:jr,..._},options:{...Bn,...s},columns:Lt,icons:Ba,title:a.createElement(a.Fragment,null,a.createElement(Q.Z,{variant:"h5",component:"h2"},l),d&&a.createElement(Q.Z,{color:"textSecondary",variant:"body1"},d)),data:typeof t=="function"?t:se,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter",searchTooltip:"Filter"}},...C}))}di.icons=Object.freeze(Ba);function pi(e,t){const o=e[e.length-1];if(o)return o>=.9?t.palette.status.ok:o>=.5?t.palette.status.warning:t.palette.status.error}function Ll(e){var t;const o=useTheme();return e.data?React.createElement(Sparklines,{width:120,height:30,min:0,max:1,...e},e.title&&React.createElement("title",null,e.title),React.createElement(SparklinesLine,{color:(t=e.color)!=null?t:pi(e.data,o)})):null}const mi=e=>(0,$.Z)(t=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:t.spacing(2),textAlign:e.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:t.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),gi=({title:e="Unknown page",className:t})=>a.createElement(Q.Z,{variant:"h4",component:"h2",className:t,"data-testid":"header-title"},e);function $a(e){const{description:t,title:o,titleComponent:s=void 0,children:l,textAlign:d="left"}=e,g=mi({textAlign:d})(),h=s||a.createElement(gi,{title:o,className:g.title});return a.createElement(a.Fragment,null,a.createElement(bt.q,{title:o}),a.createElement(re.Z,{className:g.container},a.createElement(re.Z,{className:g.leftItemsBox},h,t&&a.createElement(Q.Z,{className:g.description,variant:"body2"},t)),a.createElement(re.Z,{className:g.rightItemsBox},l)))}const fi=(0,$.Z)(e=>({micDrop:{maxWidth:"60%",bottom:e.spacing(2),right:e.spacing(2),[e.breakpoints.down("xs")]:{maxWidth:"96%",bottom:"unset",right:"unset",margin:`${e.spacing(10)}px auto ${e.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),hi=()=>{const e=fi();return a.createElement("img",{src:Fn,className:e.micDrop,alt:"Girl dropping mic from her hands"})},Ei=(0,$.Z)(e=>({container:{padding:e.spacing(8),[e.breakpoints.down("xs")]:{padding:e.spacing(2)}},title:{paddingBottom:e.spacing(5),[e.breakpoints.down("xs")]:{paddingBottom:e.spacing(4),fontSize:e.typography.h3.fontSize}},subtitle:{color:e.palette.textSubtle}}),{name:"BackstageErrorPage"});function vi(e){const{status:t,statusMessage:o,additionalInfo:s,supportUrl:l}=e,d=Ei(),g=(0,me.s0)(),h=pa();return a.createElement(je.Z,{container:!0,spacing:0,className:d.container},a.createElement(je.Z,{item:!0,xs:12,sm:8,md:4},a.createElement(Q.Z,{"data-testid":"error",variant:"body1",className:d.subtitle},"ERROR ",t,": ",o),a.createElement(Q.Z,{variant:"body1",className:d.subtitle},s),a.createElement(Q.Z,{variant:"h2",className:d.title},"Looks like someone dropped the mic!"),a.createElement(Q.Z,{variant:"h6"},a.createElement(tt,{to:"#","data-testid":"go-back-link",onClick:()=>g(-1)},"Go back"),"... or please"," ",a.createElement(tt,{to:l||h.url},"contact support")," if you think this is a bug.")),a.createElement(hi,null))}const yi=(0,pe.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(Q.Z),Wr=(0,pe.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(re.Z);function bi(e){const{children:t,...o}=e,[s,l]=a.useState(null),d=a.Children.toArray(t),[g,h,...y]=d,E=y.length?y.pop():d[d.length-1],_=d.length>3,C=U=>{l(U.currentTarget)},k=()=>{l(null)},D=Boolean(s);return a.createElement(a.Fragment,null,a.createElement(fr.Z,{"aria-label":"breadcrumb",...o},d.length>1&&a.createElement(Wr,{clone:!0},g),d.length>2&&a.createElement(Wr,{clone:!0},h),_&&a.createElement(yi,{onClick:C},"..."),a.createElement(re.Z,{style:{fontStyle:"italic"}},E)),a.createElement(be.ZP,{open:D,anchorEl:s,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},a.createElement(He.Z,null,y.map((U,j)=>a.createElement(Fe.Z,{key:j,button:!0},a.createElement(Wr,{clone:!0},U))))))}const Si=(0,$.Z)(e=>({header:{gridArea:"pageHeader",padding:e.spacing(3),width:"100%",boxShadow:e.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:e.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[e.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto",alignItems:"center"},title:{color:e.page.fontColor,wordBreak:"break-word",fontSize:e.typography.h3.fontSize,marginBottom:0},subtitle:{color:e.page.fontColor,opacity:.8,display:"inline-block",marginTop:e.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:e.spacing(1),color:e.page.fontColor},breadcrumb:{color:e.page.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-e.spacing(.3),marginBottom:e.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-e.spacing(.3),marginBottom:e.spacing(.3)}}),{name:"BackstageHeader"}),Ri=({type:e,typeLink:t,classes:o,pageTitle:s})=>e?t?a.createElement(bi,{className:o.breadcrumb},a.createElement(tt,{to:t},e),a.createElement(Q.Z,null,s)):a.createElement(Q.Z,{className:o.type},e):null,wi=({pageTitle:e,classes:t,tooltip:o})=>{const s=a.createElement(Q.Z,{className:t.title,variant:"h1"},e);return o?a.createElement(rt.ZP,{title:o,placement:"top-start"},s):s},Ci=({classes:e,subtitle:t})=>t?typeof t!="string"?a.createElement(a.Fragment,null,t):a.createElement(Q.Z,{className:e.subtitle,variant:"subtitle2",component:"span"},t):null;function tr(e){const{children:t,pageTitleOverride:o,style:s,subtitle:l,title:d,tooltip:g,type:h,typeLink:y}=e,E=Si(),C=(0,R.h_)(R.Ds).getOptionalString("app.title")||"Backstage",k=o||d,D=d||o,U=`${k} | %s | ${C}`,j=`${k} | ${C}`;return a.createElement(a.Fragment,null,a.createElement(bt.q,{titleTemplate:U,defaultTitle:j}),a.createElement("header",{style:s,className:E.header},a.createElement(re.Z,{className:E.leftItemsBox},a.createElement(Ri,{classes:E,type:h,typeLink:y,pageTitle:D}),a.createElement(wi,{classes:E,pageTitle:D,tooltip:g}),a.createElement(Ci,{classes:E,subtitle:l})),a.createElement(je.Z,{container:!0,className:E.rightItemsBox,spacing:4},t)))}const xi=({label:e,secondaryLabel:t,icon:o,disabled:s=!1,onClick:l})=>React.createElement(Fragment,null,React.createElement(ListItem,{"data-testid":"header-action-item",disabled:s,button:!0,onClick:d=>{l&&l(d)}},o&&React.createElement(ListItemIcon,null,o),React.createElement(ListItemText,{primary:e,secondary:t})));function $l(e){const{palette:{common:{white:t}}}=useTheme(),{actionItems:o}=e,[s,l]=React.useState(!1),d=React.useRef(null);return React.createElement(Fragment,null,React.createElement(IconButton,{onClick:()=>l(!0),"data-testid":"header-action-menu",ref:d,style:{color:t,height:56,width:56,marginRight:-4,padding:0}},React.createElement(MoreVert,null)),React.createElement(Popover,{open:s,anchorEl:d.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},onClose:()=>l(!1)},React.createElement(List,null,o.map((g,h)=>React.createElement(xi,{key:`header-action-menu-${h}`,...g})))))}const _i=(0,$.Z)(e=>({root:{textAlign:"left"},label:{color:e.page.fontColor,fontWeight:e.typography.fontWeightBold,letterSpacing:0,fontSize:e.typography.fontSize,marginBottom:e.spacing(1)/2,lineHeight:1},value:{color:(0,ze.Fq)(e.page.fontColor,.8),fontSize:e.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),Pi=({value:e,className:t})=>React.createElement(Typography,{component:typeof e=="string"?"p":"span",className:t},e);function Nl(e){const{label:t,value:o,url:s}=e,l=_i(),d=React.createElement(Pi,{className:l.value,value:o||"<Unknown>"});return React.createElement(Grid,{item:!0},React.createElement(Typography,{component:"span",className:l.root},React.createElement(Typography,{className:l.label},t),s?React.createElement(tt,{to:s},d):d))}const Ai=e=>(0,te.Z)({root:{color:e.palette.common.white,padding:e.spacing(2,2,3),backgroundImage:e.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),Ii=(0,$.Z)(Ai,{name:"BackstageItemCardHeader"});function Ti(e){const{title:t,subtitle:o,children:s}=e,l=Ii(e);return React.createElement(Box,{className:l.root},o&&React.createElement(Typography,{variant:"subtitle2",component:"h3"},o),t&&React.createElement(Typography,{variant:"h6",component:"h4"},t),s)}function Wl(e){const{description:t,tags:o,title:s,type:l,subtitle:d,label:g,onClick:h,href:y}=e;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(Ti,{title:s,subtitle:d||l})),React.createElement(CardContent,null,o!=null&&o.length?React.createElement(Box,null,o.map((E,_)=>React.createElement(Chip,{size:"small",label:E,key:_}))):null,t),React.createElement(CardActions,null,!y&&React.createElement(An,{to:"#",onClick:h,color:"primary"},g),y&&React.createElement(An,{to:y,color:"primary"},g)))}const Oi=e=>(0,te.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:e.spacing(2)}}),Mi=(0,$.Z)(Oi,{name:"BackstageItemCardGrid"});function Fl(e){const{children:t,...o}=e,s=Mi(o);return React.createElement(Box,{className:s.root,...o},t)}const Bi=(0,$.Z)(e=>({root:{display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",overflowY:"auto",height:"100vh",[e.breakpoints.down("xs")]:{height:"100%"}}}),{name:"BackstagePage"});function nr(e){const{themeId:t,children:o}=e,s=Bi();return a.createElement(ce.Z,{theme:l=>({...l,page:l.getPageTheme({themeId:t})})},a.createElement("main",{className:s.root},o))}function Zl(e){const{themeId:t,children:o,...s}=e;return React.createElement(nr,{themeId:t},React.createElement(tr,{...s}),o)}const Di=Le.z.object({providerInfo:Le.z.object({}).catchall(Le.z.unknown()).optional(),profile:Le.z.object({email:Le.z.string().optional(),displayName:Le.z.string().optional(),picture:Le.z.string().optional()}),backstageIdentity:Le.z.object({token:Le.z.string(),identity:Le.z.object({type:Le.z.literal("user"),userEntityRef:Le.z.string(),ownershipEntityRefs:Le.z.array(Le.z.string())})})}),Na={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function ki(e){const t=new Date(Date.now()+Na.defaultTokenExpiryMillis);if(!e)return t;const[o,s,l]=e.split("."),d=JSON.parse(window.atob(s));return typeof d.exp!="number"?t:new Date(d.exp*1e3-Na.tokenExpiryMarginMillis)}class Li{constructor(t){this.options=t,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:t}=this.getSessionSync(),o=t.identity.userEntityRef,s=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(o);if(!s)throw new TypeError(`Invalid user entity reference "${o}"`);return s[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const t=this.state.type==="active"?this.state.session:void 0,o=this.fetchSession().then(s=>(this.state={type:"active",session:s,expiresAt:ki(s.backstageIdentity.token)},s),s=>{throw this.state={type:"failed",error:s},s});return this.state={type:"fetching",promise:o,previous:t},o}async fetchSession(){const t=await this.options.discoveryApi.getBaseUrl("auth"),o=typeof this.options.headers=="function"?await this.options.headers():this.options.headers,s=new Headers(o);s.set("X-Requested-With","XMLHttpRequest");const l=await fetch(`${t}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:s,credentials:"include"});if(!l.ok)throw await ResponseError.fromResponse(l);return Di.parse(await l.json())}}const Ul=e=>{const t=useApi(discoveryApiRef),[{status:o,error:s},{execute:l}]=useAsync(async()=>{const d=new Li({provider:e.provider,discoveryApi:t,headers:e.headers});await d.start(),e.onSignInSuccess(d)});return useMountEffect(l),o==="loading"?React.createElement(Yn,null):s?React.createElement(Tn,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:s}):null};class Fr{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const t="user:default/guest";return{type:"user",userEntityRef:t,ownershipEntityRefs:[t]}}async getCredentials(){return{}}async signOut(){}}function $i(e){const[t,o,s]=e.split(".");return JSON.parse(window.atob(o))}class Zr{constructor(t){this.result=t}getUserId(){return this.result.userId}static fromResult(t){return new Zr(t)}async getIdToken(){var t,o;return(o=(t=this.result).getIdToken)==null?void 0:o.call(t)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const t=await this.getIdToken();if(!t){const l=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:l,ownershipEntityRefs:[l]}}const{sub:o,ent:s}=$i(t);return{type:"user",userEntityRef:o,ownershipEntityRefs:s!=null?s:[]}}async getCredentials(){var t,o;return{token:await((o=(t=this.result).getIdToken)==null?void 0:o.call(t))}}async signOut(){var t,o;return(o=(t=this.result).signOut)==null?void 0:o.call(t)}}class yn{constructor(t,o,s){this.identity=t,this.authApi=o,this.profile=s}static createGuest(){return new Fr}static fromLegacy(t){return Zr.fromResult(t)}static create(t){return new yn(t.identity,t.authApi,t.profile)}getUserId(){const t=this.identity.userEntityRef,o=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(t);if(!o)throw new TypeError(`Invalid user entity reference "${t}"`);return o[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(t){throw this.profilePromise=void 0,t}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}const Ur=(0,$.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),rr=({children:e})=>{const t=Ur();return a.createElement(je.Z,{component:"li",item:!0,classes:t},e)},Ni={Component:({config:e,onSignInStarted:t,onSignInSuccess:o,onSignInFailure:s})=>{const{apiRef:l,title:d,message:g}=e,h=(0,R.h_)(l),y=(0,R.h_)(R.VE),E=async()=>{try{t();const _=await h.getBackstageIdentity({instantPopup:!0});if(!_)throw s(),new Error(`The ${d} provider is not configured to support sign-in`);const C=await h.getProfile();o(yn.create({identity:_.identity,profile:C,authApi:h}))}catch(_){s(),y.post(new Mt.SP("Login failed",_))}};return a.createElement(rr,null,a.createElement(On,{variant:"fullHeight",title:d,actions:a.createElement(ge.Z,{color:"primary",variant:"outlined",onClick:E},"Sign In")},a.createElement(Q.Z,{variant:"body1"},g)))},loader:async(e,t)=>{const o=e.get(t),s=await o.getBackstageIdentity({optional:!0});if(!s)return;const l=await o.getProfile();return yn.create({identity:s.identity,profile:l,authApi:o})}},Wi={Component:({onSignInStarted:e,onSignInSuccess:t})=>a.createElement(rr,null,a.createElement(On,{title:"Guest",variant:"fullHeight",actions:a.createElement(ge.Z,{color:"primary",variant:"outlined",onClick:()=>{e(),t(new Fr)}},"Enter")},a.createElement(Q.Z,{variant:"body1"},"Enter as a Guest User.",a.createElement("br",null),"You will not have a verified identity,",a.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new Fr},Fi=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,Zi=(0,$.Z)(e=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:e.spacing(2)}}),{name:"BackstageCustomProvider"}),Wa=e=>{const{ref:t,...o}=e;return{inputRef:t,...o}},Ui={Component:({onSignInStarted:e,onSignInSuccess:t})=>{const o=Zi(),{register:s,handleSubmit:l,formState:d}=(0,hr.cI)({mode:"onChange"}),{errors:g}=d,h=({userId:y,idToken:E})=>{e(),t(yn.fromLegacy({userId:y,getIdToken:E!==void 0?async()=>E:void 0,profile:{email:`${y}@example.com`}}))};return a.createElement(rr,null,a.createElement(On,{title:"Custom User",variant:"fullHeight"},a.createElement(Q.Z,{variant:"body1"},"Enter your own User ID and credentials.",a.createElement("br",null),"This selection will not be stored."),a.createElement("form",{className:o.form,onSubmit:l(h)},a.createElement(w.Z,null,a.createElement(tn.Z,{...Wa(s("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(g.userId)}),g.userId&&a.createElement(Zn.Z,{error:!0},g.userId.message)),a.createElement(w.Z,null,a.createElement(tn.Z,{...Wa(s("idToken",{required:!1,validate:y=>!y||Fi.test(y)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(g.idToken)}),g.idToken&&a.createElement(Zn.Z,{error:!0},g.idToken.message)),a.createElement(ge.Z,{type:"submit",color:"primary",variant:"outlined",className:o.button,disabled:!(d!=null&&d.isDirty)||!vr()(g)},"Continue"))))},loader:async()=>{}};class zr{constructor(t){this.config=t}static from(t){return new zr(t)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const bn="@backstage/core:SignInPage:provider",Fa={guest:Wi,custom:Ui,common:Ni};function Za(e,t){if(e in t)throw new Error(`"${e}" ID is duplicated. IDs of identity providers have to be unique.`)}function zi(e){return e.reduce((o,s)=>{if(typeof s=="string")return Za(s,o),o[s]={components:Fa[s],id:s},o;const{id:l}=s;return Za(l,o),o[l]={components:Fa.common,id:l,config:s},o},{})}const Ki=(e,t)=>{const o=useApi(errorApiRef),s=useApiHolder(),[l,d]=useState(!0),g=useCallback(y=>{t(zr.from({identityApi:y,signOut:async()=>{var E;localStorage.removeItem(bn),await((E=y.signOut)==null?void 0:E.call(y))}}))},[t]);useLayoutEffect(()=>{var y;if(!l)return;const E=localStorage.getItem(bn);if(E===null){d(!1);return}const _=e[E];if(!_){d(!1);return}let C=!1;return _.components.loader(s,(y=_.config)==null?void 0:y.apiRef).then(k=>{if(C){localStorage.removeItem(bn);return}k?g(k):d(!1)}).catch(k=>{localStorage.removeItem(bn),!C&&(o.post(k),d(!1))}),()=>{C=!0}},[l,o,t,s,e,g]);const h=useMemo(()=>Object.keys(e).map(y=>{const E=e[y],{Component:_}=E.components,C=U=>{g(U)},k=()=>{var U;localStorage.setItem(bn,((U=E==null?void 0:E.config)==null?void 0:U.id)||E.id)},D=()=>{localStorage.removeItem(bn)};return React.createElement(_,{key:E.id,config:E.config,onSignInStarted:k,onSignInSuccess:C,onSignInFailure:D})}),[e,g]);return[l,h]},ji=({onSignInSuccess:e,providers:t=[],title:o,align:s="left"})=>{const l=useApi(configApiRef),d=Ur(),g=zi(t),[h,y]=Ki(g,e);return h?React.createElement(Yn,null):React.createElement(nr,{themeId:"home"},React.createElement(tr,{title:l.getString("app.title")}),React.createElement(er,null,o&&React.createElement($a,{title:o,textAlign:s}),React.createElement(Grid,{container:!0,justifyContent:s==="center"?s:"flex-start",spacing:2,component:"ul",classes:d},y)))},Hi=({provider:e,auto:t,onSignInSuccess:o})=>{const s=Ur(),l=useApi(e.apiRef),d=useApi(configApiRef),[g,h]=useState(),[y,E]=useState(!1),_=async({checkExisting:C,showPopup:k})=>{try{let D;if(C&&(D=await l.getBackstageIdentity({optional:!0})),!D&&(k||t)&&(E(!0),D=await l.getBackstageIdentity({instantPopup:!0}),!D))throw new Error(`The ${e.title} provider is not configured to support sign-in`);if(!D){E(!0);return}const U=await l.getProfile();o(yn.create({identity:D.identity,authApi:l,profile:U}))}catch(D){h(D),E(!0)}};return useMountEffect(()=>_({checkExisting:!0})),y?React.createElement(nr,{themeId:"home"},React.createElement(tr,{title:d.getString("app.title")}),React.createElement(er,null,React.createElement(Grid,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:s},React.createElement(rr,null,React.createElement(On,{variant:"fullHeight",title:e.title,actions:React.createElement(Button$1,{color:"primary",variant:"outlined",onClick:()=>{_({showPopup:!0})}},"Sign In")},React.createElement(Typography,{variant:"body1"},e.message),g&&g.name!=="PopupRejectedError"&&React.createElement(Typography,{variant:"body1",color:"error"},g.message)))))):React.createElement(Yn,null)};function Yl(e){return"provider"in e?React.createElement(Hi,{...e}):React.createElement(ji,{...e})}const Gi=(0,$.Z)(e=>({root:{padding:e.spacing(0,2,0,2.5),minHeight:e.spacing(3)},indicator:{backgroundColor:e.palette.info.main,height:e.spacing(.3)}}),{name:"BackstageTabbedCard"}),Vi=(0,pe.Z)(e=>({root:{padding:e.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:e.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(ue.Z);function Jl(e){const{slackChannel:t,errorBoundaryProps:o,children:s,title:l,deepLink:d,value:g,onChange:h}=e,y=Gi(),[E,_]=useState(0),C=h||((U,j)=>_(j));let k;g?React.Children.map(s,U=>{var j;React.isValidElement(U)&&(U==null?void 0:U.props.value)===g&&(k=(j=U==null?void 0:U.props)==null?void 0:j.children)}):React.Children.map(s,(U,j)=>{React.isValidElement(U)&&j===E&&(k=U==null?void 0:U.props.children)});const D=o||(t?{slackChannel:t}:{});return React.createElement(Card,null,React.createElement(qr,{...D},l&&React.createElement(Vi,{title:l}),React.createElement(Tabs,{selectionFollowsFocus:!0,classes:y,value:g||E,onChange:C},s),React.createElement(Divider,null),React.createElement(CardContent,null,k),d&&React.createElement(Qr,{...d})))}const Yi=(0,$.Z)(e=>({root:{minWidth:e.spacing(6),minHeight:e.spacing(3),margin:e.spacing(0,2,0,0),padding:e.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:e.palette.text.primary}},selected:{fontWeight:e.typography.fontWeightBold}}),{name:"BackstageCardTab"});function Xl(e){const{children:t,...o}=e,s=Yi();return React.createElement(TabUI,{disableRipple:!0,classes:s,...o})}},35278:function(Ge,Ne,p){p.d(Ne,{fC:function(){return a},CL:function(){return At},sM:function(){return ce},$v:function(){return re},v_:function(){return $t},hg:function(){return Nt},uB:function(){return Ke},R5:function(){return vt},bq:function(){return me},Km:function(){return We},Ds:function(){return Pt},ni:function(){return nt},T0:function(){return te},rx:function(){return Mt},P4:function(){return Ut},NT:function(){return Fe},NW:function(){return rt},VE:function(){return ot},W0:function(){return at},gP:function(){return ct},IY:function(){return ut},F4:function(){return we},ux:function(){return J},Kp:function(){return ge},$4:function(){return gt},p_:function(){return ae},ZM:function(){return ft},D:function(){return H},gW:function(){return Be},E6:function(){return ht},z$:function(){return Wt},h_:function(){return Me},I_:function(){return $},qD:function(){return It},vJ:function(){return zt}});var R=p(16874),T=p(67294),b=p(89250);const Q="plugin-context",ke=B=>{const{children:P,plugin:N}=B,{Provider:F}=(0,R.CT)(Q);return T.createElement(F,{value:(0,R.EI)({1:{plugin:N}})},P)};function Xe(){const B=useVersionedContext(Q);if(!B)throw new Error("Plugin Options context is not available");const P=B.atVersion(1);if(!P)throw new Error("Plugin Options v1 is not available");return P.plugin.getPluginOptions()}const X=(0,R.CT)("analytics-context"),Y=()=>{const B=(0,T.useContext)(X);if(B===void 0)return{routeRef:"unknown",pluginId:"root",extension:"App"};const P=B.atVersion(1);if(P===void 0)throw new Error("No context found for version 1.");return P},a=B=>{const{attributes:P,children:N}=B,G={...Y(),...P},ne=(0,R.EI)({1:G});return T.createElement(X.Provider,{value:ne},N)};function $(){const B=(0,R.Vt)("api-context");if(!B)throw new Error("API context is not available");const P=B.atVersion(1);if(!P)throw new Error("ApiContext v1 not available");return P}function Me(B){const N=$().get(B);if(!N)throw new Error(`No implementation available for ${B}`);return N}function ze(B){return function(N){const F=ne=>{const ue=$(),de={};for(const he in B)if(B.hasOwnProperty(he)){const et=B[he],x=ue.get(et);if(!x)throw new Error(`No implementation available for ${et}`);de[he]=x}return React.createElement(N,{...ne,...de})},G=N.displayName||N.name||"Component";return F.displayName=`withApis(${G})`,F}}class pe{constructor(P){if(this.config=P,!P.id.split(".").flatMap(F=>F.split("-")).every(F=>F.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${P.id}'`)}get id(){return this.config.id}get T(){throw new Error(`tried to read ApiRef.T of ${this}`)}toString(){return`apiRef{${this.config.id}}`}}function te(B){return new pe(B)}function nt(B,P){return"id"in B?{api:B,deps:{},factory:()=>P}:B}var ce=(B=>(B.SignedIn="SignedIn",B.SignedOut="SignedOut",B))(ce||{});const ge=te({id:"core.auth.google"}),we=te({id:"core.auth.github"}),H=te({id:"core.auth.okta"}),J=te({id:"core.auth.gitlab"}),ae=te({id:"core.auth.microsoft"}),Be=te({id:"core.auth.onelogin"}),me=te({id:"core.auth.bitbucket"}),We=te({id:"core.auth.bitbucket-server"}),Ke=te({id:"core.auth.atlassian"}),re=te({id:"core.alert"}),$t=te({id:"core.analytics"}),Nt=te({id:"core.apptheme"}),Pt=te({id:"core.config"}),rt=te({id:"core.discovery"}),ot=te({id:"core.error"});var At=(B=>(B[B.None=0]="None",B[B.Active=1]="Active",B))(At||{});const at=te({id:"core.featureflags"}),ct=te({id:"core.fetch"}),gt=te({id:"core.identity"}),ft=te({id:"core.oauthrequest"}),ht=te({id:"core.storage"});class Xt{constructor(P,N={routeRef:"unknown",pluginId:"root",extension:"App"}){this.analyticsApi=P,this.context=N}setContext(P){this.context=P}captureEvent(P,N,{value:F,attributes:G}={}){try{this.analyticsApi.captureEvent({action:P,subject:N,value:F,attributes:G,context:this.context})}catch(ne){console.warn("Error during analytics event capture. %o",ne)}}}function Et(){try{return Me($t)}catch{return{captureEvent:()=>{}}}}function Wt(){const B=(0,T.useRef)(null),P=Y(),N=Et();function F(){return B.current===null&&(B.current=new Xt(N)),B.current}const G=F();return G.setContext(P),G}const It=()=>{const B=(0,R.Vt)("app-context");if(!B)throw new Error("App context is not available");const P=B.atVersion(1);if(!P)throw new Error("AppContext v1 not available");return P},Ce=(0,R.uW)("component-data-store",()=>new WeakMap),je="__backstage_data";function vt(B,P,N){var F;const G=B;let ne=(F=G[je])!=null?F:Ce.get(B);if(ne||(ne={map:new Map},Object.defineProperty(G,je,{enumerable:!1,configurable:!0,writable:!1,value:ne}),Ce.set(B,ne)),ne.map.has(P)){const ue=B.displayName||B.name;throw new Error(`Attempted to attach duplicate data "${P}" to component "${ue}"`)}ne.map.set(P,N)}function ut(B,P){var N;if(!B)return;const F=B.type;if(!F)return;const G=(N=F[je])!=null?N:Ce.get(F);if(G)return G.map.get(P)}const Tt=(0,R.uW)("route-ref-type",()=>Symbol("route-ref-type"));var Ft;class He{constructor(P,N){this.id=P,this.params=N,this[Ft]="absolute"}get title(){return this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}Ft=Tt;function Fe(B){var P;return new He(B.id,(P=B.params)!=null?P:[])}var Qe;const Zt=/^\w+$/;class Ot{constructor(P,N,F,G){this.id=P,this.path=N,this.parent=F,this.params=G,this[Qe]="sub"}toString(){return`routeRef{type=sub,id=${this.id}}`}}Qe=Tt;function Qt(B){const{id:P,path:N,parent:F}=B,G=N.split("/").filter(de=>de.startsWith(":")).map(de=>de.substring(1)),ne=[...F.params,...G];if(F.params.some(de=>G.includes(de)))throw new Error("SubRouteRef may not have params that overlap with its parent");if(!N.startsWith("/"))throw new Error(`SubRouteRef path must start with '/', got '${N}'`);if(N.endsWith("/"))throw new Error(`SubRouteRef path must not end with '/', got '${N}'`);for(const de of G)if(!Zt.test(de))throw new Error(`SubRouteRef path has invalid param, got '${de}'`);return new Ot(P,N,F,ne)}var dt;class pt{constructor(P,N,F){this.id=P,this.params=N,this.optional=F,this[dt]="external"}toString(){return`routeRef{type=external,id=${this.id}}`}}dt=Tt;function Ie(B){var P;return new pt(B.id,(P=B.params)!=null?P:[],Boolean(B.optional))}function Ze(B){const{pathname:P}=(0,b.TH)(),N=(0,R.Vt)("routing-context");if(!N)throw new Error("Routing context is not available");const F=N.atVersion(1),G=(0,T.useMemo)(()=>F&&F.resolve(B,{pathname:P}),[F,B,P]);if(!N)throw new Error("useRouteRef used outside of routing context");if(!F)throw new Error("RoutingContext v1 not available");const ne="optional"in B&&B.optional;if(!G&&!ne)throw new Error(`No path for ${B}`);return G}function fe(B){return useParams()}class st extends T.Component{constructor(){super(...arguments),this.state={error:void 0},this.handleErrorReset=()=>{this.setState({error:void 0})}}static getDerivedStateFromError(P){return{error:P}}render(){const{error:P}=this.state,{app:N,plugin:F}=this.props,{ErrorBoundaryFallback:G}=N.getComponents();return P?T.createElement(G,{error:P,resetError:this.handleErrorReset,plugin:F}):this.props.children}}function Ut(B){const{component:P,mountPoint:N,name:F}=B;return yt({component:{lazy:()=>P().then(G=>{const ne=de=>{try{Ze(N)}catch(he){if(typeof he=="object"&&he!==null){const{message:et}=he;if(typeof et=="string"&&et.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${N} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`)}throw he}return T.createElement(G,{...de})},ue=F||G.displayName||G.name||"LazyComponent";return ne.displayName=`RoutableExtension(${ue})`,ne},G=>ue=>{const de=It(),{BootErrorPage:he}=de.getComponents();return T.createElement(he,{step:"load-chunk",error:G})})},data:{"core.mountPoint":N},name:F})}function qt(B){const{component:P,name:N}=B;return yt({component:P,name:N})}function yt(B){const{data:P={},name:N}=B;N||console.warn("Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.");let F;if("lazy"in B.component){const ne=B.component.lazy;F=(0,T.lazy)(()=>ne().then(ue=>({default:ue})))}else F=B.component.sync;const G=N||F.displayName||F.name||"Component";return{expose(ne){const ue=de=>{const he=It(),{Progress:et}=he.getComponents(),x=P==null?void 0:P["core.mountPoint"];return T.createElement(T.Suspense,{fallback:T.createElement(et,null)},T.createElement(st,{app:he,plugin:ne},T.createElement(a,{attributes:{pluginId:ne.getId(),...N&&{extension:N},...x&&{routeRef:x.id}}},T.createElement(ke,{plugin:ne},T.createElement(F,{...de})))))};vt(ue,"core.plugin",ne),vt(ue,"core.extensionName",N);for(const[de,he]of Object.entries(P))vt(ue,de,he);return ue.displayName=`Extension(${G})`,ue}}}function qe(B,P,N,F){return T.Children.toArray(B).flatMap(G=>{if(!(0,T.isValidElement)(G))return[];if(G.type===T.Fragment)return qe(G.props.children,P,N,F);if(ut(G,"core.featureFlagged")){const ne=G.props;return("with"in ne?P.isActive(ne.with):!P.isActive(ne.without))?qe(G.props.children,P,N,F):[]}if(N===void 0||N(G))return[G];if(F)throw new Error(F);return qe(G.props.children,P,N,F)})}class mt{constructor(P,N){this.node=P,this.featureFlagsApi=N}selectByComponentData(P){const N=qe(this.node,this.featureFlagsApi,F=>ut(F,P.key)!==void 0,P.withStrictError);return new mt(N,this.featureFlagsApi)}findComponentData(P){return qe(this.node,this.featureFlagsApi,F=>ut(F,P.key)!==void 0).map(F=>ut(F,P.key)).filter(F=>F!==void 0)}getElements(){return qe(this.node,this.featureFlagsApi)}}function zt(B,P,N=[]){const F=Me(at),G=new mt(B,F);return(0,T.useMemo)(()=>P(G),[B,...N])}class Kt{constructor(P){this.config=P,this.options=void 0}getId(){return this.config.id}getApis(){var P;return(P=this.config.apis)!=null?P:[]}getFeatureFlags(){var P,N;return(N=(P=this.config.featureFlags)==null?void 0:P.slice())!=null?N:[]}get routes(){var P;return(P=this.config.routes)!=null?P:{}}get externalRoutes(){var P;return(P=this.config.externalRoutes)!=null?P:{}}provide(P){return P.expose(this)}__experimentalReconfigure(P){this.config.__experimentalConfigure&&(this.options=this.config.__experimentalConfigure(P))}getPluginOptions(){var P;return this.config.__experimentalConfigure&&!this.options&&(this.options=this.config.__experimentalConfigure()),(P=this.options)!=null?P:{}}toString(){return`plugin{${this.config.id}}`}}function Mt(B){return new Kt(B)}},62509:function(Ge,Ne,p){p.d(Ne,{SP:function(){return ce},VL:function(){return we},VZ:function(){return b}});var R=p(7710),T=p.n(R);function b(H){if(typeof H!="object"||H===null||Array.isArray(H))return!1;const J=H;return!(typeof J.name!="string"||J.name===""||typeof J.message!="string")}function Q(H){if(typeof H!="object"||H===null||Array.isArray(H))throw new Error(`Encountered invalid error, not an object, got '${H}'`);const J=H;if(typeof J.name!="string"||J.name==="")throw new Error(`Encountered error object without a name, got '${H}'`);if(typeof J.message!="string")throw new Error(`Encountered error object without a message, got '${H}'`)}function ke(H,J){const Be={name:"Unknown",message:"<no reason given>",...serializeError$1(H)};return J!=null&&J.includeStack||delete Be.stack,Be}function Xe(H){const J=(0,R.deserializeError)(H);return H.stack||(J.stack=void 0),J}function X(H){if(b(H)){const J=String(H);return J!=="[object Object]"?J:`${H.name}: ${H.message}`}return`unknown error '${H}'`}class Y extends Error{constructor(J,ae){var Be;let me=J;if(ae!==void 0){const We=X(ae);me?me+=`; caused by ${We}`:me=`caused by ${We}`}super(me),(Be=Error.captureStackTrace)==null||Be.call(Error,this,this.constructor),this.name=this.constructor.name,this.cause=b(ae)?ae:void 0}}class a extends null{}class $ extends null{}class Me extends null{}class ze extends null{}class pe extends null{}class te extends null{}class nt extends null{}class ce extends Y{constructor(J,ae){super(J,ae),this.name=b(ae)?ae.name:"Error"}}async function ge(H){var J;try{const ae=await H.text();if(ae){if((J=H.headers.get("content-type"))!=null&&J.startsWith("application/json"))try{const Be=JSON.parse(ae);if(Be.error&&Be.response)return Be}catch{}return{error:{name:"Error",message:`Request failed with status ${H.status} ${H.statusText}, ${ae}`},response:{statusCode:H.status}}}}catch{}return{error:{name:"Error",message:`Request failed with status ${H.status} ${H.statusText}`},response:{statusCode:H.status}}}class we extends Error{constructor(J){super(J.message),this.name="ResponseError",this.response=J.response,this.body=J.data,this.cause=J.cause}static async fromResponse(J){const ae=await ge(J),Be=ae.response.statusCode||J.status,me=ae.error.name||J.statusText,We=`Request failed with ${Be} ${me}`,Ke=Xe(ae.error);return new we({message:We,response:J,data:ae,cause:Ke})}}},58747:function(Ge,Ne,p){p.d(Ne,{Wf:function(){return he}});var R=p(14337),T=p(35278),b=p(67294),Q=p(94172),ke=p(41120),Xe=p(29525),X=p(66856),Y=p(282),a=p(38799),$=p(41749),Me=p(52663),ze=p(66083),pe=p(66081),te=p(82302),nt=p(99613),ce=p(88222),ge=p(56847),we=p(83750),H=p(57394),J=p(79895),ae=p(22318),Be=p(29594),me=p(21673),We=p(7706),Ke=p(49476),re=p(6767),$t=p.n(re),Nt=p(47054),Pt=p(54895);const rt=(0,T.T0)({id:"plugin.techradar.service"});var ot=(x=>(x[x.Down=-1]="Down",x[x.NoChange=0]="NoChange",x[x.Up=1]="Up",x))(ot||{});const At=(0,ke.Z)(x=>({ring:{fill:"none",stroke:"#bbb",strokeWidth:"1px"},axis:{fill:"none",stroke:"#bbb",strokeWidth:"1px"},text:{pointerEvents:"none",userSelect:"none",fill:x.palette.text.primary,fontSize:"25px",fontWeight:800,opacity:.7}}),{name:"PluginTechRadarGrid"}),at=x=>{const{radius:w,rings:m}=x,f=At(x),S=(W,z)=>[b.createElement("circle",{key:`c${W}`,cx:0,cy:0,r:z,className:f.ring}),b.createElement("text",{key:`t${W}`,y:z!==void 0?-z+42:void 0,textAnchor:"middle",className:f.text,style:{fill:m[W].color},"data-testid":"radar-ring-heading"},m[W].name)],M=[b.createElement("line",{key:"x",x1:0,y1:-w,x2:0,y2:w,className:f.axis,"data-testid":"radar-grid-x-line"}),b.createElement("line",{key:"y",x1:-w,y1:0,x2:w,y2:0,className:f.axis,"data-testid":"radar-grid-y-line"})],O=m.map(W=>W.outerRadius).map((W,z)=>S(z,W));return b.createElement(b.Fragment,null,M.concat(...O))};function ct(x){return Boolean(x&&x!=="#"&&x.length>0)}const gt=({url:x,className:w,children:m})=>ct(x)?b.createElement(R.rU,{className:w,to:x},m):b.createElement(b.Fragment,null,m),ft=x=>{const{timeline:w}=x;return b.createElement(b.Fragment,null,b.createElement(ae.Z,{variant:"h6",gutterBottom:!0},"History"),b.createElement(ge.Z,{component:J.Z},b.createElement(te.Z,{"aria-label":"simple table"},b.createElement(we.Z,null,b.createElement(H.Z,null,b.createElement(ce.Z,{align:"left"},"Moved in direction"),b.createElement(ce.Z,{align:"left"},"Moved to ring"),b.createElement(ce.Z,{align:"left"},"Moved on date"),b.createElement(ce.Z,{align:"left"},"Description"))),b.createElement(nt.Z,null,(w==null?void 0:w.length)===0&&b.createElement(H.Z,{key:"no-timeline"},b.createElement(ce.Z,{component:"th",scope:"row"},"No Timeline")),w==null?void 0:w.map(m=>b.createElement(H.Z,{key:m.description},b.createElement(ce.Z,{component:"th",scope:"row"},m.moved===ot.Up?b.createElement(Be.Z,null):"",m.moved===ot.Down?b.createElement(me.Z,null):"",m.moved===ot.NoChange?b.createElement(We.Z,null):""),b.createElement(ce.Z,{align:"left"},m.ring.name?m.ring.name:""),b.createElement(ce.Z,{align:"left"},m.date.toLocaleDateString()?m.date.toLocaleDateString():""),b.createElement(ce.Z,{align:"left"},m.description?m.description:"")))))))},ht=x=>{function w(ee,K){return ct(ee)||Boolean(K&&K.length>0)}const{open:m,onClose:f,title:S,description:M,timeline:O,url:W,links:z}=x;return b.createElement(Me.Z,{"data-testid":"radar-description",open:m,onClose:f},b.createElement(ze.Z,{"data-testid":"radar-description-dialog-title"},S),b.createElement(Xe.Z,{dividers:!0},b.createElement(R.SA,{content:M}),b.createElement(ft,{timeline:O})),w(W,z)&&b.createElement(X.Z,null,z==null?void 0:z.map(ee=>b.createElement(Y.Z,{component:R.rU,to:ee.url,onClick:f,color:"primary",startIcon:b.createElement(pe.Z,null),key:ee.url},ee.title)),ct(W)&&b.createElement(Y.Z,{component:R.rU,to:W,onClick:f,color:"primary",startIcon:b.createElement(pe.Z,null),key:W},"LEARN MORE")))},Xt=(0,ke.Z)(x=>({text:{pointerEvents:"none",userSelect:"none",fontSize:"9px",fill:x.palette.common.white,textAnchor:"middle"},link:{cursor:"pointer"}})),Et=(x,w)=>{const m={fill:x};let f=b.createElement("circle",{r:9,style:m});return w&&w>0?f=b.createElement("path",{d:"M -11,5 11,5 0,-13 z",style:m}):w&&w<0&&(f=b.createElement("path",{d:"M -11,-5 11,-5 0,13 z",style:m})),f},Wt=x=>{const w=Xt(x),[m,f]=b.useState(!1),{moved:S,description:M,timeline:O,title:W,color:z,url:ee,links:K,value:be,x:Se,y:Ue,onMouseEnter:jt,onMouseLeave:bt,onClick:wn}=x,Ht=Et(z,S),Bt=()=>{f(!0)},Gt=()=>{f(!1)},pn=()=>{f(!m)};return b.createElement("g",{transform:`translate(${Se}, ${Ue})`,onMouseEnter:jt,onMouseLeave:bt,onClick:wn,"data-testid":"radar-entry"}," ",m&&b.createElement(ht,{open:m,onClose:Gt,title:W||"no title",description:M||"no description",timeline:O||[],url:ee,links:K}),M?b.createElement("a",{className:w.link,onClick:Bt,role:"button",href:"#",tabIndex:0,onKeyPress:pn},Ht):b.createElement(gt,{url:ee,className:w.link},Ht),b.createElement("text",{y:3,className:w.text},be))},It=(0,ke.Z)(x=>({bubble:{pointerEvents:"none",userSelect:"none",opacity:0},visibleBubble:{pointerEvents:"none",userSelect:"none",opacity:.8},background:{fill:"#333"},text:{pointerEvents:"none",userSelect:"none",fontSize:"10px",fill:x.palette.common.white}})),Ce=x=>{const w=It(x),{visible:m,text:f}=x,S=(0,b.useRef)(null),M=(0,b.useRef)(null),O=(0,b.useRef)(null),W=(0,b.useRef)(null),z=()=>{if(S.current){const{x:ee,y:K}=x,be=S.current.getBBox(),Se=5,Ue=4;M.current&&M.current.setAttribute("transform",`translate(${ee-be.width/2}, ${K-be.height-Ue})`),O.current&&(O.current.setAttribute("x",String(-Se)),O.current.setAttribute("y",String(-be.height)),O.current.setAttribute("width",String(be.width+2*Se)),O.current.setAttribute("height",String(be.height+Ue))),W.current&&W.current.setAttribute("transform",`translate(${be.width/2-Se}, ${Ue-1})`)}};return(0,b.useLayoutEffect)(()=>{z()}),b.createElement("g",{ref:M,x:0,y:0,className:m?w.visibleBubble:w.bubble,"data-testid":"radar-bubble"},b.createElement("rect",{ref:O,rx:4,ry:4,className:w.background}),b.createElement("text",{ref:S,className:w.text},f),b.createElement("path",{ref:W,d:"M 0,0 10,0 5,8 z",className:w.background}))},je=(0,ke.Z)(x=>({text:{pointerEvents:"none",userSelect:"none",fontSize:"10px",fill:x.palette.text.secondary}})),vt=x=>{const{x:w,y:m}=x,f=je(x);return b.createElement("text",{"data-testid":"radar-footer",transform:`translate(${w}, ${m})`,className:f.text},"\u25B2 moved up\xA0\xA0\xA0\xA0\xA0\u25BC moved down")},ut=({url:x,description:w,title:m,classes:f,active:S,links:M,timeline:O})=>{const[W,z]=b.useState(!1),ee=()=>{z(!0)},K=()=>{z(!1)},be=()=>{z(!W)};return w?b.createElement(b.Fragment,null,b.createElement(ae.Z,{component:"span",className:f.entryLink,onClick:ee,role:"button",tabIndex:0,onKeyPress:be},b.createElement(ae.Z,{component:"span",className:S?f.activeEntry:f.entry},m)),W&&b.createElement(ht,{open:W,onClose:K,title:m||"no title",url:x,description:w,timeline:O||[],links:M})):b.createElement(gt,{url:x,className:f.entryLink},b.createElement(ae.Z,{component:"span",className:S?f.activeEntry:f.entry},m))},Tt=({ring:x,entries:w,classes:m,onEntryMouseEnter:f,onEntryMouseLeave:S})=>b.createElement("div",{"data-testid":"radar-ring",key:x.id,className:m.ring},b.createElement("h3",{className:m.ringHeading,style:{color:x.color},"data-testid":"radar-legend-heading"},x.name),w.length===0?b.createElement(Ke.ZP,{paragraph:!0,className:m.ringEmpty},"(empty)"):b.createElement("ol",{className:m.ringList},w.map(M=>{var O,W;return b.createElement("li",{key:M.id,value:(M.index||0)+1,onMouseEnter:f&&(()=>f(M)),onMouseLeave:S&&(()=>S(M))},b.createElement(ut,{classes:m,url:M.url,title:M.title,description:M.description,active:M.active,links:(O=M.links)!=null?O:[],timeline:(W=M.timeline)!=null?W:[]}))}))),Ft=x=>{const w={};for(const m of x){const f=m.quadrant.index,S=m.ring.index;let M={};f!==void 0&&(w[f]===void 0&&(w[f]={}),M=w[f]);let O=[];S!==void 0&&(M[S]===void 0&&(M[S]=[]),O=M[S]),O.push(m)}return w},He=(x,w,m,f=0)=>{const S=w.index,M=m.index,O=S===void 0?{}:x[S]||{};return M===void 0?[]:O[M+f]||[]},Fe=({segments:x,quadrant:w,rings:m,classes:f,onEntryMouseEnter:S,onEntryMouseLeave:M})=>b.createElement("foreignObject",{key:w.id,x:w.legendX,y:w.legendY,width:w.legendWidth,height:w.legendHeight,"data-testid":"radar-quadrant"},b.createElement("div",{className:f.quadrant},b.createElement("h2",{className:f.quadrantHeading},w.name),b.createElement("div",{className:f.rings},m.map(O=>b.createElement(Tt,{key:O.id,ring:O,classes:f,entries:He(x,w,O),onEntryMouseEnter:S,onEntryMouseLeave:M}))))),Qe=(0,ke.Z)(x=>({quadrant:{height:"100%",width:"100%",overflowY:"auto",scrollbarWidth:"thin"},quadrantHeading:{pointerEvents:"none",userSelect:"none",marginTop:0,marginBottom:x.spacing(2),fontSize:"18px"},rings:{columns:3},ring:{breakInside:"avoid-column",pageBreakInside:"avoid","-webkit-column-break-inside":"avoid",fontSize:"12px",marginBottom:x.spacing(2)},ringEmpty:{color:x.palette.text.secondary,fontSize:"12px"},ringHeading:{pointerEvents:"none",userSelect:"none",marginTop:0,marginBottom:x.spacing(1),fontSize:"12px",fontWeight:800},ringList:{listStylePosition:"inside",marginTop:0,paddingLeft:0,fontVariantNumeric:"proportional-nums","-moz-font-feature-settings":"pnum","-webkit-font-feature-settings":"pnum","font-feature-settings":"pnum"},entry:{pointerEvents:"visiblePainted",userSelect:"none",fontSize:"11px"},activeEntry:{pointerEvents:"visiblePainted",userSelect:"none",fontSize:"11px",background:"#6f6f6f",color:x.palette.common.white},entryLink:{pointerEvents:"visiblePainted",cursor:"pointer"}})),Zt=({quadrants:x,rings:w,entries:m,onEntryMouseEnter:f,onEntryMouseLeave:S,...M})=>{const O=Qe(M);return b.createElement("g",{"data-testid":"radar-legend"},x.map(W=>b.createElement(Fe,{key:W.id,segments:Ft(m),quadrant:W,rings:w,classes:O,onEntryMouseEnter:f,onEntryMouseLeave:S})))},Ot=x=>{const{width:w,height:m,radius:f,quadrants:S,rings:M,entries:O,activeEntry:W,onEntryMouseEnter:z,onEntryMouseLeave:ee}=x;return b.createElement("g",{"data-testid":"radar-plot"},b.createElement(Zt,{quadrants:S,rings:M,entries:O,onEntryMouseEnter:z&&(K=>z(K)),onEntryMouseLeave:ee&&(K=>ee(K))}),b.createElement("g",{transform:`translate(${w/2}, ${m/2})`},b.createElement(at,{radius:f,rings:M}),b.createElement(vt,{x:-.5*w,y:.5*m}),O.map(K=>b.createElement(Wt,{key:K.id,x:K.x||0,y:K.y||0,color:K.color||"",value:((K==null?void 0:K.index)||0)+1,url:K.url,links:K.links,description:K.description,moved:K.moved,title:K.title,timeline:K.timeline,onMouseEnter:z&&(()=>z(K)),onMouseLeave:ee&&(()=>ee(K))})),b.createElement(Ce,{visible:!!W,text:(W==null?void 0:W.title)||"",x:(W==null?void 0:W.x)||0,y:(W==null?void 0:W.y)||0})))};class Qt{constructor(w,m,f,S){this.nextSeed=S,this.polarMin={t:w.radialMin,r:m.innerRadius},this.polarMax={t:w.radialMax,r:m.outerRadius},this.cartesianMin={x:15*w.offsetX,y:15*w.offsetY},this.cartesianMax={x:f*w.offsetX,y:f*w.offsetY}}clipx(w){const m=fe(w,this.cartesianMin,this.cartesianMax),f=Ze(dt(m),this.polarMin.r+15,this.polarMax.r-15);return w.x=pt(f).x,w.x}clipy(w){const m=fe(w,this.cartesianMin,this.cartesianMax),f=Ze(dt(m),this.polarMin.r+15,this.polarMax.r-15);return w.y=pt(f).y,w.y}random(){return pt({t:this._randomBetween(this.polarMin.t,this.polarMax.t),r:this._normalBetween(this.polarMin.r,this.polarMax.r)})}_random(){const w=Math.sin(this.nextSeed())*1e4;return w-Math.floor(w)}_randomBetween(w,m){return w+this._random()*(m-w)}_normalBetween(w,m){return w+(this._random()+this._random())*.5*(m-w)}}function dt({x,y:w}){return{t:Math.atan2(w,x),r:Math.sqrt(x*x+w*w)}}function pt({r:x,t:w}){return{x:x*Math.cos(w),y:x*Math.sin(w)}}function Ie(x,w,m){const f=Math.min(w,m),S=Math.max(w,m);return Math.min(Math.max(x,f),S)}function Ze(x,w,m){return{t:x.t,r:Ie(x.r,w,m)}}function fe(x,w,m){return{x:Ie(x.x,w.x,m.x),y:Ie(x.y,w.y,m.y)}}const st=(x,w,m,f)=>{const M=[16,m/2-w-16,m/2+w+16,m-16],O=[16,f/2-16,f/2,f-16],W=[{x:M[2],y:O[2],width:M[3]-M[2],height:O[3]-O[2]},{x:M[0],y:O[2],width:M[1]-M[0],height:O[3]-O[2]},{x:M[0],y:O[0],width:M[1]-M[0],height:O[1]-O[0]},{x:M[2],y:O[0],width:M[3]-M[2],height:O[1]-O[0]}];return x.map((z,ee)=>{const K=W[ee%4];return{...z,index:ee,radialMin:ee*Math.PI/2,radialMax:(ee+1)*Math.PI/2,offsetX:ee%4===0||ee%4===3?1:-1,offsetY:ee%4===0||ee%4===1?1:-1,legendX:K.x,legendY:K.y,legendWidth:K.width,legendHeight:K.height}})},Ut=(x,w,m,f,S)=>{let M=42;const O=x.map((z,ee)=>{const K=w.find(jt=>{const bt=typeof z.quadrant=="object"?z.quadrant.id:z.quadrant;return jt.id===bt}),be=m.find(jt=>{const bt=typeof z.ring=="object"?z.ring.id:z.ring;return jt.id===bt});if(!K)throw new Error(`Unknown quadrant ${z.quadrant} for entry ${z.id}!`);if(!be)throw new Error(`Unknown ring ${z.ring} for entry ${z.id}!`);const Se=new Qt(K,be,f,()=>M++),Ue=Se==null?void 0:Se.random();return{...z,index:ee,quadrant:K,ring:be,segment:Se,x:Ue.x,y:Ue.y,color:S&&z.id===(S==null?void 0:S.id)?z.ring.color:$t()(z.ring.color).desaturate(.5).lighten(.1).string(),active:!!(S&&z.id===(S==null?void 0:S.id))}}),W=(0,Nt.Z)().nodes(O).velocityDecay(.19).force("collision",(0,Pt.Z)().radius(12).strength(.85)).stop();for(let z=0,ee=Math.ceil(Math.log(W.alphaMin())/Math.log(1-W.alphaDecay()));z<ee;++z){W.tick();for(const K of O)K.segment&&(K.x=K.segment.clipx(K),K.y=K.segment.clipy(K))}return O},qt=(x,w)=>x.map((m,f)=>({...m,index:f,outerRadius:(f+2)/(x.length+1)*w,innerRadius:(f===0?0:f+1)/(x.length+1)*w})),yt=({width:x,height:w,quadrants:m,rings:f,entries:S,...M})=>{const O=Math.min(x,w)/2,[W,z]=(0,b.useState)(),ee=(0,b.useRef)(null),K=(0,b.useMemo)(()=>st(m,O,x,w),[m,O,x,w]),be=(0,b.useMemo)(()=>qt(f,O),[O,f]),Se=(0,b.useMemo)(()=>Ut(S,K,be,O,W),[S,K,be,O,W]);return b.createElement("svg",{ref:ee,width:x,height:w,...M.svgProps},b.createElement(Ot,{width:x,height:w,radius:O,entries:Se,quadrants:K,rings:be,activeEntry:W,onEntryMouseEnter:Ue=>z(Ue),onEntryMouseLeave:()=>z(void 0)}))},qe=x=>{const w=(0,T.h_)(T.VE),m=(0,T.h_)(rt),{error:f,value:S,loading:M}=(0,Q.Z)(async()=>m.load(x),[m,x]);return(0,b.useEffect)(()=>{f&&w.post(f)},[f,w]),{loading:M,value:S,error:f}};function mt(x){const w=x==null?void 0:x.toLocaleLowerCase("en-US").split(/\s/).map(m=>m.trim()).filter(Boolean);return w!=null&&w.length?m=>{var f;const S=`${m.title} ${((f=m.timeline[0])==null?void 0:f.description)||""}`.toLocaleLowerCase("en-US");return w.every(M=>S.includes(M))}:()=>!0}function zt(x){const{loading:w,error:m,value:f}=qe(x.id),S=M=>M.entries.filter(mt(x.searchText)).map(O=>({id:O.key,quadrant:M.quadrants.find(W=>W.id===O.quadrant),title:O.title,ring:M.rings.find(W=>W.id===O.timeline[0].ringId),timeline:O.timeline.map(W=>({date:W.date,ring:M.rings.find(z=>z.id===W.ringId),description:W.description,moved:W.moved})),moved:O.timeline[0].moved,description:O.description||O.timeline[0].description,url:O.url,links:O.links}));return b.createElement(b.Fragment,null,w&&b.createElement(R.Ex,null),!w&&!m&&f&&b.createElement(yt,{...x,rings:f.rings,quadrants:f.quadrants,entries:S(f)}))}const Kt=(0,ke.Z)(()=>({overflowXScroll:{overflowX:"scroll"}}));function Mt(x){const{title:w="Tech Radar",subtitle:m="Pick the recommended technologies for your projects",pageTitle:f="Company Radar",...S}=x,M=Kt(),[O,W]=b.useState("");return b.createElement(R.T3,{themeId:"tool"},b.createElement(R.h4,{title:w,subtitle:m}),b.createElement(R.VY,{className:M.overflowXScroll},b.createElement(R.yW,{title:f},b.createElement(a.Z,{id:"tech-radar-filter",type:"search",placeholder:"Filter",onChange:z=>W(z.target.value)}),b.createElement(R.qt,null,b.createElement(ae.Z,{paragraph:!0},"This is used for visualizing the official guidelines of different areas of software development such as languages, frameworks, infrastructure and processes. You can find an explanation for the radar at"," ",b.createElement(R.rU,{to:"https://opensource.zalando.com/tech-radar/"},"Zalando Tech Radar"),"."))),b.createElement($.Z,{container:!0,spacing:3,direction:"row"},b.createElement($.Z,{item:!0,xs:12,sm:6,md:4},b.createElement(zt,{searchText:O,...S})))))}var B=Object.freeze({__proto__:null,RadarPage:Mt});const P=new Array;P.push({id:"adopt",name:"ADOPT",color:"#5BA300"}),P.push({id:"trial",name:"TRIAL",color:"#009EB0"}),P.push({id:"assess",name:"ASSESS",color:"#C7BA00"}),P.push({id:"hold",name:"HOLD",color:"#E09B96"});const N=new Array;N.push({id:"infrastructure",name:"Infrastructure"}),N.push({id:"frameworks",name:"Frameworks"}),N.push({id:"languages",name:"Languages"}),N.push({id:"process",name:"Process"});const F=new Array;F.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06"),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua"}],key:"javascript",id:"javascript",title:"JavaScript",quadrant:"languages",links:[{url:"https://www.javascript.com/",title:"Learn more"},{url:"https://www.typescriptlang.org/",title:"TypeScript"}],description:'Excepteur **sint** occaecat *cupidatat* non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\n```ts\nconst x = "3";\n```\n'}),F.push({timeline:[{moved:-1,ringId:"adopt",date:new Date("2020-08-06"),description:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat"}],key:"typescript",id:"typescript",title:"TypeScript",quadrant:"languages",description:"Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat"}),F.push({timeline:[{moved:1,ringId:"adopt",date:new Date("2020-08-06"),description:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur"}],links:[{url:"https://webpack.js.org/",title:"Learn more"}],key:"webpack",id:"webpack",title:"Webpack",quadrant:"frameworks"}),F.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06")}],links:[{url:"https://reactjs.org/",title:"Learn more"}],key:"react",id:"react",title:"React",quadrant:"frameworks"}),F.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06")}],key:"code-reviews",id:"code-reviews",title:"Code Reviews",quadrant:"process"}),F.push({timeline:[{moved:0,ringId:"assess",date:new Date("2020-08-06")}],key:"mob-programming",id:"mob-programming",title:"Mob Programming",quadrant:"process"}),F.push({timeline:[{moved:0,ringId:"adopt",date:new Date("2020-08-06")}],key:"docs-like-code",id:"docs-like-code",title:"Docs-like-code",quadrant:"process"}),F.push({timeline:[{ringId:"hold",date:new Date("2020-08-06")}],key:"force-push",id:"force-push",title:"Force push to master",quadrant:"process"}),F.push({timeline:[{ringId:"adopt",date:new Date("2020-08-06"),description:"long description"},{ringId:"trial",date:new Date("2020-07-05"),description:"long description"}],links:[{url:"https://github.com",title:"Learn more"}],key:"github-actions",id:"github-actions",title:"GitHub Actions",quadrant:"infrastructure"});const G={entries:F,quadrants:N,rings:P};class ne{async load(){return G}}const ue=(0,T.NT)({id:"tech-radar"}),he=(0,T.rx)({id:"tech-radar",routes:{root:ue},apis:[(0,T.ni)(rt,new ne)]}).provide((0,T.P4)({name:"TechRadarPage",component:()=>Promise.resolve().then(function(){return B}).then(x=>x.RadarPage),mountPoint:ue})),et=null},16874:function(Ge,Ne,p){p.d(Ne,{CT:function(){return X},EI:function(){return Xe},Vt:function(){return Y},uW:function(){return ke}});var R=p(67294);function T(){return typeof window!="undefined"&&window.Math===Math?window:typeof self!="undefined"&&self.Math===Math?self:Function("return this")()}const b=T(),Q=$=>`__@backstage/${$}__`;function ke($,Me){const ze=Q($);let pe=b[ze];return pe||(pe=Me(),b[ze]=pe,pe)}function Xe($){Object.freeze($);const Me={atVersion(ze){return $[ze]}};return Object.defineProperty(Me,"$map",{configurable:!0,enumerable:!0,get(){return $}}),Me}function X($){return ke($,()=>(0,R.createContext)(void 0))}function Y($){return(0,R.useContext)(X($))}function a($){return{set(Me){globalThis[`__@backstage/${$}__`]=createContext(Xe(Me))},reset(){delete globalThis[`__@backstage/${$}__`]}}}},44202:function(Ge,Ne,p){Ge.exports=p.p+"static/createComponent.975d1e1e..svg"},46139:function(Ge,Ne,p){Ge.exports=p.p+"static/missingAnnotation.67f79e98..svg"},68553:function(Ge,Ne,p){Ge.exports=p.p+"static/noBuild.1715fa71..svg"},91333:function(Ge,Ne,p){Ge.exports=p.p+"static/noInformation.4b426325..svg"},71589:function(Ge,Ne,p){Ge.exports=p.p+"static/mic-drop.fe3ef4d0..svg"}}]);})();

//# sourceMappingURL=module-backstage.96dfb49c.js.map